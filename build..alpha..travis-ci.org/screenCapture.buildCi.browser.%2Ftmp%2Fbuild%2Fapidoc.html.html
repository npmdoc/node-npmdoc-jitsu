<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/nodejitsu/jitsu">jitsu (v0.15.0)</a>
</h1>
<h4>Flawless command line deployment of Node.js apps to the cloud</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu">module jitsu</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.</span>initialized</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.</span>newListener</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.</span>skipAuth</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.</span>started</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.</span>wildcard</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.alias">
            function <span class="apidocSignatureSpan">jitsu.</span>alias
            <span class="apidocSignatureSpan">(target, source)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Apps">
            function <span class="apidocSignatureSpan">jitsu.</span>api.Apps
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Client">
            function <span class="apidocSignatureSpan">jitsu.</span>api.Client
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Databases">
            function <span class="apidocSignatureSpan">jitsu.</span>api.Databases
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Logs">
            function <span class="apidocSignatureSpan">jitsu.</span>api.Logs
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Snapshots">
            function <span class="apidocSignatureSpan">jitsu.</span>api.Snapshots
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Tokens">
            function <span class="apidocSignatureSpan">jitsu.</span>api.Tokens
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Users">
            function <span class="apidocSignatureSpan">jitsu.</span>api.Users
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.auth">
            function <span class="apidocSignatureSpan">jitsu.</span>auth
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.cmd">
            function <span class="apidocSignatureSpan">jitsu.</span>cmd
            <span class="apidocSignatureSpan">(path, handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.exec">
            function <span class="apidocSignatureSpan">jitsu.</span>exec
            <span class="apidocSignatureSpan">(command, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.setup">
            function <span class="apidocSignatureSpan">jitsu.</span>setup
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.showError">
            function <span class="apidocSignatureSpan">jitsu.</span>showError
            <span class="apidocSignatureSpan">(command, err, shallow, skip)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.showHelp">
            function <span class="apidocSignatureSpan">jitsu.</span>showHelp
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.showOptions">
            function <span class="apidocSignatureSpan">jitsu.</span>showOptions
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.start">
            function <span class="apidocSignatureSpan">jitsu.</span>start
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.welcome">
            function <span class="apidocSignatureSpan">jitsu.</span>welcome
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>_conf</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>_events</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>_prompt</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>api</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>api.Apps.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>api.Client.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>api.Databases.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>api.Logs.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>api.Logs.super_.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>api.Snapshots.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>api.Tokens.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>api.Users.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>argv</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>bootstrapper</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>cli</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>commands</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>commands.apps</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>commands.config</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>commands.users</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>common</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>common.directories</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>config</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>initializers</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>initlist</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>listenerTree</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>logFile</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>options</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>package</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>plugins</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>prompt</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>prompt._events</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>prompt.logger</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>router</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.</span>usage</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">jitsu.</span>delimiter</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">jitsu.</span>env</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">jitsu.</span>name</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">jitsu.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api">module jitsu.api</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Apps">
            function <span class="apidocSignatureSpan">jitsu.api.</span>Apps
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Client">
            function <span class="apidocSignatureSpan">jitsu.api.</span>Client
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Databases">
            function <span class="apidocSignatureSpan">jitsu.api.</span>Databases
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Logs">
            function <span class="apidocSignatureSpan">jitsu.api.</span>Logs
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Snapshots">
            function <span class="apidocSignatureSpan">jitsu.api.</span>Snapshots
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Tokens">
            function <span class="apidocSignatureSpan">jitsu.api.</span>Tokens
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Users">
            function <span class="apidocSignatureSpan">jitsu.api.</span>Users
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api.Apps">module jitsu.api.Apps</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Apps.Apps">
            function <span class="apidocSignatureSpan">jitsu.api.</span>Apps
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Apps.super_">
            function <span class="apidocSignatureSpan">jitsu.api.Apps.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api.Apps.prototype">module jitsu.api.Apps.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Apps.prototype.available">
            function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>available
            <span class="apidocSignatureSpan">(app, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Apps.prototype.create">
            function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>create
            <span class="apidocSignatureSpan">(app, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Apps.prototype.datacenter">
            function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>datacenter
            <span class="apidocSignatureSpan">(appName, cloud, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Apps.prototype.destroy">
            function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>destroy
            <span class="apidocSignatureSpan">(appName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Apps.prototype.list">
            function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>list
            <span class="apidocSignatureSpan">(username, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Apps.prototype.restart">
            function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>restart
            <span class="apidocSignatureSpan">(appName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Apps.prototype.setDrones">
            function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>setDrones
            <span class="apidocSignatureSpan">(appName, drones, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Apps.prototype.start">
            function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>start
            <span class="apidocSignatureSpan">(appName, cloud, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Apps.prototype.stop">
            function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>stop
            <span class="apidocSignatureSpan">(appName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Apps.prototype.update">
            function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>update
            <span class="apidocSignatureSpan">(appName, attrs, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Apps.prototype.view">
            function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>view
            <span class="apidocSignatureSpan">(appName, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api.Client">module jitsu.api.Client</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Client.Client">
            function <span class="apidocSignatureSpan">jitsu.api.</span>Client
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Client.super_">
            function <span class="apidocSignatureSpan">jitsu.api.Client.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api.Client.prototype">module jitsu.api.Client.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Client.prototype.cloud">
            function <span class="apidocSignatureSpan">jitsu.api.Client.prototype.</span>cloud
            <span class="apidocSignatureSpan">(options, api, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Client.prototype.defaultUser">
            function <span class="apidocSignatureSpan">jitsu.api.Client.prototype.</span>defaultUser
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Client.prototype.endpoints">
            function <span class="apidocSignatureSpan">jitsu.api.Client.prototype.</span>endpoints
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Client.prototype.request">
            function <span class="apidocSignatureSpan">jitsu.api.Client.prototype.</span>request
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Client.prototype.upload">
            function <span class="apidocSignatureSpan">jitsu.api.Client.prototype.</span>upload
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api.Databases">module jitsu.api.Databases</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Databases.Databases">
            function <span class="apidocSignatureSpan">jitsu.api.</span>Databases
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Databases.super_">
            function <span class="apidocSignatureSpan">jitsu.api.Databases.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api.Databases.prototype">module jitsu.api.Databases.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Databases.prototype.create">
            function <span class="apidocSignatureSpan">jitsu.api.Databases.prototype.</span>create
            <span class="apidocSignatureSpan">(databaseType, databaseName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Databases.prototype.destroy">
            function <span class="apidocSignatureSpan">jitsu.api.Databases.prototype.</span>destroy
            <span class="apidocSignatureSpan">(databaseName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Databases.prototype.get">
            function <span class="apidocSignatureSpan">jitsu.api.Databases.prototype.</span>get
            <span class="apidocSignatureSpan">(databaseName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Databases.prototype.list">
            function <span class="apidocSignatureSpan">jitsu.api.Databases.prototype.</span>list
            <span class="apidocSignatureSpan">(username, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api.Logs">module jitsu.api.Logs</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Logs.Logs">
            function <span class="apidocSignatureSpan">jitsu.api.</span>Logs
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Logs.super_">
            function <span class="apidocSignatureSpan">jitsu.api.Logs.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api.Logs.prototype">module jitsu.api.Logs.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Logs.prototype.byApp">
            function <span class="apidocSignatureSpan">jitsu.api.Logs.prototype.</span>byApp
            <span class="apidocSignatureSpan">(appName, amount, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Logs.prototype.byUser">
            function <span class="apidocSignatureSpan">jitsu.api.Logs.prototype.</span>byUser
            <span class="apidocSignatureSpan">(username, amount, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Logs.prototype.live">
            function <span class="apidocSignatureSpan">jitsu.api.Logs.prototype.</span>live
            <span class="apidocSignatureSpan">(appName, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api.Logs.super_.prototype">module jitsu.api.Logs.super_.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Logs.super_.prototype.defaultUser">
            function <span class="apidocSignatureSpan">jitsu.api.Logs.super_.prototype.</span>defaultUser
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Logs.super_.prototype.getSocket">
            function <span class="apidocSignatureSpan">jitsu.api.Logs.super_.prototype.</span>getSocket
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Logs.super_.prototype.request">
            function <span class="apidocSignatureSpan">jitsu.api.Logs.super_.prototype.</span>request
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api.Snapshots">module jitsu.api.Snapshots</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Snapshots.Snapshots">
            function <span class="apidocSignatureSpan">jitsu.api.</span>Snapshots
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Snapshots.super_">
            function <span class="apidocSignatureSpan">jitsu.api.Snapshots.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api.Snapshots.prototype">module jitsu.api.Snapshots.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Snapshots.prototype.activate">
            function <span class="apidocSignatureSpan">jitsu.api.Snapshots.prototype.</span>activate
            <span class="apidocSignatureSpan">(appName, snapshotName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Snapshots.prototype.create">
            function <span class="apidocSignatureSpan">jitsu.api.Snapshots.prototype.</span>create
            <span class="apidocSignatureSpan">(appName, snapshotName, filename, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Snapshots.prototype.destroy">
            function <span class="apidocSignatureSpan">jitsu.api.Snapshots.prototype.</span>destroy
            <span class="apidocSignatureSpan">(appName, snapshotName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Snapshots.prototype.fetch">
            function <span class="apidocSignatureSpan">jitsu.api.Snapshots.prototype.</span>fetch
            <span class="apidocSignatureSpan">(appName, snapshotName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Snapshots.prototype.list">
            function <span class="apidocSignatureSpan">jitsu.api.Snapshots.prototype.</span>list
            <span class="apidocSignatureSpan">(appName, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api.Tokens">module jitsu.api.Tokens</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Tokens.Tokens">
            function <span class="apidocSignatureSpan">jitsu.api.</span>Tokens
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Tokens.super_">
            function <span class="apidocSignatureSpan">jitsu.api.Tokens.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api.Tokens.prototype">module jitsu.api.Tokens.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Tokens.prototype.create">
            function <span class="apidocSignatureSpan">jitsu.api.Tokens.prototype.</span>create
            <span class="apidocSignatureSpan">(username, tokenID, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Tokens.prototype.destroy">
            function <span class="apidocSignatureSpan">jitsu.api.Tokens.prototype.</span>destroy
            <span class="apidocSignatureSpan">(username, tokenID, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Tokens.prototype.list">
            function <span class="apidocSignatureSpan">jitsu.api.Tokens.prototype.</span>list
            <span class="apidocSignatureSpan">(username, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api.Users">module jitsu.api.Users</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Users.Users">
            function <span class="apidocSignatureSpan">jitsu.api.</span>Users
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Users.super_">
            function <span class="apidocSignatureSpan">jitsu.api.Users.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.api.Users.prototype">module jitsu.api.Users.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Users.prototype.auth">
            function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>auth
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Users.prototype.available">
            function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>available
            <span class="apidocSignatureSpan">(username, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Users.prototype.confirm">
            function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>confirm
            <span class="apidocSignatureSpan">(user, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Users.prototype.create">
            function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>create
            <span class="apidocSignatureSpan">(user, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Users.prototype.destroy">
            function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>destroy
            <span class="apidocSignatureSpan">(username, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Users.prototype.emailTaken">
            function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>emailTaken
            <span class="apidocSignatureSpan">(email, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Users.prototype.forgot">
            function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>forgot
            <span class="apidocSignatureSpan">(username, params, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Users.prototype.update">
            function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>update
            <span class="apidocSignatureSpan">(username, object, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.api.Users.prototype.view">
            function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>view
            <span class="apidocSignatureSpan">(username, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.bootstrapper">module jitsu.bootstrapper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.bootstrapper.bootstrap">
            function <span class="apidocSignatureSpan">jitsu.bootstrapper.</span>bootstrap
            <span class="apidocSignatureSpan">(app)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.bootstrapper.init">
            function <span class="apidocSignatureSpan">jitsu.bootstrapper.</span>init
            <span class="apidocSignatureSpan">(app, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.commands">module jitsu.commands</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.cloud">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>cloud
            <span class="apidocSignatureSpan">(name, provider, datacenter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.conf">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>conf
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.d">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>d
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.deploy">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>deploy
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.destroy">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>destroy
            <span class="apidocSignatureSpan">(name, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.forgot">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>forgot
            <span class="apidocSignatureSpan">(username, shake, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.l">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>l
            <span class="apidocSignatureSpan">(username, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.list">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>list
            <span class="apidocSignatureSpan">(username, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.login">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>login
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.logout">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>logout
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.ls">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>ls
            <span class="apidocSignatureSpan">(username, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.publish">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>publish
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.push">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>push
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.restart">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>restart
            <span class="apidocSignatureSpan">(name, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.signup">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>signup
            <span class="apidocSignatureSpan">(username, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.start">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>start
            <span class="apidocSignatureSpan">(name, cloud, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.stop">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>stop
            <span class="apidocSignatureSpan">(name, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.v">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>v
            <span class="apidocSignatureSpan">(name, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.view">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>view
            <span class="apidocSignatureSpan">(name, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.whoami">
            function <span class="apidocSignatureSpan">jitsu.commands.</span>whoami
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.commands.</span>apps</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.commands.</span>config</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.commands.</span>users</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.commands.apps">module jitsu.commands.apps</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.apps.browse">
            function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>browse
            <span class="apidocSignatureSpan">(name, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.apps.cloud">
            function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>cloud
            <span class="apidocSignatureSpan">(name, provider, datacenter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.apps.create">
            function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>create
            <span class="apidocSignatureSpan">(target, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.apps.deploy">
            function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>deploy
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.apps.destroy">
            function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>destroy
            <span class="apidocSignatureSpan">(name, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.apps.list">
            function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>list
            <span class="apidocSignatureSpan">(username, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.apps.restart">
            function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>restart
            <span class="apidocSignatureSpan">(name, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.apps.setdrones">
            function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>setdrones
            <span class="apidocSignatureSpan">(name, number, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.apps.start">
            function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>start
            <span class="apidocSignatureSpan">(name, cloud, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.apps.stop">
            function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>stop
            <span class="apidocSignatureSpan">(name, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.apps.update">
            function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>update
            <span class="apidocSignatureSpan">(name, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.apps.view">
            function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>view
            <span class="apidocSignatureSpan">(name, callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.commands.apps.</span>usage</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.commands.config">module jitsu.commands.config</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.config.delete">
            function <span class="apidocSignatureSpan">jitsu.commands.config.</span>delete
            <span class="apidocSignatureSpan">(key, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.config.get">
            function <span class="apidocSignatureSpan">jitsu.commands.config.</span>get
            <span class="apidocSignatureSpan">(key, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.config.list">
            function <span class="apidocSignatureSpan">jitsu.commands.config.</span>list
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.config.set">
            function <span class="apidocSignatureSpan">jitsu.commands.config.</span>set
            <span class="apidocSignatureSpan">(key, value, callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.commands.config.</span>usage</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.commands.users">module jitsu.commands.users</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.users.available">
            function <span class="apidocSignatureSpan">jitsu.commands.users.</span>available
            <span class="apidocSignatureSpan">(username, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.users.changepassword">
            function <span class="apidocSignatureSpan">jitsu.commands.users.</span>changepassword
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.users.create">
            function <span class="apidocSignatureSpan">jitsu.commands.users.</span>create
            <span class="apidocSignatureSpan">(username, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.users.delete">
            function <span class="apidocSignatureSpan">jitsu.commands.users.</span>delete
            <span class="apidocSignatureSpan">(username, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.users.forgot">
            function <span class="apidocSignatureSpan">jitsu.commands.users.</span>forgot
            <span class="apidocSignatureSpan">(username, shake, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.users.login">
            function <span class="apidocSignatureSpan">jitsu.commands.users.</span>login
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.users.logout">
            function <span class="apidocSignatureSpan">jitsu.commands.users.</span>logout
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.commands.users.whoami">
            function <span class="apidocSignatureSpan">jitsu.commands.users.</span>whoami
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.commands.users.</span>usage</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.common">module jitsu.common</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common._errnoException">
            function <span class="apidocSignatureSpan">jitsu.common.</span>_errnoException
            <span class="apidocSignatureSpan">(err, syscall, original)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common._exceptionWithHostPort">
            function <span class="apidocSignatureSpan">jitsu.common.</span>_exceptionWithHostPort
            <span class="apidocSignatureSpan">(err, syscall, address, port, additional)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common._extend">
            function <span class="apidocSignatureSpan">jitsu.common.</span>_extend
            <span class="apidocSignatureSpan">(target, source)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.camelToUnderscore">
            function <span class="apidocSignatureSpan">jitsu.common.</span>camelToUnderscore
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.capitalize">
            function <span class="apidocSignatureSpan">jitsu.common.</span>capitalize
            <span class="apidocSignatureSpan">(lower_case_and_underscored_word, first_letter_in_uppercase)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.checkVersion">
            function <span class="apidocSignatureSpan">jitsu.common.</span>checkVersion
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.clone">
            function <span class="apidocSignatureSpan">jitsu.common.</span>clone
            <span class="apidocSignatureSpan">(object, filter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.createPath">
            function <span class="apidocSignatureSpan">jitsu.common.</span>createPath
            <span class="apidocSignatureSpan">(obj, path, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.debug">
            function <span class="apidocSignatureSpan">jitsu.common.</span>debug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.debuglog">
            function <span class="apidocSignatureSpan">jitsu.common.</span>debuglog
            <span class="apidocSignatureSpan">(set)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.deprecate">
            function <span class="apidocSignatureSpan">jitsu.common.</span>deprecate
            <span class="apidocSignatureSpan">(fn, msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.each">
            function <span class="apidocSignatureSpan">jitsu.common.</span>each
            <span class="apidocSignatureSpan">(obj, iterator)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.error">
            function <span class="apidocSignatureSpan">jitsu.common.</span>error
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.escapeRegExp">
            function <span class="apidocSignatureSpan">jitsu.common.</span>escapeRegExp
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.filter">
            function <span class="apidocSignatureSpan">jitsu.common.</span>filter
            <span class="apidocSignatureSpan">(obj, pred)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.find">
            function <span class="apidocSignatureSpan">jitsu.common.</span>find
            <span class="apidocSignatureSpan">(obj, pred)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.formatApp">
            function <span class="apidocSignatureSpan">jitsu.common.</span>formatApp
            <span class="apidocSignatureSpan">(app, exclude)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.formatAppState">
            function <span class="apidocSignatureSpan">jitsu.common.</span>formatAppState
            <span class="apidocSignatureSpan">(state)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.inherits">
            function <span class="apidocSignatureSpan">jitsu.common.</span>inherits
            <span class="apidocSignatureSpan">(ctor, superCtor)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.inspect">
            function <span class="apidocSignatureSpan">jitsu.common.</span>inspect
            <span class="apidocSignatureSpan">(obj, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.isArray">
            function <span class="apidocSignatureSpan">jitsu.common.</span>isArray
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.isBoolean">
            function <span class="apidocSignatureSpan">jitsu.common.</span>isBoolean
            <span class="apidocSignatureSpan">(arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.isBuffer">
            function <span class="apidocSignatureSpan">jitsu.common.</span>isBuffer
            <span class="apidocSignatureSpan">(b)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.isDate">
            function <span class="apidocSignatureSpan">jitsu.common.</span>isDate
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.isError">
            function <span class="apidocSignatureSpan">jitsu.common.</span>isError
            <span class="apidocSignatureSpan">(e)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.isFunction">
            function <span class="apidocSignatureSpan">jitsu.common.</span>isFunction
            <span class="apidocSignatureSpan">(arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.isNull">
            function <span class="apidocSignatureSpan">jitsu.common.</span>isNull
            <span class="apidocSignatureSpan">(arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.isNullOrUndefined">
            function <span class="apidocSignatureSpan">jitsu.common.</span>isNullOrUndefined
            <span class="apidocSignatureSpan">(arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.isNumber">
            function <span class="apidocSignatureSpan">jitsu.common.</span>isNumber
            <span class="apidocSignatureSpan">(arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.isObject">
            function <span class="apidocSignatureSpan">jitsu.common.</span>isObject
            <span class="apidocSignatureSpan">(arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.isPrimitive">
            function <span class="apidocSignatureSpan">jitsu.common.</span>isPrimitive
            <span class="apidocSignatureSpan">(arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.isRegExp">
            function <span class="apidocSignatureSpan">jitsu.common.</span>isRegExp
            <span class="apidocSignatureSpan">(re)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.isString">
            function <span class="apidocSignatureSpan">jitsu.common.</span>isString
            <span class="apidocSignatureSpan">(arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.isSymbol">
            function <span class="apidocSignatureSpan">jitsu.common.</span>isSymbol
            <span class="apidocSignatureSpan">(arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.isUndefined">
            function <span class="apidocSignatureSpan">jitsu.common.</span>isUndefined
            <span class="apidocSignatureSpan">(arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.log">
            function <span class="apidocSignatureSpan">jitsu.common.</span>log
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.missingKeys">
            function <span class="apidocSignatureSpan">jitsu.common.</span>missingKeys
            <span class="apidocSignatureSpan">(source, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.mixin">
            function <span class="apidocSignatureSpan">jitsu.common.</span>mixin
            <span class="apidocSignatureSpan">(target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.objectDiff">
            function <span class="apidocSignatureSpan">jitsu.common.</span>objectDiff
            <span class="apidocSignatureSpan">(current, update, level)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.pad">
            function <span class="apidocSignatureSpan">jitsu.common.</span>pad
            <span class="apidocSignatureSpan">(str, len, chr)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.path">
            function <span class="apidocSignatureSpan">jitsu.common.</span>path
            <span class="apidocSignatureSpan">(obj, path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.print">
            function <span class="apidocSignatureSpan">jitsu.common.</span>print
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.puts">
            function <span class="apidocSignatureSpan">jitsu.common.</span>puts
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.randomString">
            function <span class="apidocSignatureSpan">jitsu.common.</span>randomString
            <span class="apidocSignatureSpan">(length)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.rargs">
            function <span class="apidocSignatureSpan">jitsu.common.</span>rargs
            <span class="apidocSignatureSpan">(_args, slice)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.requireDir">
            function <span class="apidocSignatureSpan">jitsu.common.</span>requireDir
            <span class="apidocSignatureSpan">(directory)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.requireDirLazy">
            function <span class="apidocSignatureSpan">jitsu.common.</span>requireDirLazy
            <span class="apidocSignatureSpan">(directory)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.templateUsage">
            function <span class="apidocSignatureSpan">jitsu.common.</span>templateUsage
            <span class="apidocSignatureSpan">(app, commands)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.tryReaddirSync">
            function <span class="apidocSignatureSpan">jitsu.common.</span>tryReaddirSync
            <span class="apidocSignatureSpan">(dir)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.underscoreToCamel">
            function <span class="apidocSignatureSpan">jitsu.common.</span>underscoreToCamel
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.uuid">
            function <span class="apidocSignatureSpan">jitsu.common.</span>uuid
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.common.</span>directories</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.common.directories">module jitsu.common.directories</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.directories.create">
            function <span class="apidocSignatureSpan">jitsu.common.directories.</span>create
            <span class="apidocSignatureSpan">(dirs, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.directories.normalize">
            function <span class="apidocSignatureSpan">jitsu.common.directories.</span>normalize
            <span class="apidocSignatureSpan">(keys, dirs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.common.directories.remove">
            function <span class="apidocSignatureSpan">jitsu.common.directories.</span>remove
            <span class="apidocSignatureSpan">(dirs, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.config">module jitsu.config</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.config.load">
            function <span class="apidocSignatureSpan">jitsu.config.</span>load
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.config.</span>sources</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.config.</span>stores</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.initializers">module jitsu.initializers</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.initializers.</span>cli-config</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.initializers.</span>cli-users</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.initializers.cli">
            function <span class="apidocSignatureSpan">jitsu.initializers.</span>cli
            <span class="apidocSignatureSpan">(done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.initializers.inspect">
            function <span class="apidocSignatureSpan">jitsu.initializers.</span>inspect
            <span class="apidocSignatureSpan">(done)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.package">module jitsu.package</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.package.analyzeDependencies">
            function <span class="apidocSignatureSpan">jitsu.package.</span>analyzeDependencies
            <span class="apidocSignatureSpan">(pkg, dir, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.package.available">
            function <span class="apidocSignatureSpan">jitsu.package.</span>available
            <span class="apidocSignatureSpan">(pkg, dir, callback, createPackage)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.package.create">
            function <span class="apidocSignatureSpan">jitsu.package.</span>create
            <span class="apidocSignatureSpan">(dir, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.package.createTarball">
            function <span class="apidocSignatureSpan">jitsu.package.</span>createTarball
            <span class="apidocSignatureSpan">(dir, version, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.package.get">
            function <span class="apidocSignatureSpan">jitsu.package.</span>get
            <span class="apidocSignatureSpan">(dir, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.package.newDependencies">
            function <span class="apidocSignatureSpan">jitsu.package.</span>newDependencies
            <span class="apidocSignatureSpan">(current, updated)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.package.properties">
            function <span class="apidocSignatureSpan">jitsu.package.</span>properties
            <span class="apidocSignatureSpan">(dir)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.package.read">
            function <span class="apidocSignatureSpan">jitsu.package.</span>read
            <span class="apidocSignatureSpan">(dir, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.package.runScript">
            function <span class="apidocSignatureSpan">jitsu.package.</span>runScript
            <span class="apidocSignatureSpan">(pkg, action, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.package.tryRead">
            function <span class="apidocSignatureSpan">jitsu.package.</span>tryRead
            <span class="apidocSignatureSpan">(dir, callback, success)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.package.updateTarball">
            function <span class="apidocSignatureSpan">jitsu.package.</span>updateTarball
            <span class="apidocSignatureSpan">(version, pkg, existing, firstSnapshot, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.package.validate">
            function <span class="apidocSignatureSpan">jitsu.package.</span>validate
            <span class="apidocSignatureSpan">(pkg, dir, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.package.write">
            function <span class="apidocSignatureSpan">jitsu.package.</span>write
            <span class="apidocSignatureSpan">(pkg, dir, create, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.prompt">module jitsu.prompt</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.prompt.</span>allowEmpty</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.prompt.</span>colors</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.prompt.</span>paused</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.prompt.</span>started</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt._performValidation">
            function <span class="apidocSignatureSpan">jitsu.prompt.</span>_performValidation
            <span class="apidocSignatureSpan">(name, prop, against, schema, line, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt._remember">
            function <span class="apidocSignatureSpan">jitsu.prompt.</span>_remember
            <span class="apidocSignatureSpan">(property, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.addProperties">
            function <span class="apidocSignatureSpan">jitsu.prompt.</span>addProperties
            <span class="apidocSignatureSpan">(obj, properties, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.confirm">
            function <span class="apidocSignatureSpan">jitsu.prompt.</span>confirm
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.get">
            function <span class="apidocSignatureSpan">jitsu.prompt.</span>get
            <span class="apidocSignatureSpan">(schema, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.getInput">
            function <span class="apidocSignatureSpan">jitsu.prompt.</span>getInput
            <span class="apidocSignatureSpan">(prop, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.history">
            function <span class="apidocSignatureSpan">jitsu.prompt.</span>history
            <span class="apidocSignatureSpan">(search)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.pause">
            function <span class="apidocSignatureSpan">jitsu.prompt.</span>pause
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.resume">
            function <span class="apidocSignatureSpan">jitsu.prompt.</span>resume
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.start">
            function <span class="apidocSignatureSpan">jitsu.prompt.</span>start
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">jitsu.prompt.</span>_eventsCount</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">jitsu.prompt.</span>memory</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.prompt.</span>_events</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.prompt.</span>logger</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.prompt.</span>override</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.prompt.</span>properties</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">jitsu.prompt.</span>delimiter</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">jitsu.prompt.</span>message</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.prompt._events">module jitsu.prompt._events</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt._events.invalid">
            function <span class="apidocSignatureSpan">jitsu.prompt._events.</span>invalid
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt._events.pause">
            function <span class="apidocSignatureSpan">jitsu.prompt._events.</span>pause
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt._events.prompt">
            function <span class="apidocSignatureSpan">jitsu.prompt._events.</span>prompt
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt._events.resume">
            function <span class="apidocSignatureSpan">jitsu.prompt._events.</span>resume
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt._events.start">
            function <span class="apidocSignatureSpan">jitsu.prompt._events.</span>start
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.prompt.logger">module jitsu.prompt.logger</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>emitErrs</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>exitOnError</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>padLevels</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>stripColors</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.logger.data">
            function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>data
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.logger.debug">
            function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>debug
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.logger.error">
            function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>error
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.logger.help">
            function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>help
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.logger.info">
            function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>info
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.logger.input">
            function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>input
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.logger.prompt">
            function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>prompt
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.logger.silly">
            function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>silly
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.logger.verbose">
            function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>verbose
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.prompt.logger.warn">
            function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>warn
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>_eventsCount</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>levelLength</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>_events</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>_hnames</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>_names</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>domain</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>exceptionHandlers</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>levels</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>profilers</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>rewriters</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>transports</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>level</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jitsu.router">module jitsu.router</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.router.</span>async</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.router.</span>history</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.router.</span>recurse</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.router.</span>run_in_init</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jitsu.router.</span>strict</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jitsu.router.notfound">
            function <span class="apidocSignatureSpan">jitsu.router.</span>notfound
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.router.</span>_methods</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.router.</span>every</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.router.</span>methods</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.router.</span>params</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.router.</span>routes</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jitsu.router.</span>scope</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">jitsu.router.</span>delimiter</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu" id="apidoc.module.jitsu">module jitsu</a></h1>












    <h2>
        <a href="#apidoc.element.jitsu.alias" id="apidoc.element.jitsu.alias">
        function <span class="apidocSignatureSpan">jitsu.</span>alias
        <span class="apidocSignatureSpan">(target, source)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">alias = function (target, source) {
  app.commands.__defineGetter__(target, function () {

    var resource = source.resource || source.command || source,
        command = source.resource ? source.command : null;

    loadCommand(resource, command, true);
    resource = app.commands[resource];

    if (resource) {
      return source.resource &amp;&amp; source.command
        ? resource[source.command]
        : resource;
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */

var jitsu = require('../jitsu');

//
// Alias the appropriate commands for simplier CLI usage
//
jitsu.<span class="apidocCodeKeywordSpan">alias</span>('cloud',   { resource: 'apps',   command: 'cloud
' });
jitsu.alias('destroy', { resource: 'apps',   command: 'destroy' });
jitsu.alias('deploy',  { resource: 'apps',   command: 'deploy' });
jitsu.alias('publish', { resource: 'apps',   command: 'deploy' });
jitsu.alias('d',       { resource: 'apps',   command: 'deploy' });
jitsu.alias('push',    { resource: 'apps',   command: 'deploy' });
jitsu.alias('list',    { resource: 'apps',   command: 'list' });
jitsu.alias('ls',      { resource: 'apps',   command: 'list' });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Apps" id="apidoc.element.jitsu.api.Apps">
        function <span class="apidocSignatureSpan">jitsu.</span>api.Apps
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">api.Apps = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Client" id="apidoc.element.jitsu.api.Client">
        function <span class="apidocSignatureSpan">jitsu.</span>api.Client
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">api.Client = function (options) {
  this.clouds = {};
  this.datacenters = {};
  this.options = options;
  this._request = request;

  if (typeof this.options.get !== 'function') {
    this.options.get = function (key) {
      return this[key];
    };
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Databases" id="apidoc.element.jitsu.api.Databases">
        function <span class="apidocSignatureSpan">jitsu.</span>api.Databases
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">api.Databases = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Logs" id="apidoc.element.jitsu.api.Logs">
        function <span class="apidocSignatureSpan">jitsu.</span>api.Logs
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">api.Logs = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Snapshots" id="apidoc.element.jitsu.api.Snapshots">
        function <span class="apidocSignatureSpan">jitsu.</span>api.Snapshots
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">api.Snapshots = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Tokens" id="apidoc.element.jitsu.api.Tokens">
        function <span class="apidocSignatureSpan">jitsu.</span>api.Tokens
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">api.Tokens = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Users" id="apidoc.element.jitsu.api.Users">
        function <span class="apidocSignatureSpan">jitsu.</span>api.Users
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">api.Users = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.auth" id="apidoc.element.jitsu.auth">
        function <span class="apidocSignatureSpan">jitsu.</span>auth
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">auth = function (callback) {
  if (app.skipAuth) {
    return callback();
  }

  var username = app.config.get('username');
  app.log.silly('Attempting to authenticate as ' + username.magenta);
  app.users.auth(function (err, success) {
    if (err || !success) {
      app.log.error('Unable to Authenticate as ' + username.magenta);
      app.log.error(err.message);
      return callback(err);
    }

    app.skipAuth = true;
    app.log.info('Authenticated as ' + username.magenta);
    return callback();
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  '',
  '    $ redis-cli -h ' + server + ' -p ' + port + ' -a ' + password,
  '',
  'Connect with the `' + 'redis'.magenta + '` module:',
  '',
  '    var redis = require(\'redis\');',
  '    var client = redis.createClient(' + port + ', \'' + server + '\');',
  '    client.<span class="apidocCodeKeywordSpan">auth</span>(\'' + password + '\', function (err) {'
;,
  '      if (err) { throw err; }',
  '      // You are now connected to your redis.',
  '    });',
  '',
].forEach(printHelp);

break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.cmd" id="apidoc.element.jitsu.cmd">
        function <span class="apidocSignatureSpan">jitsu.</span>cmd
        <span class="apidocSignatureSpan">(path, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cmd = function (path, handler) {
  app.router.on(path, handler);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.exec" id="apidoc.element.jitsu.exec">
        function <span class="apidocSignatureSpan">jitsu.</span>exec
        <span class="apidocSignatureSpan">(command, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exec = function (command, callback) {
  function execCommand (err) {
    if (err) {
      return callback(err);
    }

    //
    // Remark: This is a temporary fix for aliasing init=&gt;install,
    // was having a few issues with the alias command on the install resource
    //
    if (command[0] === 'init') {
      command[0] = 'install';
    }

    // Alias db to databases
    if (command[0] === 'db' || command[0] === 'dbs' || command[0] === 'database') {
      command[0] = 'databases';
    }

    // Allow `jitsu logs` as a shortcut for `jitsu logs app`
    if (command[0] === 'logs' &amp;&amp; command.length === 1) {
      command[1] = 'app';
    }

    // Allow `jitsu host` as a shortcut for `jitsu config set remoteHost`
    if (command[0] === 'host' &amp;&amp; command.length === 2) {
      command[3] = command[1];
      command[0] = 'config';
      command[1] = 'set';
      command[2] = 'remoteHost';
    }

    //
    // Prevent sign-ups on our alias as well as on the regular route.
    //
    if (command[0] === 'signup' || command[0] === 'users' &amp;&amp; command[1] === 'create') {
      godaddy.disabled(jitsu, command.join(' '));
      return callback(new Error('Signup is disabled'));
    }

    jitsu.log.info('Executing command ' + command.join(' ').magenta);
    jitsu.router.dispatch('on', command.join(' '), jitsu.log, function (err, shallow) {
      if (err) {
        jitsu.showError(command.join(' '), err, shallow);
        return callback(err);
      }

      //
      // TODO (indexzero): Something here
      //
      callback();
    });
  }

  return !jitsu.started ? jitsu.setup(execCommand) : execCommand();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
          if (err) {
            jitsu.showError(jitsu.argv._.join(' '), err);
            return callback(err);
          }

          var username = jitsu.config.get('username');
          jitsu.log.info('Successfully configured user ' + username.magenta);
          return jitsu.<span class="apidocCodeKeywordSpan">exec</span>(jitsu.argv._, callback);
        });
      }
      return jitsu.exec(jitsu.argv._, callback);
    });
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.setup" id="apidoc.element.jitsu.setup">
        function <span class="apidocSignatureSpan">jitsu.</span>setup
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setup = function (callback) {
  if (jitsu.started === true) {
    return callback();
  }

  var rejectUnauthorized = jitsu.config.get('rejectUnauthorized');
  if (typeof rejectUnauthorized === 'undefined') {
    jitsu.config.set('rejectUnauthorized', false);
  }

  var userAgent = jitsu.config.get('headers:user-agent');
  if (!userAgent) {
    jitsu.config.set('headers:user-agent', 'jitsu/' + jitsu.version);
  }

  ['Users', 'Apps', 'Snapshots', 'Databases', 'Logs', 'Tokens'].forEach(function (key) {
    var k = key.toLowerCase();
    jitsu[k] = new jitsu.api[key](jitsu.config);
    jitsu[k].on('debug::request',  debug);
    jitsu[k].on('debug::response', debug);
    function debug (data) {
      if (jitsu.argv.debug || jitsu.config.get('debug')) {
        if (data.headers &amp;&amp; data.headers['Authorization']) {
          data = JSON.parse(JSON.stringify(data));
          data.headers['Authorization'] = Array(data.headers['Authorization'].length).join('*');
        }

        util.inspect(data, false, null, true).split('\n').forEach(jitsu.log.debug);
      }
    };
  });

  jitsu.started = true;
  callback();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      //
      // TODO (indexzero): Something here
      //
      callback();
    });
  }

  return !jitsu.started ? jitsu.<span class="apidocCodeKeywordSpan">setup</span>(execCommand) : execCommand();
};

//
// ### function setup (callback)
// #### @callback {function} Continuation to pass control to when complete.
// Sets up the instances of the Resource clients for jitsu.
// there is no io here, yet this function is ASYNC.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.showError" id="apidoc.element.jitsu.showError">
        function <span class="apidocSignatureSpan">jitsu.</span>showError
        <span class="apidocSignatureSpan">(command, err, shallow, skip)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">showError = function (command, err, shallow, skip) {
  var username,
      display,
      errors,
      stack;

  //
  // ### function unknownError(message, stack)
  // Displays an unknown error by dumping the call `stack`
  // and a given `message`.
  //
  function unknownError(message, stack) {
    jitsu.log.error(message);
    stack.split('\n').forEach(function (line) {
      jitsu.log.error(line);
    })
  }

  //
  // ### function solenoidError(display)
  // Displays a "solenoid" error.
  //
  function solenoidError(display) {
    jitsu.log.error('Error starting application. This could be a user error.');
    display.solenoid.split('\n').forEach(function (line) {
      jitsu.log.error(line);
    });
  }

  //
  // ### function appError(display)
  // Displays an "application" error.
  //
  function appError(display) {
    if (display.output) {
      jitsu.log.error('Error output from application. This is usually a user error.');
      display.output.split('\n').forEach(function (line) {
        jitsu.log.error(line);
      })
    }

    return !display.solenoid
      ? unknownError(display.message, display.stack)
      : solenoidError(display);
  }

  if (err.statusCode === 403) {
    //jitsu.log.error('403 ' + err.result.error);
  }
  else if (err.statusCode === 503) {
    if (err.result &amp;&amp; err.result.message) {
      jitsu.log.error(err.result.message);
    }
    else {
      jitsu.log.error('The Nodejitsu cloud is currently at capacity.  Please try again later.');
    }
  }
  else if (!skip) {
    jitsu.log.error('Error running command ' + command.magenta);
    if (!jitsu.config.get('nolog')) {
      jitsu.logFile.log(err);
    }

    if (err.result) {
      if (err.result.message) {
        jitsu.log.error(err.result.message);
      }

      if (err.result.error &amp;&amp; typeof err.result.error == 'string') {
        if (~err.result.error.indexOf('matching versions')) {
          jitsu.log.error(err.result.error);
          jitsu.log.error("Do not use a specific engine version, try a generic one (eg: 0.8.x or 0.10.x)");
        } else {
          jitsu.log.error(err.result.error);
        }
      }

      if (err.result.errors &amp;&amp; Array.isArray(err.result.errors)) {
        errors = {
          connection: err.result.errors.filter(function (err) {
            return err.blame === 'connection';
          }),
          application: err.result.errors.filter(function (err) {
            return err.blame === 'application';
          }),
          solenoid: err.result.errors.filter(function (err) {
            return err.blame === 'solenoid';
          })
        };

        if (errors.application.length) {
          return appError(errors.application[0]);
        }
        else if (errors.solenoid.length) {
          return solenoidError(errors.solenoid[0])
        }

        return errors.connection.length
          ? unknownError('Error contacting drone(s):', errors.connection[0].stack)
          : unknownError('Error returned from Nodejitsu:', err.result.errors[0].stack);
      }
      else if (err.result.stack) {
        return unknownError('Error returned from Nodejitsu:', err.result.stack);
      }
    }
    else {
      if (err.stack &amp;&amp; !shallow) {
        if (err.message &amp;&amp; err.message === 'socket hang up' &amp;&amp; err.code &amp;&amp; err.code === 'ECONNRESET') {
          jitsu.log.info('The nodejitsu api reset the connection');
          jitsu.log.help('This error may be due to the application or the drone server');
        } else if (err.message &amp;&amp; err.message === 'ETIMEDOUT'){
          jitsu.log.info(
            'jitsu\'s client request timed out before the server ' +
            'could respond. Please increase your client timeout');
          jitsu.log.help('(Example: `jitsu config set timeout 480000`)');
          jitsu.log.help('This error may be due to network connection problems');
        } else {
          err.stack.split('\n').forEach(function (trace) {
            jitsu.log.error(trace);
          });
        }

        return;
      }
    }

    if (err.message) {
      jitsu.log.error(err.message);
    }
  }

  jitsu.log.help ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
console.log(jitsu.config.get('username') || '');
return;
  }

  jitsu.init(function (err) {
if (err) {
  jitsu.welcome();
  jitsu.<span class="apidocCodeKeywordSpan">showError</span>(jitsu.argv._.join(' '), err);
  return callback(err);
}

jitsu.common.checkVersion(function (err) {
  if (err) {
    return callback();
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.showHelp" id="apidoc.element.jitsu.showHelp">
        function <span class="apidocSignatureSpan">jitsu.</span>showHelp
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function showHelp() {
  var args = Array.prototype.slice.call(arguments).filter(Boolean),
      callback = typeof args[args.length - 1] === 'function' &amp;&amp; args.pop(),
      resource,
      usage;

  function displayAndRespond(found) {
    showUsage(usage || app.usage);
    if (!found) {
      app.log.warn('Cannot find help for ' + args.join(' ').magenta);
    }

    if (callback) {
      callback();
    }
  }

  if (!loadCommand(args[0], args[1], true)) {
    return displayAndRespond(false);
  }

  resource = app.commands[args[0]];
  usage = resource.usage;

  for (var i = 1; i &lt; args.length; i++) {
    if (!resource[args[i]]) {
      return displayAndRespond(false);
    }
    else if (resource[args[i]].usage) {
      resource = resource[args[i]];
      usage = resource.usage;
    }
  }

  displayAndRespond(true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.showOptions" id="apidoc.element.jitsu.showOptions">
        function <span class="apidocSignatureSpan">jitsu.</span>showOptions
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">showOptions = function () {
    var keys = Object.keys(
        Object.keys(descriptions)
        .concat(Object.keys(demanded))
        .concat(Object.keys(options.default))
        .reduce(function (acc, key) {
            if (key !== '_') acc[key] = true;
            return acc;
        }, {})
    );

    var help = keys.length ? [ 'Options:' ] : [];

    if (usage) {
        help.unshift(usage.replace(/\$0/g, self.$0), '');
    }

    var switches = keys.reduce(function (acc, key) {
        acc[key] = [ key ].concat(options.alias[key] || [])
            .map(function (sw) {
                return (sw.length &gt; 1 ? '--' : '-') + sw
            })
            .join(', ')
        ;
        return acc;
    }, {});

    var switchlen = longest(Object.keys(switches).map(function (s) {
        return switches[s] || '';
    }));

    var desclen = longest(Object.keys(descriptions).map(function (d) {
        return descriptions[d] || '';
    }));

    keys.forEach(function (key) {
        var kswitch = switches[key];
        var desc = descriptions[key] || '';

        if (wrap) {
            desc = wordwrap(switchlen + 4, wrap)(desc)
                .slice(switchlen + 4)
            ;
        }

        var spadding = new Array(
            Math.max(switchlen - kswitch.length + 3, 0)
        ).join(' ');

        var dpadding = new Array(
            Math.max(desclen - desc.length + 1, 0)
        ).join(' ');

        var type = null;

        if (options.boolean[key]) type = '[boolean]';
        if (options.string[key]) type = '[string]';

        if (!wrap &amp;&amp; dpadding.length &gt; 0) {
            desc += dpadding;
        }

        var prelude = '  ' + kswitch + spadding;
        var extra = [
            type,
            demanded[key]
                ? '[required]'
                : null
            ,
            options.default[key] !== undefined
                ? '[default: ' + JSON.stringify(options.default[key]) + ']'
                : null
            ,
        ].filter(Boolean).join('  ');

        var body = [ desc, extra ].filter(Boolean).join('  ');

        if (wrap) {
            var dlines = desc.split('\n');
            var dlen = dlines.slice(-1)[0].length
                + (dlines.length === 1 ? prelude.length : 0)

            body = desc + (dlen + extra.length &gt; wrap - 2
                ? '\n'
                    + new Array(wrap - extra.length + 1).join(' ')
                    + extra
                : new Array(wrap - extra.length - dlen + 1).join(' ')
                    + extra
            );
        }

        help.push(prelude + body);
    });

    help.push('');
    return help.join('\n');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.start" id="apidoc.element.jitsu.start">
        function <span class="apidocSignatureSpan">jitsu.</span>start
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (callback) {
  //
  // Check for --no-colors/--colors option, without hitting the config file
  // yet
  //
  var useColors = (typeof jitsu.argv.colors == 'undefined' || jitsu.argv.colors);

  useColors || (colors.mode = "none");

  //
  // whoami command should not output anything but username
  //
  if (jitsu.argv._[0] === "whoami") {
    console.log(jitsu.config.get('username') || '');
    return;
  }

  jitsu.init(function (err) {
    if (err) {
      jitsu.welcome();
      jitsu.showError(jitsu.argv._.join(' '), err);
      return callback(err);
    }

    jitsu.common.checkVersion(function (err) {
      if (err) {
        return callback();
      }

      var minor, username;

      //
      // --no-colors option turns off output coloring, and so does setting
      // colors: false in ~/.jitsuconf (see
      // https://github.com/nodejitsu/jitsu/issues/101 )
      //
      if ( !jitsu.config.get('colors') || !useColors ) {
        colors.mode = "none";
        jitsu.log.get('default').stripColors = true;
        jitsu.log.get('default').transports.console.colorize = false;
      }

      jitsu.welcome();

      minor = process.version.split('.')[1];

      if (parseInt(minor, 10) % 2) {
        jitsu.log.warn('You are using unstable version of node.js. You may experience problems.');
      }

      username = jitsu.config.get('username');
      if (!username &amp;&amp; jitsu.config.get('requiresAuth').indexOf(jitsu.argv._[0]) !== -1) {
        return jitsu.commands.users.login(function (err) {
          if (err) {
            jitsu.showError(jitsu.argv._.join(' '), err);
            return callback(err);
          }

          var username = jitsu.config.get('username');
          jitsu.log.info('Successfully configured user ' + username.magenta);
          return jitsu.exec(jitsu.argv._, callback);
        });
      }
      return jitsu.exec(jitsu.argv._, callback);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

require('../lib/jitsu/completion');

process.title = 'jitsu';

var jitsu = require('../lib/jitsu');

jitsu.<span class="apidocCodeKeywordSpan">start</span>(function (err) {
  if (!err) {
    jitsu.log.info('Nodejitsu'.grey + ' ok'.green.bold);
  }

  process.exit(err ? 1 : 0);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.welcome" id="apidoc.element.jitsu.welcome">
        function <span class="apidocSignatureSpan">jitsu.</span>welcome
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">welcome = function () {
  //
  // If a user is logged in, show username
  //
  var username = jitsu.config.get('username') || '';

  godaddy.notice(jitsu);

  jitsu.log.info('Welcome to ' + 'Nodejitsu'.grey + ' ' + username.magenta);
  jitsu.log.info('jitsu v' + jitsu.version + ', node ' + process.version);
  jitsu.log.info('It worked if it ends with ' + 'Nodejitsu'.grey + ' ok'.green.bold);

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (jitsu.argv._[0] === "whoami") {
console.log(jitsu.config.get('username') || '');
return;
  }

  jitsu.init(function (err) {
if (err) {
  jitsu.<span class="apidocCodeKeywordSpan">welcome</span>();
  jitsu.showError(jitsu.argv._.join(' '), err);
  return callback(err);
}

jitsu.common.checkVersion(function (err) {
  if (err) {
    return callback();
...</pre></li>
    </ul>














































































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api" id="apidoc.module.jitsu.api">module jitsu.api</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Apps" id="apidoc.element.jitsu.api.Apps">
        function <span class="apidocSignatureSpan">jitsu.api.</span>Apps
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Apps = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Client" id="apidoc.element.jitsu.api.Client">
        function <span class="apidocSignatureSpan">jitsu.api.</span>Client
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client = function (options) {
  this.clouds = {};
  this.datacenters = {};
  this.options = options;
  this._request = request;

  if (typeof this.options.get !== 'function') {
    this.options.get = function (key) {
      return this[key];
    };
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Databases" id="apidoc.element.jitsu.api.Databases">
        function <span class="apidocSignatureSpan">jitsu.api.</span>Databases
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Databases = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Logs" id="apidoc.element.jitsu.api.Logs">
        function <span class="apidocSignatureSpan">jitsu.api.</span>Logs
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logs = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Snapshots" id="apidoc.element.jitsu.api.Snapshots">
        function <span class="apidocSignatureSpan">jitsu.api.</span>Snapshots
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Snapshots = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Tokens" id="apidoc.element.jitsu.api.Tokens">
        function <span class="apidocSignatureSpan">jitsu.api.</span>Tokens
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Tokens = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Users" id="apidoc.element.jitsu.api.Users">
        function <span class="apidocSignatureSpan">jitsu.api.</span>Users
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Users = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api.Apps" id="apidoc.module.jitsu.api.Apps">module jitsu.api.Apps</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Apps.Apps" id="apidoc.element.jitsu.api.Apps.Apps">
        function <span class="apidocSignatureSpan">jitsu.api.</span>Apps
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Apps = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Apps.super_" id="apidoc.element.jitsu.api.Apps.super_">
        function <span class="apidocSignatureSpan">jitsu.api.Apps.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">super_ = function (options) {
  this.clouds = {};
  this.datacenters = {};
  this.options = options;
  this._request = request;

  if (typeof this.options.get !== 'function') {
    this.options.get = function (key) {
      return this[key];
    };
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api.Apps.prototype" id="apidoc.module.jitsu.api.Apps.prototype">module jitsu.api.Apps.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Apps.prototype.available" id="apidoc.element.jitsu.api.Apps.prototype.available">
        function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>available
        <span class="apidocSignatureSpan">(app, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">available = function (app, callback) {
  var appName = this.defaultUser(app.name),
      argv = ['apps'].concat(appName.split('/')).concat('available');

  this.request({ method: 'POST', uri: argv, body: app }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// #### @pkg {Object} Current package.json file on disk
// #### @dir {string} Directory in which the package.json properties are being used
// #### @callback {function} Continuation to respond to when complete.
// #### @createPackage {function} Function needed to make it recursive
// Prompts for appname and subdomain until the combination is available
//
package.available = function (pkg, dir, callback, createPackage) {
jitsu.apps.<span class="apidocCodeKeywordSpan">available</span>(pkg, function (err, isAvailable) {
  var props, fields = [];
  function removeAppname(){
    delete pkg.name;
    fields.push('name');
  }
  function removeSubdomain(){
    delete pkg.subdomain;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Apps.prototype.create" id="apidoc.element.jitsu.api.Apps.prototype.create">
        function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>create
        <span class="apidocSignatureSpan">(app, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (app, callback) {
  var appName = this.defaultUser(app.name);

  this.request({ method: 'POST', uri: ['apps', appName], body: app }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.log.help('Please check for an email sent to ' + details.email.grey + ' for further activation instructions
.');
},
login: function (details, next) {
  //
  // Retrieve a token and remove the password with it
  //
  if (details &amp;&amp; details.username) {
    jitsu.tokens.<span class="apidocCodeKeywordSpan">create</span>(details.username, (jitsu.config.get('apiTokenName')||&amp;#
x27;jitsu'), function(err, result) {
      if(!err &amp;&amp; result) {
        var token = Object.getOwnPropertyNames(result).filter(function(n){return n !== 'operation'}).pop();
        jitsu.config.set('apiToken', result[token]);
        jitsu.config.set('apiTokenName', token);
        jitsu.config.clear('password');
        jitsu.config.save();
        return next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Apps.prototype.datacenter" id="apidoc.element.jitsu.api.Apps.prototype.datacenter">
        function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>datacenter
        <span class="apidocSignatureSpan">(appName, cloud, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">datacenter = function (appName, cloud, callback) {
  var appName = this.defaultUser(appName),
      argv = ['apps'].concat(appName.split('/')).concat('cloud'),
      self = this;

  if (!Array.isArray(cloud)) cloud = [cloud];

  //
  // As this API request needs to go to the correct datacenter, add the current
  // cloud call to our internal datacenter cache so it will target the correct
  // API
  //
  this.clouds[appName] = cloud;

  // Ensure the app is started before we try to set the datacenter.
  this.view(appName, function (err, current) {
    if (err) return callback(err);

    if (!current.config.cloud) {
      self.start(appName, executeCloud);
    }
    else {
      executeCloud();
    }
  });

  function executeCloud() {
    self.cloud({ method: 'POST', uri: argv, body: cloud, appName: appName }, self.request, function (err, result) {
      //
      // Assume that this call invalidates our cached datacenter endpoint, so
      // remove it, and it will be fetched again on the next call
      //
      delete self.clouds[appName];

      if (err) return callback(err);
      callback(err, result);
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  endpoints: function getEndpoints(next) {
    jitsu.apps.endpoints(next);
  },
  //
  // 2. Start the app with the specified cloud information.
  //
  start: function start(next) {
    jitsu.apps.<span class="apidocCodeKeywordSpan">datacenter</span>(name, cloud, next);
  }
}, function (err, result) {
  if (err) {
    jitsu.log.error('Error starting ' + name.magenta);
    return callback(err);
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Apps.prototype.destroy" id="apidoc.element.jitsu.api.Apps.prototype.destroy">
        function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>destroy
        <span class="apidocSignatureSpan">(appName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (appName, callback) {
  var appName = this.defaultUser(appName),
      argv = ['apps'].concat(appName.split('/'));

  this.request({ method: 'DELETE', uri: argv, appName: appName }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  executeDestroy();
}

function executeDestroy() {
  jitsu.log.info('Destroy app ' + name.magenta);
  jitsu.prompt.confirm('yes/no', { default: 'yes'}, function(err, result){
    if (result) {
      jitsu.apps.<span class="apidocCodeKeywordSpan">destroy</span>(name, function (err) {
        jitsu.log.silly('Done destroying app ' + name.magenta);
        return err ? callback(err) : callback();
      });
    } else {
      jitsu.log.info('app ' + name.magenta + ' was not destroyed');
      callback(null);
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Apps.prototype.list" id="apidoc.element.jitsu.api.Apps.prototype.list">
        function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>list
        <span class="apidocSignatureSpan">(username, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">list = function (username, callback) {
  if (arguments.length === 1) {
    callback = username;
    username = this.options.get('username');
  }

  var self = this;

  this.request({ uri: ['apps', username] }, function (err, result, res) {
    if (err) return callback(err);

    callback(err, result.apps);

    //
    // Cache the lookups so we know which datacenters belong to the apps.
    //
    if (username === self.options.get('username')) {
      result.apps.forEach(function reduce(memo, app) {
        if (app.config &amp;&amp; app.config.cloud) {
          self.clouds[app._id] = app.cloud;
        }
      });
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (apps) {
output(cur, apps);
return;
    }

    var username = jitsu().config.get('username');

    jitsu().apps.<span class="apidocCodeKeywordSpan">list</span>(username, function (err, apps) {
if (err || !apps || !apps.length) {
  cache.write('apps', []);
  return;
}

apps = apps.map(function (app) {
  return app.name;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Apps.prototype.restart" id="apidoc.element.jitsu.api.Apps.prototype.restart">
        function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>restart
        <span class="apidocSignatureSpan">(appName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">restart = function (appName, callback) {
  var appName = this.defaultUser(appName),
      argv = ['apps'].concat(appName.split('/')).concat('restart');

  this.cloud({ method: 'POST', uri: argv, appName: appName }, this.request, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var args = utile.args(arguments);
callback = args.callback;
name = args[0] || null;
  }

  function executeRestart() {
jitsu.log.info('Restarting app ' + name.magenta);
jitsu.apps.<span class="apidocCodeKeywordSpan">restart</span>(name, function (err) {
  if (err) {
    return callback(err);
  }

  jitsu.log.info('App ' + name.magenta + ' has been restarted');
  callback();
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Apps.prototype.setDrones" id="apidoc.element.jitsu.api.Apps.prototype.setDrones">
        function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>setDrones
        <span class="apidocSignatureSpan">(appName, drones, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDrones = function (appName, drones, callback) {
  var appName = this.defaultUser(appName),
      argv = ['apps'].concat(appName.split('/')).concat('cloud'),
      cloud = [{ drones: drones }];

  this.cloud({ method: 'POST', uri: argv, body: cloud, appName: appName }, this.request, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// this will stop the application in the current directory.
//
apps.setdrones = function (name, number, callback) {
  function executeSet() {
number = parseInt(number, 10);

jitsu.log.info('Setting number of drones for app ' + name.magenta + ' to ' + number.toString().magenta);
jitsu.apps.<span class="apidocCodeKeywordSpan">setDrones</span>(name, number, function (err) {
  if (err) {
    return handleStartError(err, name, callback);
  }

  jitsu.log.info('App ' + name.magenta + ' is now running on ' + number.toString().magenta + ' drones&amp;#
x27;);
  callback();
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Apps.prototype.start" id="apidoc.element.jitsu.api.Apps.prototype.start">
        function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>start
        <span class="apidocSignatureSpan">(appName, cloud, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (appName, cloud, callback) {
  if (!callback &amp;&amp; typeof cloud === 'function') {
    callback = cloud;
    cloud = null;
  }

  var appName = this.defaultUser(appName),
      argv = ['apps'].concat(appName.split('/')).concat('start');

  if (cloud) {
    this.clouds[appName] = !Array.isArray(cloud)
      ? [cloud]
      : cloud;
  }

  this.cloud({ method: 'POST', uri: argv, appName: appName }, this.request, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

require('../lib/jitsu/completion');

process.title = 'jitsu';

var jitsu = require('../lib/jitsu');

jitsu.<span class="apidocCodeKeywordSpan">start</span>(function (err) {
  if (!err) {
    jitsu.log.info('Nodejitsu'.grey + ' ok'.green.bold);
  }

  process.exit(err ? 1 : 0);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Apps.prototype.stop" id="apidoc.element.jitsu.api.Apps.prototype.stop">
        function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>stop
        <span class="apidocSignatureSpan">(appName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stop = function (appName, callback) {
  var appName = this.defaultUser(appName),
      argv = ['apps'].concat(appName.split('/')).concat('stop');

  this.cloud({ method: 'POST', uri: argv, appName: appName }, this.request, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var args = utile.args(arguments);
    callback = args.callback;
    name = args[0] || null;
  }

  function executeStop() {
    jitsu.log.info('Stopping app ' + name.magenta);
    jitsu.apps.<span class="apidocCodeKeywordSpan">stop</span>(name, function (err) {

//
// TODO: replace this error handling with errs library
//
if (err) {
  if (err.result &amp;&amp; err.result.error === "not_found") {
    jitsu.log.error('App ' + name.magenta + ' doesn\'t exist on Nodejitsu yet!');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Apps.prototype.update" id="apidoc.element.jitsu.api.Apps.prototype.update">
        function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>update
        <span class="apidocSignatureSpan">(appName, attrs, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (appName, attrs, callback) {
  var appName = this.defaultUser(appName),
      argv = ['apps'].concat(appName.split('/'));

  this.request({ method: 'PUT', uri: argv, body: attrs }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.log.silly('Done activating snapshot ' + snapshot.grey);
  startApp(err, existing);
});
  }

  function updateApp(existing, snapshot) {
jitsu.log.info('Updating app ' + existing.name.magenta);
jitsu.apps.<span class="apidocCodeKeywordSpan">update</span>(existing.name, pkg, function (err) {

  if (err) {
    return callback(err);
  }

  activateSnapshot(existing, snapshot);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Apps.prototype.view" id="apidoc.element.jitsu.api.Apps.prototype.view">
        function <span class="apidocSignatureSpan">jitsu.api.Apps.prototype.</span>view
        <span class="apidocSignatureSpan">(appName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">view = function (appName, callback) {
  var appName = this.defaultUser(appName),
      argv = ['apps'].concat(appName.split('/')),
      self = this;

  this.request({ uri: argv }, function (err, result) {
    if (err) return callback(err);

    var app = result.app;
    callback(err, app);

    //
    // Update the cloud cache.
    //
    if (app.config &amp;&amp; app.config.cloud) {
      self.clouds[appName] = app.config.cloud;
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    jitsu().package.read(process.cwd(), function (err, pkg) {
      if (err) {
cache.write('env', {});
return;
      }

      jitsu().apps.<span class="apidocCodeKeywordSpan">view</span>(pkg.name, function (err, app) {
if (err || !app || !app.env) {
  cache.write('env', {});
  return;
}

output(cur, app.env);
cache.write('env', app.env);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api.Client" id="apidoc.module.jitsu.api.Client">module jitsu.api.Client</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Client.Client" id="apidoc.element.jitsu.api.Client.Client">
        function <span class="apidocSignatureSpan">jitsu.api.</span>Client
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client = function (options) {
  this.clouds = {};
  this.datacenters = {};
  this.options = options;
  this._request = request;

  if (typeof this.options.get !== 'function') {
    this.options.get = function (key) {
      return this[key];
    };
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Client.super_" id="apidoc.element.jitsu.api.Client.super_">
        function <span class="apidocSignatureSpan">jitsu.api.Client.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api.Client.prototype" id="apidoc.module.jitsu.api.Client.prototype">module jitsu.api.Client.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Client.prototype.cloud" id="apidoc.element.jitsu.api.Client.prototype.cloud">
        function <span class="apidocSignatureSpan">jitsu.api.Client.prototype.</span>cloud
        <span class="apidocSignatureSpan">(options, api, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cloud = function (options, api, callback) {
  var self = this,
      flow = [];

  // We don't need to have any datacenter information for these types of calls
  if (options.remoteUri || !options.appName || !options.method || options.method === 'GET') {
    return api.call(this, options, callback);
  }

  //
  // Fetches the datacenter locations for the app
  //
  function locations(done) {
    var argv = ['apps', options.appName, 'cloud'];

    self.request({ uri: argv }, function apps(err, result) {
      if (err) return done(err);

      self.clouds[options.appName] = result;
      done();
    });
  }

  //
  // We don't have any datacenter data by default as it's only needed for
  // starting or stopping the application.
  //
  if (!Object.keys(this.datacenters).length) flow.push(this.endpoints.bind(this));

  //
  // Make sure that we have this app in our cloud cache so we know in which
  // datacenter it is.
  //
  if (!(options.appName in this.clouds)) flow.push(locations);

  //
  // Iterate over the possible steps.
  //
  async.iterate(flow, function completed(err) {
    if (err) return callback(err);

    // The returned clouds is an array of datacenters, iterate over them.
    async.map(self.clouds[options.appName], function iterate(cloud, done) {
      //
      // Clone the options to prevent race conditions.
      //
      var opts = Object.keys(options).reduce(function clone(memo, field) {
        memo[field] = options[field];
        return memo;
      }, {});

      if (!self.datacenters || !self.datacenters[cloud.provider]
          || !self.datacenters[cloud.provider][cloud.datacenter]) {
        return done(new Error('Unknown cloud: ' + cloud.provider + ' ' + cloud.datacenter));
      }

      opts.remoteUri = self.datacenters[cloud.provider][cloud.datacenter];
      if (!~opts.remoteUri.indexOf('http')) opts.remoteUri = 'https://'+ opts.remoteUri;

      api.call(self, opts, done);
    }, function ready(err, results) {
      if (err) {
        delete self.clouds[options.appName];
        return callback(err);
      }

      return results.length === 1
        ? callback(null, results[0])
        : callback(null, results)

      //
      // We probably want to figure out which calls went okay, and which one
      // failed when we get an error so we only have to retry that one.
      //
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.log.error('Please use a valid datacenter name.');
  return callback(new Error(), true)
}
  }

  function executeStart() {
// Skip straight to cloud if we have cloud data.
if (cloud) return apps.<span class="apidocCodeKeywordSpan">cloud</span>(name, cloud.provider, cloud.datacenter, callback);

jitsu.log.info('Starting app ' + name.magenta);

var showInfo = function showInfo (err, config) {
  if (err) {
    return handleStartError(err, name, callback);
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Client.prototype.defaultUser" id="apidoc.element.jitsu.api.Client.prototype.defaultUser">
        function <span class="apidocSignatureSpan">jitsu.api.Client.prototype.</span>defaultUser
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defaultUser = function (data) {
  if (!~data.indexOf('/')) {
    data = this.options.get('username') + '/' + data;
  }

  return data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Client.prototype.endpoints" id="apidoc.element.jitsu.api.Client.prototype.endpoints">
        function <span class="apidocSignatureSpan">jitsu.api.Client.prototype.</span>endpoints
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">endpoints = function (callback) {
  var self = this;

  this.request({ uri: ['endpoints'] }, function (err, result) {
    if (err) return callback(err);

    self.datacenters = result.endpoints;
    callback(err, result.endpoints);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  //
  // Allow use provider name and datacenter name without flags (--provider, --datacenter)
  //
  if (arguments.length === 2) {
    jitsu.log.error('Error: No datacenter name specified');
    jitsu.log.error('Please use a valid datacenter name.');

    return jitsu.apps.<span class="apidocCodeKeywordSpan">endpoints</span>(function (err, endpoints) {
if (err) return callback(err);

if (endpoints) {
  jitsu.log.info('You can use one of the following providers');
  Object.keys(endpoints).forEach(function (provider) {
    var datacenters = endpoints[provider];
    Object.keys(datacenters).forEach(function (datacenter) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Client.prototype.request" id="apidoc.element.jitsu.api.Client.prototype.request">
        function <span class="apidocSignatureSpan">jitsu.api.Client.prototype.</span>request
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">request = function (options, callback) {
  options = options || {};

  var password = this.options.get('password') || this.options.get('apiToken'),
      auth = new Buffer(this.options.get('username') + ':' + password).toString('base64'),
      proxy = this.options.get('proxy'),
      optHeaders,
      self = this,
      opts = {};

  opts = {
    method: options.method || 'GET',
    uri: (options.remoteUri || this.options.get('remoteUri')) + '/' + options.uri.join('/'),
    headers: {
      'Authorization': 'Basic ' + auth,
      'Content-Type': 'application/json'
    },
    timeout: options.timeout || this.options.get('timeout') || 8 * 60 * 1000,
    rejectUnauthorized: this.options.get('rejectUnauthorized')
  };

  if (options.body) {
    try { opts.body = JSON.stringify(options.body); }
    catch (e) { return callback(e); }
  } else if (opts.method !== 'GET' &amp;&amp; options.body !== false) {
    opts.body = '{}';
  }

  if (options.headers) Object.keys(options.headers).forEach(function each(field) {
    opts.headers[field] = options.headers[field];
  });

  optHeaders = this.options.get('headers');
  if (optHeaders) {
    Object.keys(optHeaders).forEach(function each(field) {
      opts.headers[field] = optHeaders[field];
    });
  }

  if (proxy) opts.proxy = proxy;

  this.emit('debug::request', opts);

  //
  // When we don't pass a callback just return the request object
  //
  return !callback || typeof callback !== 'function'
    ? this._request(opts)
    : this._request(opts, function requesting(err, res, body) {
      if (err) return callback(err);

      var poweredBy = res.headers['x-powered-by'],
          result, statusCode, error;

      try {
        statusCode = res.statusCode;
        result = JSON.parse(body);
      } catch (e) {}

      self.emit('debug::response', { statusCode: statusCode, result: result });

      if (!self.options.get('ignorePoweredBy') &amp;&amp; !poweredBy || !~poweredBy.indexOf('Nodejitsu')) {
        error = new Error('The Nodejitsu-API requires you to connect the Nodejitsu\'s stack (api.nodejitsu.com)');
        error.statusCode = 403;
        error.result = '';
      } else if (failCodes[statusCode]) {
        error = new Error('Nodejitsu Error (' + statusCode + '): ' + failCodes[statusCode]);
        error.statusCode = statusCode;
        error.result = result;
      }
      // Only add the response argument when people ask for it
      if (callback.length === 3) return callback(error, result, res);
      callback(error, result);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Client.prototype.upload" id="apidoc.element.jitsu.api.Client.prototype.upload">
        function <span class="apidocSignatureSpan">jitsu.api.Client.prototype.</span>upload
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upload = function (options, callback) {
  options = options || {};

  var progress = new EventEmitter(),
      self = this;

  fs.stat(options.file, function fstat(err, stat) {
    if (err) return callback(err);

    var size = stat.size;

    // Set the correct headers
    if (!options.headers) options.headers = {};
    options.headers['Content-Length'] = size;
    options.headers['Content-Type'] = options.contentType || 'application/octet-stream';

    // And other default options to do a successful post
    if (!options.method) options.method = 'POST';
    options.body = false;

    // Defer all the error handling to the request method
    var req = self.request(options);
    if (!req) return;

    req.on('error', callback);
    req.on('response', function (res) {
      var statusCode = res.statusCode,
          error;

      //
      // TODO: clean this up. This is an extraneous case that offsets the main
      // use case of the api so we repeat some code here
      //
      if (failCodes[statusCode]) {
        error = new Error('Nodejitsu Error (' + statusCode + '): ' + failCodes[statusCode]);

        error.statusCode = statusCode;
        error.result = '';

        res.on('data', function (d) {
          error.result += d;
        });

        res.on('end', function () {
          try { error.result = JSON.parse(error.result) }
          catch (ex) {}
          callback(error);
        });
        return;
      }

      callback(null, res);
    });

    // Notify that we have started the upload procedure and give it a reference
    // to the stat.
    progress.emit('start', stat);

    req.once('request', function requested(request) {
      request.once('socket', function data(socket) {
        var buffer = 0;

        var interval = setInterval(function polling() {
          var data = socket._bytesDispatched || (socket.socket &amp;&amp; socket.socket._bytesDispatched);

          if (data) {
            progress.emit('data', data - buffer);
            buffer = data;
          }

          if (buffer &gt;= size) {
            clearInterval(interval);
            progress.emit('end');
          }
        }, 100);
      });
    });

    fs.createReadStream(options.file).pipe(req);
  });

  return progress;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api.Databases" id="apidoc.module.jitsu.api.Databases">module jitsu.api.Databases</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Databases.Databases" id="apidoc.element.jitsu.api.Databases.Databases">
        function <span class="apidocSignatureSpan">jitsu.api.</span>Databases
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Databases = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Databases.super_" id="apidoc.element.jitsu.api.Databases.super_">
        function <span class="apidocSignatureSpan">jitsu.api.Databases.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">super_ = function (options) {
  this.clouds = {};
  this.datacenters = {};
  this.options = options;
  this._request = request;

  if (typeof this.options.get !== 'function') {
    this.options.get = function (key) {
      return this[key];
    };
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api.Databases.prototype" id="apidoc.module.jitsu.api.Databases.prototype">module jitsu.api.Databases.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Databases.prototype.create" id="apidoc.element.jitsu.api.Databases.prototype.create">
        function <span class="apidocSignatureSpan">jitsu.api.Databases.prototype.</span>create
        <span class="apidocSignatureSpan">(databaseType, databaseName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (databaseType, databaseName, callback) {
  var databaseName = this.defaultUser(databaseName),
      argv = [ 'databases' ].concat(databaseName.split('/'));

  this.request({ method: 'POST', uri: argv, body: { type: databaseType }}, function (err, result, res) {
    if (err) return callback(err);

    callback(err, result.database, res);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.log.help('Please check for an email sent to ' + details.email.grey + ' for further activation instructions
.');
},
login: function (details, next) {
  //
  // Retrieve a token and remove the password with it
  //
  if (details &amp;&amp; details.username) {
    jitsu.tokens.<span class="apidocCodeKeywordSpan">create</span>(details.username, (jitsu.config.get('apiTokenName')||&amp;#
x27;jitsu'), function(err, result) {
      if(!err &amp;&amp; result) {
        var token = Object.getOwnPropertyNames(result).filter(function(n){return n !== 'operation'}).pop();
        jitsu.config.set('apiToken', result[token]);
        jitsu.config.set('apiTokenName', token);
        jitsu.config.clear('password');
        jitsu.config.save();
        return next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Databases.prototype.destroy" id="apidoc.element.jitsu.api.Databases.prototype.destroy">
        function <span class="apidocSignatureSpan">jitsu.api.Databases.prototype.</span>destroy
        <span class="apidocSignatureSpan">(databaseName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (databaseName, callback) {
  var databaseName = this.defaultUser(databaseName),
      argv = [ 'databases' ].concat(databaseName.split('/'));

  this.request({ method: 'DELETE', uri: argv }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  executeDestroy();
}

function executeDestroy() {
  jitsu.log.info('Destroy app ' + name.magenta);
  jitsu.prompt.confirm('yes/no', { default: 'yes'}, function(err, result){
    if (result) {
      jitsu.apps.<span class="apidocCodeKeywordSpan">destroy</span>(name, function (err) {
        jitsu.log.silly('Done destroying app ' + name.magenta);
        return err ? callback(err) : callback();
      });
    } else {
      jitsu.log.info('app ' + name.magenta + ' was not destroyed');
      callback(null);
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Databases.prototype.get" id="apidoc.element.jitsu.api.Databases.prototype.get">
        function <span class="apidocSignatureSpan">jitsu.api.Databases.prototype.</span>get
        <span class="apidocSignatureSpan">(databaseName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (databaseName, callback) {
  var databaseName = this.defaultUser(databaseName),
      argv = [ 'databases' ].concat(databaseName.split('/'));

  this.request({ uri: argv }, function (err, result) {
    if (err) return callback(err);

    callback(null, result.database);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// ### function welcome ()
// Print welcome message.
//
jitsu.welcome = function () {
//
// If a user is logged in, show username
//
var username = jitsu.config.<span class="apidocCodeKeywordSpan">get</span>('username') || '';

godaddy.notice(jitsu);

jitsu.log.info('Welcome to ' + 'Nodejitsu'.grey + ' ' + username.magenta);
jitsu.log.info('jitsu v' + jitsu.version + ', node ' + process.version);
jitsu.log.info('It worked if it ends with ' + 'Nodejitsu'.grey + ' ok'.green.bold);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Databases.prototype.list" id="apidoc.element.jitsu.api.Databases.prototype.list">
        function <span class="apidocSignatureSpan">jitsu.api.Databases.prototype.</span>list
        <span class="apidocSignatureSpan">(username, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">list = function (username, callback) {
  if (arguments.length === 1) {
    callback = username;
    username = this.options.get('username');
  }

  this.request({ uri: ['databases', username] }, function (err, result) {
    if (err) return callback(err);

    callback(null, result.databases);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (apps) {
output(cur, apps);
return;
    }

    var username = jitsu().config.get('username');

    jitsu().apps.<span class="apidocCodeKeywordSpan">list</span>(username, function (err, apps) {
if (err || !apps || !apps.length) {
  cache.write('apps', []);
  return;
}

apps = apps.map(function (app) {
  return app.name;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api.Logs" id="apidoc.module.jitsu.api.Logs">module jitsu.api.Logs</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Logs.Logs" id="apidoc.element.jitsu.api.Logs.Logs">
        function <span class="apidocSignatureSpan">jitsu.api.</span>Logs
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logs = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Logs.super_" id="apidoc.element.jitsu.api.Logs.super_">
        function <span class="apidocSignatureSpan">jitsu.api.Logs.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">super_ = function (options) {
  this.options = options;
  this._request = request;

  if (typeof this.options.get !== 'function') {
    this.options.get = function (key) {
      return this[key];
    };
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api.Logs.prototype" id="apidoc.module.jitsu.api.Logs.prototype">module jitsu.api.Logs.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Logs.prototype.byApp" id="apidoc.element.jitsu.api.Logs.prototype.byApp">
        function <span class="apidocSignatureSpan">jitsu.api.Logs.prototype.</span>byApp
        <span class="apidocSignatureSpan">(appName, amount, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">byApp = function (appName, amount, callback) {
  appName = this.defaultUser(appName);
  var argv = ['logs'].concat(appName.split('/'));

  if (amount) {
    argv.push(amount);
  }

  this.request({ method: 'GET', uri: argv }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (err) {
return err.statusCode === 404
  ? callback(new Error('Application not found.'), true)
  : callback(err);
      }

      var amount = 10;
      jitsu.logs.<span class="apidocCodeKeywordSpan">byApp</span>(appName, amount, function (err, results) {
if (err) {
  return callback(err);
}

jitsu.log.info('Listing logs for ' + appName.magenta);

putLogs(results, appName, amount);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Logs.prototype.byUser" id="apidoc.element.jitsu.api.Logs.prototype.byUser">
        function <span class="apidocSignatureSpan">jitsu.api.Logs.prototype.</span>byUser
        <span class="apidocSignatureSpan">(username, amount, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">byUser = function (username, amount, callback) {
  callback(new Error('Deprecated'));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Logs.prototype.live" id="apidoc.element.jitsu.api.Logs.prototype.live">
        function <span class="apidocSignatureSpan">jitsu.api.Logs.prototype.</span>live
        <span class="apidocSignatureSpan">(appName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">live = function (appName, callback) {
  appName = this.defaultUser(appName);

  this.getSocket({ channel: 'logs/' + appName }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return callback(err);
}

jitsu.log.info('Listing logs for ' + appName.magenta);

putLogs(results, appName, amount);

jitsu.logs.<span class="apidocCodeKeywordSpan">live</span>(appName, function (err, socket) {
  if (err) return callback(err);

  socket.on('data', printLog);
  socket.on('error', function (err) {
    return callback(err);
  });
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api.Logs.super_.prototype" id="apidoc.module.jitsu.api.Logs.super_.prototype">module jitsu.api.Logs.super_.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Logs.super_.prototype.defaultUser" id="apidoc.element.jitsu.api.Logs.super_.prototype.defaultUser">
        function <span class="apidocSignatureSpan">jitsu.api.Logs.super_.prototype.</span>defaultUser
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defaultUser = function (data) {
  if (!~data.indexOf('/')) {
    data = this.options.get('username').toLowerCase() + '/' + data;
  }

  return data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Logs.super_.prototype.getSocket" id="apidoc.element.jitsu.api.Logs.super_.prototype.getSocket">
        function <span class="apidocSignatureSpan">jitsu.api.Logs.super_.prototype.</span>getSocket
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getSocket = function (options, callback) {
  options = options || {};

  if (!this.options.get('logs') || !this.options.get('logs').host) {
    return callback(new Error('Invalid options, must provide a logs service host'));
  }

  var password = this.options.get('password') || this.options.get('apiToken'),
      channel = options.channel,
      self = this,
      url = util.format("%s://%s:%s@%s:%s?subscribe=%s",
                              this.options.get('logs').protocol || 'http',
                              this.options.get('username').toLowerCase(),
                              password,
                              this.options.get('logs').host,
                              this.options.get('logs').port || "80",
                              channel);

  callback(null, new Socket(url));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Logs.super_.prototype.request" id="apidoc.element.jitsu.api.Logs.super_.prototype.request">
        function <span class="apidocSignatureSpan">jitsu.api.Logs.super_.prototype.</span>request
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">request = function (options, callback) {
  options = options || {};

  if (!this.options.get('logs') || !this.options.get('logs').host) {
    return callback(new Error('Invalid options, must provide a logs service host'));
  }

  var password = this.options.get('password') || this.options.get('apiToken'),
      auth = new Buffer(this.options.get('username').toLowerCase() + ':' + password).toString('base64'),
      proxy = this.options.get('proxy'),
      self = this,
      opts = {},
      remoteUri = util.format("%s://%s:%s/%s",
                              this.options.get('logs').protocol || 'http',
                              this.options.get('logs').host,
                              this.options.get('logs').port || "80",
                              options.uri.join('/'));

  opts = {
    method: options.method || 'GET',
    uri: options.remoteUri || remoteUri,
    headers: {
      'Authorization': 'Basic ' + auth,
      'Content-Type': 'application/json'
    },
    timeout: options.timeout || this.options.get('timeout') || 8 * 60 * 1000,
    rejectUnauthorized: this.options.get('rejectUnauthorized')
  };

  if (options.body) {
    try { opts.body = JSON.stringify(options.body); }
    catch (e) { return callback(e); }
  } else if (opts.method !== 'GET' &amp;&amp; options.body !== false) {
    opts.body = '{}';
  }

  if (options.headers) Object.keys(options.headers).forEach(function each(field) {
    opts.headers[field] = options.headers[field];
  });

  if (proxy) opts.proxy = proxy;

  this.emit('debug::request', opts);

  return this._request(opts, function requesting(err, res, body) {
    if (err) return callback(err);

    var poweredBy = res.headers['x-powered-by'],
        result, statusCode, error;

    try {
      statusCode = res.statusCode;
      result = JSON.parse(body);
    } catch (e) {}

    self.emit('debug::response', { statusCode: statusCode, result: result });

    // Only add the response argument when people ask for it
    if (callback.length === 3) return callback(error, result, res);
    callback(error, result);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api.Snapshots" id="apidoc.module.jitsu.api.Snapshots">module jitsu.api.Snapshots</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Snapshots.Snapshots" id="apidoc.element.jitsu.api.Snapshots.Snapshots">
        function <span class="apidocSignatureSpan">jitsu.api.</span>Snapshots
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Snapshots = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Snapshots.super_" id="apidoc.element.jitsu.api.Snapshots.super_">
        function <span class="apidocSignatureSpan">jitsu.api.Snapshots.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">super_ = function (options) {
  this.clouds = {};
  this.datacenters = {};
  this.options = options;
  this._request = request;

  if (typeof this.options.get !== 'function') {
    this.options.get = function (key) {
      return this[key];
    };
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api.Snapshots.prototype" id="apidoc.module.jitsu.api.Snapshots.prototype">module jitsu.api.Snapshots.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Snapshots.prototype.activate" id="apidoc.element.jitsu.api.Snapshots.prototype.activate">
        function <span class="apidocSignatureSpan">jitsu.api.Snapshots.prototype.</span>activate
        <span class="apidocSignatureSpan">(appName, snapshotName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">activate = function (appName, snapshotName, callback) {
  var appName = this.defaultUser(appName),
      argv = ['apps'].concat(appName.split('/')).concat(['snapshots', snapshotName, 'activate']);

  this.request({ method: 'POST', uri: argv }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  //else {
  //  apps.start(existing.name, callback);
  //}
}

function activateSnapshot(existing, snapshot) {
  jitsu.log.info('Activating snapshot ' + snapshot.grey + ' for ' + existing.name.magenta);
  jitsu.snapshots.<span class="apidocCodeKeywordSpan">activate</span>(existing.name, snapshot, function (err) {
    jitsu.log.silly('Done activating snapshot ' + snapshot.grey);
    startApp(err, existing);
  });
}

function updateApp(existing, snapshot) {
  jitsu.log.info('Updating app ' + existing.name.magenta);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Snapshots.prototype.create" id="apidoc.element.jitsu.api.Snapshots.prototype.create">
        function <span class="apidocSignatureSpan">jitsu.api.Snapshots.prototype.</span>create
        <span class="apidocSignatureSpan">(appName, snapshotName, filename, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (appName, snapshotName, filename, callback) {
  var appName = this.defaultUser(appName),
      argv = ['apps'].concat(appName.split('/')).concat(['snapshots', snapshotName]);

  return this.upload({ uri: argv, file: filename }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.log.help('Please check for an email sent to ' + details.email.grey + ' for further activation instructions
.');
},
login: function (details, next) {
  //
  // Retrieve a token and remove the password with it
  //
  if (details &amp;&amp; details.username) {
    jitsu.tokens.<span class="apidocCodeKeywordSpan">create</span>(details.username, (jitsu.config.get('apiTokenName')||&amp;#
x27;jitsu'), function(err, result) {
      if(!err &amp;&amp; result) {
        var token = Object.getOwnPropertyNames(result).filter(function(n){return n !== 'operation'}).pop();
        jitsu.config.set('apiToken', result[token]);
        jitsu.config.set('apiTokenName', token);
        jitsu.config.clear('password');
        jitsu.config.save();
        return next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Snapshots.prototype.destroy" id="apidoc.element.jitsu.api.Snapshots.prototype.destroy">
        function <span class="apidocSignatureSpan">jitsu.api.Snapshots.prototype.</span>destroy
        <span class="apidocSignatureSpan">(appName, snapshotName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (appName, snapshotName, callback) {
  var appName = this.defaultUser(appName),
      argv = ['apps'].concat(appName.split('/')).concat(['snapshots', snapshotName]);

  this.request({ method: 'DELETE', uri: argv }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  executeDestroy();
}

function executeDestroy() {
  jitsu.log.info('Destroy app ' + name.magenta);
  jitsu.prompt.confirm('yes/no', { default: 'yes'}, function(err, result){
    if (result) {
      jitsu.apps.<span class="apidocCodeKeywordSpan">destroy</span>(name, function (err) {
        jitsu.log.silly('Done destroying app ' + name.magenta);
        return err ? callback(err) : callback();
      });
    } else {
      jitsu.log.info('app ' + name.magenta + ' was not destroyed');
      callback(null);
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Snapshots.prototype.fetch" id="apidoc.element.jitsu.api.Snapshots.prototype.fetch">
        function <span class="apidocSignatureSpan">jitsu.api.Snapshots.prototype.</span>fetch
        <span class="apidocSignatureSpan">(appName, snapshotName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fetch = function (appName, snapshotName, callback) {
  var appName = this.defaultUser(appName),
      argv = ['apps'].concat(appName.split('/')).concat(['snapshots', snapshotName + '.tgz']);

  callback = callback || function () {};
  return this.request({ uri: argv }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (typeof name === 'function') {
  name = null;
  callback = name;
}

function fetch(appName, snapshot) {
  jitsu.snapshots.<span class="apidocCodeKeywordSpan">fetch</span>(appName, snapshot.id)
    .on('error', callback)
    .on('response', function (res) {
      if (res.statusCode === 404) {
        return callback(new Error('No such snapshot'));
      }
      else if (res.statusCode !== 200) {
        return callback(new Error('Unknown status code: ' + res.statusCode));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Snapshots.prototype.list" id="apidoc.element.jitsu.api.Snapshots.prototype.list">
        function <span class="apidocSignatureSpan">jitsu.api.Snapshots.prototype.</span>list
        <span class="apidocSignatureSpan">(appName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">list = function (appName, callback) {
  var appName = this.defaultUser(appName),
      argv = ['apps'].concat(appName.split('/')).concat('snapshots');

  this.request({ uri: argv }, function (err, result) {
    if (err) return callback(err);

    callback(err, result.snapshots);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (apps) {
output(cur, apps);
return;
    }

    var username = jitsu().config.get('username');

    jitsu().apps.<span class="apidocCodeKeywordSpan">list</span>(username, function (err, apps) {
if (err || !apps || !apps.length) {
  cache.write('apps', []);
  return;
}

apps = apps.map(function (app) {
  return app.name;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api.Tokens" id="apidoc.module.jitsu.api.Tokens">module jitsu.api.Tokens</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Tokens.Tokens" id="apidoc.element.jitsu.api.Tokens.Tokens">
        function <span class="apidocSignatureSpan">jitsu.api.</span>Tokens
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Tokens = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Tokens.super_" id="apidoc.element.jitsu.api.Tokens.super_">
        function <span class="apidocSignatureSpan">jitsu.api.Tokens.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">super_ = function (options) {
  this.clouds = {};
  this.datacenters = {};
  this.options = options;
  this._request = request;

  if (typeof this.options.get !== 'function') {
    this.options.get = function (key) {
      return this[key];
    };
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api.Tokens.prototype" id="apidoc.module.jitsu.api.Tokens.prototype">module jitsu.api.Tokens.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Tokens.prototype.create" id="apidoc.element.jitsu.api.Tokens.prototype.create">
        function <span class="apidocSignatureSpan">jitsu.api.Tokens.prototype.</span>create
        <span class="apidocSignatureSpan">(username, tokenID, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (username, tokenID, callback) {
  if(arguments.length === 1) {
    callback = username;
    tokenID = null;
    username = this.options.get('username');
  }

  if(arguments.length === 2) {
    callback = tokenID;
    tokenID = username;
    username = this.options.get('username');
  }

  if(tokenID !== null){
    this.request({ method: 'PUT', uri: ['users', username, 'tokens', tokenID] }, callback);
  } else {
    this.request({ method: 'POST', uri: ['users', username, 'tokens'] }, callback);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.log.help('Please check for an email sent to ' + details.email.grey + ' for further activation instructions
.');
},
login: function (details, next) {
  //
  // Retrieve a token and remove the password with it
  //
  if (details &amp;&amp; details.username) {
    jitsu.tokens.<span class="apidocCodeKeywordSpan">create</span>(details.username, (jitsu.config.get('apiTokenName')||&amp;#
x27;jitsu'), function(err, result) {
      if(!err &amp;&amp; result) {
        var token = Object.getOwnPropertyNames(result).filter(function(n){return n !== 'operation'}).pop();
        jitsu.config.set('apiToken', result[token]);
        jitsu.config.set('apiTokenName', token);
        jitsu.config.clear('password');
        jitsu.config.save();
        return next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Tokens.prototype.destroy" id="apidoc.element.jitsu.api.Tokens.prototype.destroy">
        function <span class="apidocSignatureSpan">jitsu.api.Tokens.prototype.</span>destroy
        <span class="apidocSignatureSpan">(username, tokenID, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (username, tokenID, callback) {
  if(arguments.length === 2) {
    callback = tokenID;
    tokenID = username;
    username = this.options.get('username');
  }

  this.request({ method: 'DELETE', uri: ['users', username, 'tokens', tokenID] }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  executeDestroy();
}

function executeDestroy() {
  jitsu.log.info('Destroy app ' + name.magenta);
  jitsu.prompt.confirm('yes/no', { default: 'yes'}, function(err, result){
    if (result) {
      jitsu.apps.<span class="apidocCodeKeywordSpan">destroy</span>(name, function (err) {
        jitsu.log.silly('Done destroying app ' + name.magenta);
        return err ? callback(err) : callback();
      });
    } else {
      jitsu.log.info('app ' + name.magenta + ' was not destroyed');
      callback(null);
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Tokens.prototype.list" id="apidoc.element.jitsu.api.Tokens.prototype.list">
        function <span class="apidocSignatureSpan">jitsu.api.Tokens.prototype.</span>list
        <span class="apidocSignatureSpan">(username, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">list = function (username, callback) {
  if (arguments.length === 1) {
    callback = username;
    username = this.options.get('username');
  }

  this.request({ uri: ['users', username, 'tokens'] }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (apps) {
output(cur, apps);
return;
    }

    var username = jitsu().config.get('username');

    jitsu().apps.<span class="apidocCodeKeywordSpan">list</span>(username, function (err, apps) {
if (err || !apps || !apps.length) {
  cache.write('apps', []);
  return;
}

apps = apps.map(function (app) {
  return app.name;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api.Users" id="apidoc.module.jitsu.api.Users">module jitsu.api.Users</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Users.Users" id="apidoc.element.jitsu.api.Users.Users">
        function <span class="apidocSignatureSpan">jitsu.api.</span>Users
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Users = function (options) {
  Client.call(this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Users.super_" id="apidoc.element.jitsu.api.Users.super_">
        function <span class="apidocSignatureSpan">jitsu.api.Users.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">super_ = function (options) {
  this.clouds = {};
  this.datacenters = {};
  this.options = options;
  this._request = request;

  if (typeof this.options.get !== 'function') {
    this.options.get = function (key) {
      return this[key];
    };
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.api.Users.prototype" id="apidoc.module.jitsu.api.Users.prototype">module jitsu.api.Users.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.api.Users.prototype.auth" id="apidoc.element.jitsu.api.Users.prototype.auth">
        function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>auth
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">auth = function (callback) {
  this.request({ uri: ['auth'] }, function (err, result) {
    if (err) return callback(err)
    callback(err, result);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  '',
  '    $ redis-cli -h ' + server + ' -p ' + port + ' -a ' + password,
  '',
  'Connect with the `' + 'redis'.magenta + '` module:',
  '',
  '    var redis = require(\'redis\');',
  '    var client = redis.createClient(' + port + ', \'' + server + '\');',
  '    client.<span class="apidocCodeKeywordSpan">auth</span>(\'' + password + '\', function (err) {'
;,
  '      if (err) { throw err; }',
  '      // You are now connected to your redis.',
  '    });',
  '',
].forEach(printHelp);

break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Users.prototype.available" id="apidoc.element.jitsu.api.Users.prototype.available">
        function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>available
        <span class="apidocSignatureSpan">(username, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">available = function (username, callback) {
  this.request({ uri: ['users', username, 'available'] }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// #### @pkg {Object} Current package.json file on disk
// #### @dir {string} Directory in which the package.json properties are being used
// #### @callback {function} Continuation to respond to when complete.
// #### @createPackage {function} Function needed to make it recursive
// Prompts for appname and subdomain until the combination is available
//
package.available = function (pkg, dir, callback, createPackage) {
jitsu.apps.<span class="apidocCodeKeywordSpan">available</span>(pkg, function (err, isAvailable) {
  var props, fields = [];
  function removeAppname(){
    delete pkg.name;
    fields.push('name');
  }
  function removeSubdomain(){
    delete pkg.subdomain;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Users.prototype.confirm" id="apidoc.element.jitsu.api.Users.prototype.confirm">
        function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>confirm
        <span class="apidocSignatureSpan">(user, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">confirm = function (user, callback) {
  this.request({ method: 'POST', uri: ['users', user.username, 'confirm'], body: user }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  //
  policeDependencies(pkg);

  jitsu.inspect.putObject(pkg, 2);

  return jitsu.argv.release
    ? doWrite(null, true)
    : jitsu.prompt.<span class="apidocCodeKeywordSpan">confirm</span>('Is this ' + 'ok?'.green.bold, { default
: 'yes'}, doWrite);
};

//
// ### function analyzeDependencies (pkg, dir, callback)
// #### @pkg {Object} Parsed package.json to check dependencies for.
// #### @dir {string} Directory containing the package.json file.
// #### @callback {function} Continuation to respond to when complete.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Users.prototype.create" id="apidoc.element.jitsu.api.Users.prototype.create">
        function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>create
        <span class="apidocSignatureSpan">(user, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (user, callback) {
  this.request({ method: 'POST', uri: ['users', user.username], body: user }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.log.help('Please check for an email sent to ' + details.email.grey + ' for further activation instructions
.');
},
login: function (details, next) {
  //
  // Retrieve a token and remove the password with it
  //
  if (details &amp;&amp; details.username) {
    jitsu.tokens.<span class="apidocCodeKeywordSpan">create</span>(details.username, (jitsu.config.get('apiTokenName')||&amp;#
x27;jitsu'), function(err, result) {
      if(!err &amp;&amp; result) {
        var token = Object.getOwnPropertyNames(result).filter(function(n){return n !== 'operation'}).pop();
        jitsu.config.set('apiToken', result[token]);
        jitsu.config.set('apiTokenName', token);
        jitsu.config.clear('password');
        jitsu.config.save();
        return next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Users.prototype.destroy" id="apidoc.element.jitsu.api.Users.prototype.destroy">
        function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>destroy
        <span class="apidocSignatureSpan">(username, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (username, callback) {
  this.request({ method: 'DELETE', uri: ['users', username] }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  executeDestroy();
}

function executeDestroy() {
  jitsu.log.info('Destroy app ' + name.magenta);
  jitsu.prompt.confirm('yes/no', { default: 'yes'}, function(err, result){
    if (result) {
      jitsu.apps.<span class="apidocCodeKeywordSpan">destroy</span>(name, function (err) {
        jitsu.log.silly('Done destroying app ' + name.magenta);
        return err ? callback(err) : callback();
      });
    } else {
      jitsu.log.info('app ' + name.magenta + ' was not destroyed');
      callback(null);
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Users.prototype.emailTaken" id="apidoc.element.jitsu.api.Users.prototype.emailTaken">
        function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>emailTaken
        <span class="apidocSignatureSpan">(email, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emailTaken = function (email, callback) {
  this.request({ method: 'POST', uri: ['users', 'email', 'taken'], body: {
    email: email
  }}, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Users.prototype.forgot" id="apidoc.element.jitsu.api.Users.prototype.forgot">
        function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>forgot
        <span class="apidocSignatureSpan">(username, params, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forgot = function (username, params, callback) {
  if (!callback &amp;&amp; typeof params === 'function') {
    callback = params;
    params = {};
  }

  this.request({ method: 'POST', uri: ['users', username, 'forgot'], body: params }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (err) {
  return callback(err);
}
if (results['set password'] !== results['confirm password']) {
  jitsu.log.error('The provided passwords do not match.');
  return getNewPass();
}
jitsu.users.<span class="apidocCodeKeywordSpan">forgot</span>(username, {
  shake: response.shake,
  'new-password': results['set password']
}, function (err, res) {
  jitsu.config.set('username', username);
  jitsu.config.set('password', results['set password']);
  // now that we have a new password lets checkout a new api token and clear out the password
  jitsu.tokens.create(username, (jitsu.config.get('apiTokenName')||'jitsu'), function(err, result) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Users.prototype.update" id="apidoc.element.jitsu.api.Users.prototype.update">
        function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>update
        <span class="apidocSignatureSpan">(username, object, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (username, object, callback) {
  this.request({ method: 'PUT', uri: ['users', username], body: object }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.log.silly('Done activating snapshot ' + snapshot.grey);
  startApp(err, existing);
});
  }

  function updateApp(existing, snapshot) {
jitsu.log.info('Updating app ' + existing.name.magenta);
jitsu.apps.<span class="apidocCodeKeywordSpan">update</span>(existing.name, pkg, function (err) {

  if (err) {
    return callback(err);
  }

  activateSnapshot(existing, snapshot);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.api.Users.prototype.view" id="apidoc.element.jitsu.api.Users.prototype.view">
        function <span class="apidocSignatureSpan">jitsu.api.Users.prototype.</span>view
        <span class="apidocSignatureSpan">(username, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">view = function (username, callback) {
  this.request({ uri: ['users', username] }, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    jitsu().package.read(process.cwd(), function (err, pkg) {
      if (err) {
cache.write('env', {});
return;
      }

      jitsu().apps.<span class="apidocCodeKeywordSpan">view</span>(pkg.name, function (err, app) {
if (err || !app || !app.env) {
  cache.write('env', {});
  return;
}

output(cur, app.env);
cache.write('env', app.env);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.bootstrapper" id="apidoc.module.jitsu.bootstrapper">module jitsu.bootstrapper</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.bootstrapper.bootstrap" id="apidoc.element.jitsu.bootstrapper.bootstrap">
        function <span class="apidocSignatureSpan">jitsu.bootstrapper.</span>bootstrap
        <span class="apidocSignatureSpan">(app)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bootstrap = function (app) {
  app.options['config']        = app.options['config'] || {};
  app.options['config'].init   = false;
  app.use(broadway.plugins.config);

  //
  // Remove initializers run by the bootstrapper.
  //
  delete app.initializers['config'];
  app.initlist.pop();

  //
  // Set the current environment in the config
  //
  app.config.set('env', app.env);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.bootstrapper.init" id="apidoc.element.jitsu.bootstrapper.init">
        function <span class="apidocSignatureSpan">jitsu.bootstrapper.</span>init
        <span class="apidocSignatureSpan">(app, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (app, callback) {
  broadway.plugins.config.init.call(app, function (err) {
    if (err) {
      return callback(err);
    }

    if (app.config.get('handleExceptions')) {
      app.use(broadway.plugins.exceptions, app.options['exceptions'] || {});
    }

    app.use(broadway.plugins.directories, app.options['directories'] || {});
    app.use(broadway.plugins.log, app.options['log'] || {});

    //
    // Ensure the `directories` and `log` plugins initialize before
    // any other plugins.
    //
    app.initlist.unshift.apply(
      app.initlist,
      app.initlist.splice(-2, 2)
    );

    callback();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // whoami command should not output anything but username
  //
  if (jitsu.argv._[0] === "whoami") {
console.log(jitsu.config.get('username') || '');
return;
  }

  jitsu.<span class="apidocCodeKeywordSpan">init</span>(function (err) {
if (err) {
  jitsu.welcome();
  jitsu.showError(jitsu.argv._.join(' '), err);
  return callback(err);
}

jitsu.common.checkVersion(function (err) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.commands" id="apidoc.module.jitsu.commands">module jitsu.commands</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.commands.cloud" id="apidoc.element.jitsu.commands.cloud">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>cloud
        <span class="apidocSignatureSpan">(name, provider, datacenter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cloud = function (name, provider, datacenter) {
  var providers = ['joyent'],
      args      = utile.args(arguments),
      callback  = args.callback,
      drones    = jitsu.argv.drones,
      ram       = jitsu.argv.ram;

  //
  // If `name` is `list` then show the current providers.
  //
  if (name === 'list') {
    return jitsu.apps.endpoints(function (err, endpoints) {
      if (err) {
        callback(err);
      }

      if (typeof endpoints === 'undefined') {
        endpoints = {};
      }

      jitsu.log.info('You can use one of the following providers');
      Object.keys(endpoints).forEach(function (provider) {
        var datacenters = endpoints[provider];
        Object.keys(datacenters).forEach(function (datacenter) {
          jitsu.log.data('jitsu cloud ' + provider + ' ' + datacenter);
        });
      });

      callback(null);
    });
  }

  //
  // If `name` is one of the known providers then curry
  // arguments and read package.json from `process.cwd()`.
  //
  if (providers.indexOf(name) !== -1) {
    datacenter = provider;
    provider = name;
    name = null;
  }

  //
  // If `datacenter` was not passed it will
  // be the callback.
  //
  datacenter = typeof datacenter !== 'function'
    ? datacenter
    : null;

  //
  // Print the cloud information for the app and respond.
  //
  function viewCloud(app) {
    if (!app.config || !app.config.cloud) {
      jitsu.log.error('Error: The app ' + app.name.magenta + ' don\'t have any cloud config.');
      jitsu.log.error('You need deploy your app before get any cloud config.');
      return callback(new Error());
    }
    jitsu.log.info('Viewing cloud info for ' + name.magenta);
    jitsu.inspect.putObject(app.config.cloud[0]);
    callback(null, app);
  }

  //
  // 1. Print what cloud app is deployed in now.
  // 2. Print new cloud app will be deployed to.
  // 3. Start the app in the specified cloud.
  //
  function setCloud(app) {
    drones = drones || app.maxDrones;
    ram = ram || (app.config.cloud ? app.config.cloud[0].ram : 256);

    var cloud = {
      datacenter: datacenter,
      provider: provider,
      drones: drones,
      ram: ram
    };

    if (app.state === 'started') {
      jitsu.log.info('App currently deployed to the cloud with:')
      jitsu.inspect.putObject(app.config.cloud[0]);
    }

    jitsu.log.info('Deploying application to the cloud with:')
    jitsu.inspect.putObject(cloud);

    async.series({
      //
      // 1. Fetch the endpoints so that we can properly
      //    tell the user what datacenter they are in later.
      //
      endpoints: function getEndpoints(next) {
        jitsu.apps.endpoints(next);
      },
      //
      // 2. Start the app with the specified cloud information.
      //
      start: function start(next) {
        jitsu.apps.datacenter(name, cloud, next);
      }
    }, function (err, result) {
      if (err) {
        jitsu.log.error('Error starting ' + name.magenta);
        return callback(err);
      }

      var endpoints = result.endpoints,
          tld = result.endpoints[provider][datacenter];

      jitsu.log.info('App ' + name.magenta + ' is now started');
      jitsu.log.info(('http://' + app.subdomain + tld.replace('api', '')).magenta + ' on Port ' + '80'.magenta);
      callback(null, app);
    });
  }

  //
  // Retreive the app and call `setCloud` or `viewCloud`
  // depending on what arguments have been passed.
  //
  function viewApp() {
    jitsu.log.info('Fetching app ' + name.magenta);
    jitsu.apps.view(name, function (err, app) {
      if (err) {
        jitsu.log.error('App ' + name.magenta + ' doesn\'t exist on Nodejitsu yet!');
        jitsu.log.help('Try running ' + 'jitsu deploy'.magenta);
        return callback({});
      }

      return provider &amp;&amp; datacenter
        ? setCloud(app)
        : viewCloud(app);
    });
  }

  //
  // Read the app from the current directory.
  //
  function readApp(next) {
    jitsu.package.read(process.cwd(), function (err, pkg) {
      if (err) {
        callback(err);
      }

      name = pkg.name;
      next();
    });
  } ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.log.error('Please use a valid datacenter name.');
  return callback(new Error(), true)
}
  }

  function executeStart() {
// Skip straight to cloud if we have cloud data.
if (cloud) return apps.<span class="apidocCodeKeywordSpan">cloud</span>(name, cloud.provider, cloud.datacenter, callback);

jitsu.log.info('Starting app ' + name.magenta);

var showInfo = function showInfo (err, config) {
  if (err) {
    return handleStartError(err, name, callback);
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.conf" id="apidoc.element.jitsu.commands.conf">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>conf
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">conf = function (callback) {
  var data = cliConfig.store
    ? cliConfig.app.config.stores[cliConfig.store].store
    : cliConfig.app.config.load();

  if (cliConfig.before.list &amp;&amp; !cliConfig.before.list()) {
    return callback();
  }

  cliConfig.app.inspect.putObject(data, {
    password: function (line) {
      var password = line.match(/password.*\:\s(.*)$/)[1];
      return line.replace(password, "'********'");
    }
  }, 2);

  callback();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.d" id="apidoc.element.jitsu.commands.d">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>d
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">d = function (callback) {
  var dir = process.cwd(),
      args = utile.args(arguments),
      cloud = {},
      pkg;

  //
  // Allows arbitrary amount of arguments to deploy
  //
  if (arguments.length) {
    callback = args.callback;
  }

  //
  // Allow use provider name and datacenter name without flags (--provider, --datacenter)
  //
  if (arguments.length === 2) {
    jitsu.log.error('Error: No datacenter name specified');
    jitsu.log.error('Please use a valid datacenter name.');

    return jitsu.apps.endpoints(function (err, endpoints) {
      if (err) return callback(err);

      if (endpoints) {
        jitsu.log.info('You can use one of the following providers');
        Object.keys(endpoints).forEach(function (provider) {
          var datacenters = endpoints[provider];
          Object.keys(datacenters).forEach(function (datacenter) {
            jitsu.log.data('jitsu deploy ' + provider + ' ' + datacenter);
          });
        });
      }

      return callback(new Error(), true);
    });
  }

  if (arguments.length === 3) {
    cloud.provider = args[0];
    cloud.datacenter = args[1];
  }

  // Setup of cloud parameters specified using (--)
  if (jitsu.argv['provider'] || jitsu.argv['datacenter']) {
    cloud.provider = jitsu.argv['provider'];
    cloud.datacenter = jitsu.argv['datacenter'];
  }

  function startApp(err, existing) {
    if (err) {
      jitsu.log.error('Error creating snapshot for app ' + pkg.name.magenta);
      jitsu.log.error(err.message);
      return callback(new Error(), true);
    }

    //if (existing.state === 'started') {
    //
    // existing.state is thrown away in check app.
    // these closures would need to be rearanged so that this closure can see the result of view..
    //

    //
    // Enable custom drone number and memory ram
    //
    if (jitsu.argv['drones'] &amp;&amp; typeof jitsu.argv['drones'] === 'number') {
      cloud.drones = jitsu.argv['drones'];
    } else if (cloud.provider &amp;&amp; cloud.datacenter) {
      // Default drones to 1
      cloud.drones = 1;
    }

    if (jitsu.argv['ram'] &amp;&amp; typeof jitsu.argv['ram'] === 'number') {
      if ([1, 256, 512, 1024].indexOf(jitsu.argv['ram']) === -1) {
        jitsu.log.warn('Invalid value of parameter: --ram, using 256 as default');
        cloud.ram = 256;
      } else {
        cloud.ram = jitsu.argv['ram'];
      }
    } else if (cloud.provider &amp;&amp; cloud.datacenter) {
      // Default ram to 256
      cloud.ram = 256;
    }

    var next = function next (err) {
      if (err) {
        return callback(err);
      }

      jitsu.package.runScript(pkg, 'postdeploy', callback);
    };

    // Only if all options are correct we pass cloud options
    if (cloud.provider &amp;&amp; cloud.datacenter &amp;&amp; cloud.drones &amp;&amp; cloud.ram) {
      apps.start(existing.name, cloud, next);
    } else {
      apps.start(existing.name, next);
    }

    //}
    //else {
    //  apps.start(existing.name, callback);
    //}
  }

  function activateSnapshot(existing, snapshot) {
    jitsu.log.info('Activating snapshot ' + snapshot.grey + ' for ' + existing.name.magenta);
    jitsu.snapshots.activate(existing.name, snapshot, function (err) {
      jitsu.log.silly('Done activating snapshot ' + snapshot.grey);
      startApp(err, existing);
    });
  }

  function updateApp(existing, snapshot) {
    jitsu.log.info('Updating app ' + existing.name.magenta);
    jitsu.apps.update(existing.name, pkg, function (err) {

      if (err) {
        return callback(err);
      }

      activateSnapshot(existing, snapshot);
    });
  }

  function updateSnapshot(err, existing, firstSnapshot) {
    if (err) {
      return callback(err, true, true);
    }

    jitsu.package.runScript(pkg, 'predeploy', function (err) {
      if (err) {
        return callback(err);
      }

      jitsu.package.updateTarball(null, pkg, existing, firstSnapshot, function (err, snapshot) {
        if (err) {
          return callback(err, snapshot);
        }

        updateApp(existing, snapshot);
      });
    });
  }

  function checkApp(err, local) {
    if (err) {
      jitsu.log.error(e ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.deploy" id="apidoc.element.jitsu.commands.deploy">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>deploy
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deploy = function (callback) {
  var dir = process.cwd(),
      args = utile.args(arguments),
      cloud = {},
      pkg;

  //
  // Allows arbitrary amount of arguments to deploy
  //
  if (arguments.length) {
    callback = args.callback;
  }

  //
  // Allow use provider name and datacenter name without flags (--provider, --datacenter)
  //
  if (arguments.length === 2) {
    jitsu.log.error('Error: No datacenter name specified');
    jitsu.log.error('Please use a valid datacenter name.');

    return jitsu.apps.endpoints(function (err, endpoints) {
      if (err) return callback(err);

      if (endpoints) {
        jitsu.log.info('You can use one of the following providers');
        Object.keys(endpoints).forEach(function (provider) {
          var datacenters = endpoints[provider];
          Object.keys(datacenters).forEach(function (datacenter) {
            jitsu.log.data('jitsu deploy ' + provider + ' ' + datacenter);
          });
        });
      }

      return callback(new Error(), true);
    });
  }

  if (arguments.length === 3) {
    cloud.provider = args[0];
    cloud.datacenter = args[1];
  }

  // Setup of cloud parameters specified using (--)
  if (jitsu.argv['provider'] || jitsu.argv['datacenter']) {
    cloud.provider = jitsu.argv['provider'];
    cloud.datacenter = jitsu.argv['datacenter'];
  }

  function startApp(err, existing) {
    if (err) {
      jitsu.log.error('Error creating snapshot for app ' + pkg.name.magenta);
      jitsu.log.error(err.message);
      return callback(new Error(), true);
    }

    //if (existing.state === 'started') {
    //
    // existing.state is thrown away in check app.
    // these closures would need to be rearanged so that this closure can see the result of view..
    //

    //
    // Enable custom drone number and memory ram
    //
    if (jitsu.argv['drones'] &amp;&amp; typeof jitsu.argv['drones'] === 'number') {
      cloud.drones = jitsu.argv['drones'];
    } else if (cloud.provider &amp;&amp; cloud.datacenter) {
      // Default drones to 1
      cloud.drones = 1;
    }

    if (jitsu.argv['ram'] &amp;&amp; typeof jitsu.argv['ram'] === 'number') {
      if ([1, 256, 512, 1024].indexOf(jitsu.argv['ram']) === -1) {
        jitsu.log.warn('Invalid value of parameter: --ram, using 256 as default');
        cloud.ram = 256;
      } else {
        cloud.ram = jitsu.argv['ram'];
      }
    } else if (cloud.provider &amp;&amp; cloud.datacenter) {
      // Default ram to 256
      cloud.ram = 256;
    }

    var next = function next (err) {
      if (err) {
        return callback(err);
      }

      jitsu.package.runScript(pkg, 'postdeploy', callback);
    };

    // Only if all options are correct we pass cloud options
    if (cloud.provider &amp;&amp; cloud.datacenter &amp;&amp; cloud.drones &amp;&amp; cloud.ram) {
      apps.start(existing.name, cloud, next);
    } else {
      apps.start(existing.name, next);
    }

    //}
    //else {
    //  apps.start(existing.name, callback);
    //}
  }

  function activateSnapshot(existing, snapshot) {
    jitsu.log.info('Activating snapshot ' + snapshot.grey + ' for ' + existing.name.magenta);
    jitsu.snapshots.activate(existing.name, snapshot, function (err) {
      jitsu.log.silly('Done activating snapshot ' + snapshot.grey);
      startApp(err, existing);
    });
  }

  function updateApp(existing, snapshot) {
    jitsu.log.info('Updating app ' + existing.name.magenta);
    jitsu.apps.update(existing.name, pkg, function (err) {

      if (err) {
        return callback(err);
      }

      activateSnapshot(existing, snapshot);
    });
  }

  function updateSnapshot(err, existing, firstSnapshot) {
    if (err) {
      return callback(err, true, true);
    }

    jitsu.package.runScript(pkg, 'predeploy', function (err) {
      if (err) {
        return callback(err);
      }

      jitsu.package.updateTarball(null, pkg, existing, firstSnapshot, function (err, snapshot) {
        if (err) {
          return callback(err, snapshot);
        }

        updateApp(existing, snapshot);
      });
    });
  }

  function checkApp(err, local) {
    if (err) {
      jitsu.log.error(e ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.destroy" id="apidoc.element.jitsu.commands.destroy">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>destroy
        <span class="apidocSignatureSpan">(name, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (name, callback) {

  //
  // Allows arbitrary amount of arguments
  //
  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    name = args[0] || null;
  }
  if (!name) {
    jitsu.package.tryRead(process.cwd(), callback, function (pkg) {
      jitsu.log.info('Attempting to destroy app ' + pkg.name.magenta);
      name = pkg.name;
      executeDestroy();
    });
  } else {
    executeDestroy();
  }

  function executeDestroy() {
    jitsu.log.info('Destroy app ' + name.magenta);
    jitsu.prompt.confirm('yes/no', { default: 'yes'}, function(err, result){
      if (result) {
        jitsu.apps.destroy(name, function (err) {
          jitsu.log.silly('Done destroying app ' + name.magenta);
          return err ? callback(err) : callback();
        });
      } else {
        jitsu.log.info('app ' + name.magenta + ' was not destroyed');
        callback(null);
      }
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  executeDestroy();
}

function executeDestroy() {
  jitsu.log.info('Destroy app ' + name.magenta);
  jitsu.prompt.confirm('yes/no', { default: 'yes'}, function(err, result){
    if (result) {
      jitsu.apps.<span class="apidocCodeKeywordSpan">destroy</span>(name, function (err) {
        jitsu.log.silly('Done destroying app ' + name.magenta);
        return err ? callback(err) : callback();
      });
    } else {
      jitsu.log.info('app ' + name.magenta + ' was not destroyed');
      callback(null);
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.forgot" id="apidoc.element.jitsu.commands.forgot">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>forgot
        <span class="apidocSignatureSpan">(username, shake, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forgot = function (username, shake, callback) {
  var app = cliUsers.app;

  //
  // Helper for prompting the user for information required for
  // resetting password.
  //
  function resetPassword() {
    app.config.set('username', username);
    getPassword(function (err, password) {
      if (err) {
        return callback(err);
      }

      app.users.forgot(username, {
        shake: shake,
        'new-password': password
      }, function (err, res) {
        if (err) {
          app.log.error('Unable to set new password for ' + username.magenta);
          app.log.error(err.message);
          return callback(err);
        }

        app.config.set('password', password);
        app.config.save(callback);
      });
    });
  }

  //
  // call app.users.forgot(username) and display reset info to user
  //
  function displayPasswordReset(username) {
    app.users.forgot(username, {}, function (err, result) {
      if (err) {
       return callback(err);
      }
      app.log.info('Request password reset for: ' + username.magenta);
      app.log.info('Check your email for instructions on resetting your password.');
      callback();
    });
  }

  //
  // Helper function to prompt for username and send password reset
  // defaults to config.get('username')
  //
  function promptUsername() {
    app.prompt.get([{name: 'username', default: app.config.get('username')}
    ], function (err, result) {
      username = result.username
      displayPasswordReset(username)
      if (!username) {
        callback(new Error('Username is required'), true);
      }
    });
  }

  if (!username) {
    return promptUsername()
  }

  if (typeof shake === 'string') {
    //
    // They are providing a shake so lets reset the password
    //
    return resetPassword();
  }

  displayPasswordReset(username);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (err) {
  return callback(err);
}
if (results['set password'] !== results['confirm password']) {
  jitsu.log.error('The provided passwords do not match.');
  return getNewPass();
}
jitsu.users.<span class="apidocCodeKeywordSpan">forgot</span>(username, {
  shake: response.shake,
  'new-password': results['set password']
}, function (err, res) {
  jitsu.config.set('username', username);
  jitsu.config.set('password', results['set password']);
  // now that we have a new password lets checkout a new api token and clear out the password
  jitsu.tokens.create(username, (jitsu.config.get('apiTokenName')||'jitsu'), function(err, result) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.l" id="apidoc.element.jitsu.commands.l">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>l
        <span class="apidocSignatureSpan">(username, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">l = function (username, callback) {

  var authuser = jitsu.config.get('username') || '';

  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    username = args[0] || authuser;
  }

  if (authuser === '') {
    return jitsu.commands.users.login(function (err) {
      if (err) {
        return callback(err);
      }

      jitsu.commands.apps.list(username, callback);
    });
  }

  jitsu.log.info('Listing all apps for ' + username.magenta);

  jitsu.apps.list(username, function cb(err, apps) {
    if (err) {
      if (err.statusCode === 403) {
        if (authuser === '') {
          jitsu.log.error('You are not authorized to list application for user: ' + username.magenta);
          jitsu.log.error('You need to login to do that!');
        }
        else {
          jitsu.log.error(jitsu.config.get('username').magenta + ' is not authorized to list applications for user: ' + username
.magenta);
        }
      }
      return callback(err);
    }

    if (!apps || apps.length === 0) {
      jitsu.log.warn('No applications exist.');
      jitsu.log.help('Try creating one with ' + 'jitsu install'.magenta + ' and then deploy it with ' + 'jitsu deploy'.magenta);
      return callback();
    }

    var rows = [['name', 'state', 'subdomain', 'drones', 'running snapshot']],
        colors = ['underline', 'underline', 'underline', 'underline', 'underline'];

    apps.forEach(function (app) {
      app.state = jitsu.common.formatAppState(app.state);

      //
      // Remark: Attempt to always show running snapshot
      //
      var snapshot = '---';
      if (app.running &amp;&amp; app.running.filename) {
        snapshot = app.running.filename;
      }

      rows.push([
        app.name,
        app.state,
        app.subdomain,
        app.drones + '/' + app.maxDrones,
        snapshot
      ]);
    });

    jitsu.inspect.putRows('data', rows, colors);
    callback();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.list" id="apidoc.element.jitsu.commands.list">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>list
        <span class="apidocSignatureSpan">(username, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">list = function (username, callback) {

  var authuser = jitsu.config.get('username') || '';

  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    username = args[0] || authuser;
  }

  if (authuser === '') {
    return jitsu.commands.users.login(function (err) {
      if (err) {
        return callback(err);
      }

      jitsu.commands.apps.list(username, callback);
    });
  }

  jitsu.log.info('Listing all apps for ' + username.magenta);

  jitsu.apps.list(username, function cb(err, apps) {
    if (err) {
      if (err.statusCode === 403) {
        if (authuser === '') {
          jitsu.log.error('You are not authorized to list application for user: ' + username.magenta);
          jitsu.log.error('You need to login to do that!');
        }
        else {
          jitsu.log.error(jitsu.config.get('username').magenta + ' is not authorized to list applications for user: ' + username
.magenta);
        }
      }
      return callback(err);
    }

    if (!apps || apps.length === 0) {
      jitsu.log.warn('No applications exist.');
      jitsu.log.help('Try creating one with ' + 'jitsu install'.magenta + ' and then deploy it with ' + 'jitsu deploy'.magenta);
      return callback();
    }

    var rows = [['name', 'state', 'subdomain', 'drones', 'running snapshot']],
        colors = ['underline', 'underline', 'underline', 'underline', 'underline'];

    apps.forEach(function (app) {
      app.state = jitsu.common.formatAppState(app.state);

      //
      // Remark: Attempt to always show running snapshot
      //
      var snapshot = '---';
      if (app.running &amp;&amp; app.running.filename) {
        snapshot = app.running.filename;
      }

      rows.push([
        app.name,
        app.state,
        app.subdomain,
        app.drones + '/' + app.maxDrones,
        snapshot
      ]);
    });

    jitsu.inspect.putRows('data', rows, colors);
    callback();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (apps) {
output(cur, apps);
return;
    }

    var username = jitsu().config.get('username');

    jitsu().apps.<span class="apidocCodeKeywordSpan">list</span>(username, function (err, apps) {
if (err || !apps || !apps.length) {
  cache.write('apps', []);
  return;
}

apps = apps.map(function (app) {
  return app.name;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.login" id="apidoc.element.jitsu.commands.login">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>login
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">login = function () {
  var app = cliUsers.app,
      args = common.args(arguments),
      username = args[0] || app.config.get('username'),
      password = args[1],
      callback = args.callback,
      tries = 0,
      schema = {
        properties: {
          username: {
            type: 'string',
            default: username,
            required: true
          },
          password: {
            type: 'string',
            default: password,
            hidden: true,
            required: true
          }
        }
      };

  if (cliUsers.before.setup) {
    cliUsers.before.setup({ username: app.config.get('username') });
  }

  //
  // Login workflow including async hooks
  //
  async.series([
    //
    // Before login hook
    //
    function before (next) {
      if (cliUsers.before.login) {
        cliUsers.before.login({ username: app.config.get('username') }, next);
      } else {
        next();
      }
    },
    //
    // Login
    //
    setupAuth,
    //
    // After login hook
    //
    function after (next) {
      if (cliUsers.after.login) {
        cliUsers.after.login({ username: app.config.get('username') }, next);
      } else {
        next();
      }
    }
  ],
  //
  // Workflow end
  //
  function (err, result) {
    return err ? callback(err) : callback();
  });

  //
  // Helper function to offer a password reset to the user.
  //
  function offerReset(username) {
    app.prompt.get(['reset'], function (err, res) {
      if (err) {
        return callback(err);
      }
      if (/^y[es]+/i.test(res['request password reset'])) {
        return app.commands.users.forgot(username, null, callback);
      }

      callback(new Error('Invalid username / password.'));
    });
  }

  //
  // Helper function with prompts the user for username and password.
  //
  function setupAuth(next) {
    app.prompt.get(schema, function(err, result) {
      if (err) {
        return callback(err);
      }

      app.config.set('username', result.username);
      app.config.set('password', result.password);

      return app.setup
        ? app.setup(function () {
          tryAuth(next);
        })
        : tryAuth(next);
    });
  }

  //
  // Helper function to attempt to authenticate as the current user.
  //
  function tryAuth(next) {
    var username = app.config.get('username');

    app.auth(function (err) {
      //
      // Attempt to get the password three times.
      // Increment the auth attempts
      //
      tries += 1;

      if (err) {
        if (tries &gt;= 3) {
          app.log.error('Three failed login attempts');
          app.log.info('Would you like to reset your password?');
          return offerReset(username);
        }

        return setupAuth(next);
      }

      app.config.save(function (err) {
        return err ? next(err) : next();
      });
    });
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

      if (parseInt(minor, 10) % 2) {
        jitsu.log.warn('You are using unstable version of node.js. You may experience problems.');
      }

      username = jitsu.config.get('username');
      if (!username &amp;&amp; jitsu.config.get('requiresAuth').indexOf(jitsu.argv._[0]) !== -1) {
        return jitsu.commands.users.<span class="apidocCodeKeywordSpan">login</span>(function (err) {
if (err) {
  jitsu.showError(jitsu.argv._.join(' '), err);
  return callback(err);
}

var username = jitsu.config.get('username');
jitsu.log.info('Successfully configured user ' + username.magenta);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.logout" id="apidoc.element.jitsu.commands.logout">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>logout
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function (callback) {
  var app = cliUsers.app,
      username = app.config.get('username');

  async.series([
      //
      // Before hook
      //
      function before (next) {
        if (cliUsers.before.logout) {
          cliUsers.before.logout({ username: username }, next);
        } else {
          next();
        }
      },
      function logout (next) {
        app.config.clear('username');
        app.config.clear('password');
        next();
      },
      //
      // After hook
      //
      function after (next) {
        if (cliUsers.after.logout) {
          cliUsers.after.logout({ username: username }, next);
        } else {
          next();
        }
      }
    ],
  //
  // End workflow
  //
  function(err, details) {
    app.config.save(function (err) {
      if (err) {
        return callback(err, true);
      }

      app.log.info('User has been logged out');
      callback();
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.ls" id="apidoc.element.jitsu.commands.ls">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>ls
        <span class="apidocSignatureSpan">(username, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ls = function (username, callback) {

  var authuser = jitsu.config.get('username') || '';

  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    username = args[0] || authuser;
  }

  if (authuser === '') {
    return jitsu.commands.users.login(function (err) {
      if (err) {
        return callback(err);
      }

      jitsu.commands.apps.list(username, callback);
    });
  }

  jitsu.log.info('Listing all apps for ' + username.magenta);

  jitsu.apps.list(username, function cb(err, apps) {
    if (err) {
      if (err.statusCode === 403) {
        if (authuser === '') {
          jitsu.log.error('You are not authorized to list application for user: ' + username.magenta);
          jitsu.log.error('You need to login to do that!');
        }
        else {
          jitsu.log.error(jitsu.config.get('username').magenta + ' is not authorized to list applications for user: ' + username
.magenta);
        }
      }
      return callback(err);
    }

    if (!apps || apps.length === 0) {
      jitsu.log.warn('No applications exist.');
      jitsu.log.help('Try creating one with ' + 'jitsu install'.magenta + ' and then deploy it with ' + 'jitsu deploy'.magenta);
      return callback();
    }

    var rows = [['name', 'state', 'subdomain', 'drones', 'running snapshot']],
        colors = ['underline', 'underline', 'underline', 'underline', 'underline'];

    apps.forEach(function (app) {
      app.state = jitsu.common.formatAppState(app.state);

      //
      // Remark: Attempt to always show running snapshot
      //
      var snapshot = '---';
      if (app.running &amp;&amp; app.running.filename) {
        snapshot = app.running.filename;
      }

      rows.push([
        app.name,
        app.state,
        app.subdomain,
        app.drones + '/' + app.maxDrones,
        snapshot
      ]);
    });

    jitsu.inspect.putRows('data', rows, colors);
    callback();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.publish" id="apidoc.element.jitsu.commands.publish">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>publish
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">publish = function (callback) {
  var dir = process.cwd(),
      args = utile.args(arguments),
      cloud = {},
      pkg;

  //
  // Allows arbitrary amount of arguments to deploy
  //
  if (arguments.length) {
    callback = args.callback;
  }

  //
  // Allow use provider name and datacenter name without flags (--provider, --datacenter)
  //
  if (arguments.length === 2) {
    jitsu.log.error('Error: No datacenter name specified');
    jitsu.log.error('Please use a valid datacenter name.');

    return jitsu.apps.endpoints(function (err, endpoints) {
      if (err) return callback(err);

      if (endpoints) {
        jitsu.log.info('You can use one of the following providers');
        Object.keys(endpoints).forEach(function (provider) {
          var datacenters = endpoints[provider];
          Object.keys(datacenters).forEach(function (datacenter) {
            jitsu.log.data('jitsu deploy ' + provider + ' ' + datacenter);
          });
        });
      }

      return callback(new Error(), true);
    });
  }

  if (arguments.length === 3) {
    cloud.provider = args[0];
    cloud.datacenter = args[1];
  }

  // Setup of cloud parameters specified using (--)
  if (jitsu.argv['provider'] || jitsu.argv['datacenter']) {
    cloud.provider = jitsu.argv['provider'];
    cloud.datacenter = jitsu.argv['datacenter'];
  }

  function startApp(err, existing) {
    if (err) {
      jitsu.log.error('Error creating snapshot for app ' + pkg.name.magenta);
      jitsu.log.error(err.message);
      return callback(new Error(), true);
    }

    //if (existing.state === 'started') {
    //
    // existing.state is thrown away in check app.
    // these closures would need to be rearanged so that this closure can see the result of view..
    //

    //
    // Enable custom drone number and memory ram
    //
    if (jitsu.argv['drones'] &amp;&amp; typeof jitsu.argv['drones'] === 'number') {
      cloud.drones = jitsu.argv['drones'];
    } else if (cloud.provider &amp;&amp; cloud.datacenter) {
      // Default drones to 1
      cloud.drones = 1;
    }

    if (jitsu.argv['ram'] &amp;&amp; typeof jitsu.argv['ram'] === 'number') {
      if ([1, 256, 512, 1024].indexOf(jitsu.argv['ram']) === -1) {
        jitsu.log.warn('Invalid value of parameter: --ram, using 256 as default');
        cloud.ram = 256;
      } else {
        cloud.ram = jitsu.argv['ram'];
      }
    } else if (cloud.provider &amp;&amp; cloud.datacenter) {
      // Default ram to 256
      cloud.ram = 256;
    }

    var next = function next (err) {
      if (err) {
        return callback(err);
      }

      jitsu.package.runScript(pkg, 'postdeploy', callback);
    };

    // Only if all options are correct we pass cloud options
    if (cloud.provider &amp;&amp; cloud.datacenter &amp;&amp; cloud.drones &amp;&amp; cloud.ram) {
      apps.start(existing.name, cloud, next);
    } else {
      apps.start(existing.name, next);
    }

    //}
    //else {
    //  apps.start(existing.name, callback);
    //}
  }

  function activateSnapshot(existing, snapshot) {
    jitsu.log.info('Activating snapshot ' + snapshot.grey + ' for ' + existing.name.magenta);
    jitsu.snapshots.activate(existing.name, snapshot, function (err) {
      jitsu.log.silly('Done activating snapshot ' + snapshot.grey);
      startApp(err, existing);
    });
  }

  function updateApp(existing, snapshot) {
    jitsu.log.info('Updating app ' + existing.name.magenta);
    jitsu.apps.update(existing.name, pkg, function (err) {

      if (err) {
        return callback(err);
      }

      activateSnapshot(existing, snapshot);
    });
  }

  function updateSnapshot(err, existing, firstSnapshot) {
    if (err) {
      return callback(err, true, true);
    }

    jitsu.package.runScript(pkg, 'predeploy', function (err) {
      if (err) {
        return callback(err);
      }

      jitsu.package.updateTarball(null, pkg, existing, firstSnapshot, function (err, snapshot) {
        if (err) {
          return callback(err, snapshot);
        }

        updateApp(existing, snapshot);
      });
    });
  }

  function checkApp(err, local) {
    if (err) {
      jitsu.log.error(e ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.push" id="apidoc.element.jitsu.commands.push">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>push
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">push = function (callback) {
  var dir = process.cwd(),
      args = utile.args(arguments),
      cloud = {},
      pkg;

  //
  // Allows arbitrary amount of arguments to deploy
  //
  if (arguments.length) {
    callback = args.callback;
  }

  //
  // Allow use provider name and datacenter name without flags (--provider, --datacenter)
  //
  if (arguments.length === 2) {
    jitsu.log.error('Error: No datacenter name specified');
    jitsu.log.error('Please use a valid datacenter name.');

    return jitsu.apps.endpoints(function (err, endpoints) {
      if (err) return callback(err);

      if (endpoints) {
        jitsu.log.info('You can use one of the following providers');
        Object.keys(endpoints).forEach(function (provider) {
          var datacenters = endpoints[provider];
          Object.keys(datacenters).forEach(function (datacenter) {
            jitsu.log.data('jitsu deploy ' + provider + ' ' + datacenter);
          });
        });
      }

      return callback(new Error(), true);
    });
  }

  if (arguments.length === 3) {
    cloud.provider = args[0];
    cloud.datacenter = args[1];
  }

  // Setup of cloud parameters specified using (--)
  if (jitsu.argv['provider'] || jitsu.argv['datacenter']) {
    cloud.provider = jitsu.argv['provider'];
    cloud.datacenter = jitsu.argv['datacenter'];
  }

  function startApp(err, existing) {
    if (err) {
      jitsu.log.error('Error creating snapshot for app ' + pkg.name.magenta);
      jitsu.log.error(err.message);
      return callback(new Error(), true);
    }

    //if (existing.state === 'started') {
    //
    // existing.state is thrown away in check app.
    // these closures would need to be rearanged so that this closure can see the result of view..
    //

    //
    // Enable custom drone number and memory ram
    //
    if (jitsu.argv['drones'] &amp;&amp; typeof jitsu.argv['drones'] === 'number') {
      cloud.drones = jitsu.argv['drones'];
    } else if (cloud.provider &amp;&amp; cloud.datacenter) {
      // Default drones to 1
      cloud.drones = 1;
    }

    if (jitsu.argv['ram'] &amp;&amp; typeof jitsu.argv['ram'] === 'number') {
      if ([1, 256, 512, 1024].indexOf(jitsu.argv['ram']) === -1) {
        jitsu.log.warn('Invalid value of parameter: --ram, using 256 as default');
        cloud.ram = 256;
      } else {
        cloud.ram = jitsu.argv['ram'];
      }
    } else if (cloud.provider &amp;&amp; cloud.datacenter) {
      // Default ram to 256
      cloud.ram = 256;
    }

    var next = function next (err) {
      if (err) {
        return callback(err);
      }

      jitsu.package.runScript(pkg, 'postdeploy', callback);
    };

    // Only if all options are correct we pass cloud options
    if (cloud.provider &amp;&amp; cloud.datacenter &amp;&amp; cloud.drones &amp;&amp; cloud.ram) {
      apps.start(existing.name, cloud, next);
    } else {
      apps.start(existing.name, next);
    }

    //}
    //else {
    //  apps.start(existing.name, callback);
    //}
  }

  function activateSnapshot(existing, snapshot) {
    jitsu.log.info('Activating snapshot ' + snapshot.grey + ' for ' + existing.name.magenta);
    jitsu.snapshots.activate(existing.name, snapshot, function (err) {
      jitsu.log.silly('Done activating snapshot ' + snapshot.grey);
      startApp(err, existing);
    });
  }

  function updateApp(existing, snapshot) {
    jitsu.log.info('Updating app ' + existing.name.magenta);
    jitsu.apps.update(existing.name, pkg, function (err) {

      if (err) {
        return callback(err);
      }

      activateSnapshot(existing, snapshot);
    });
  }

  function updateSnapshot(err, existing, firstSnapshot) {
    if (err) {
      return callback(err, true, true);
    }

    jitsu.package.runScript(pkg, 'predeploy', function (err) {
      if (err) {
        return callback(err);
      }

      jitsu.package.updateTarball(null, pkg, existing, firstSnapshot, function (err, snapshot) {
        if (err) {
          return callback(err, snapshot);
        }

        updateApp(existing, snapshot);
      });
    });
  }

  function checkApp(err, local) {
    if (err) {
      jitsu.log.error(e ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (nested.length &gt; 1 &amp;&amp; value) {
  value = value[nested[1]];
}

// Handle missing values
if (!value) {
  missing.<span class="apidocCodeKeywordSpan">push</span>(desc);
}

// handle invalid values
function isValid(desc) {
  if (desc.validator) {
    if (desc.validator instanceof RegExp) {
      return !desc.validator.test(value);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.restart" id="apidoc.element.jitsu.commands.restart">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>restart
        <span class="apidocSignatureSpan">(name, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">restart = function (name, callback) {

  //
  // Allows arbitrary amount of arguments
  //
  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    name = args[0] || null;
  }

  function executeRestart() {
    jitsu.log.info('Restarting app ' + name.magenta);
    jitsu.apps.restart(name, function (err) {
      if (err) {
        return callback(err);
      }

      jitsu.log.info('App ' + name.magenta + ' has been restarted');
      callback();
    });
  }

  if (!name) {
    return jitsu.package.tryRead(process.cwd(), callback, function (pkg) {
      name = pkg.name;
      executeRestart();
    });
  }

  executeRestart();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var args = utile.args(arguments);
callback = args.callback;
name = args[0] || null;
  }

  function executeRestart() {
jitsu.log.info('Restarting app ' + name.magenta);
jitsu.apps.<span class="apidocCodeKeywordSpan">restart</span>(name, function (err) {
  if (err) {
    return callback(err);
  }

  jitsu.log.info('App ' + name.magenta + ' has been restarted');
  callback();
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.signup" id="apidoc.element.jitsu.commands.signup">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>signup
        <span class="apidocSignatureSpan">(username, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">signup = function (username, callback) {
  var app = cliUsers.app,
      password,
      email;

  //
  // Helper function to create the user and respond.
  //
  function createUser(details) {
    app.users.create(details, function (err, result) {
      if (err) {
        app.log.error('There was an error creating your account');
        app.log.error(err.message);
        return callback(err, true, true);
      }

      app.log.info('Account creation successful!');

      if (cliUsers.after.create) {
        cliUsers.after.create(details);
      }

      callback(null, result);
    });
  }

  //
  // Helper function to prompt the user for password.
  //
  function addPassword() {
    getPassword(function (err, password) {
      if (err) {
        return callback(err);
      }

      app.log.info('You account is now being created');
      return createUser({
        username: username,
        email: email,
        password: password
      });
    });
  }

  //
  // Helper function to prompt the user for email.
  //
  function addEmail() {
    app.prompt.get('email', function (err, result) {
      if (err) {
        return callback(err);
      }

      //
      // Email must be provided.
      //
      email = result.email;
      if (!email) {
        app.log.error('Please provide an email address');
        return addEmail();
      }

      //
      // Check if the email is already registered.
      //
      app.users.emailTaken(email, function (err, res) {
        if (err) {
          return callback(err);
        }
        else if (res.taken) {
          app.log.error('This email is already registered. Please, use a unique email address');
          return addEmail();
        }

        app.log.help('Finally, we will need a password for this account');
        addPassword();
      });
    });
  }

  //
  // Helper function to prompt the user for username.
  //
  function addUsername() {
    app.prompt.get('username', function (err, result) {
      //
      // Disallow falsy usernames like: undefined, false, etc.
      //
      if (!result.username) {
        app.log.error('Please provide a valid username');
        return addUsername();
      }

      app.users.available(result.username, function (err, res) {
        if (err) {
          return callback(err);
        }
        else if (res.available === false) {
          app.log.error('Username was already taken');
          return addUsername();
        }

        username = result.username;
        app.log.help('Next, we will require your email address');

        addEmail();
      });
    });
  }

  app.log.help('To signup, first you will need to provide a username');

  return !username
    ? addUsername()
    : addEmail();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.start" id="apidoc.element.jitsu.commands.start">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>start
        <span class="apidocSignatureSpan">(name, cloud, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (name, cloud, callback) {

  //
  // Allows arbitrary amount of arguments
  //
  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    name = args[0] || null;
    cloud = args[1] || null;
  }

  // Little check when call jitsu start directly
  if (typeof cloud === 'string') {
    cloud = { provider: cloud };
    if (args[2]) {
      cloud.datacenter = args[2];
    } else {
      jitsu.log.error('Error: No datacenter name specified');
      jitsu.log.error('Please use a valid datacenter name.');
      return callback(new Error(), true)
    }
  }

  function executeStart() {
    // Skip straight to cloud if we have cloud data.
    if (cloud) return apps.cloud(name, cloud.provider, cloud.datacenter, callback);

    jitsu.log.info('Starting app ' + name.magenta);

    var showInfo = function showInfo (err, config) {
      if (err) {
        return handleStartError(err, name, callback);
      }

      async.series({
        //
        // 1. Fetch the endpoints so that we can properly
        //    tell the user what datacenter they are in later.
        //
        endpoints: function getEndpoints(next) {
          jitsu.apps.endpoints(next);
        },
        //
        // 2. Get app information to show the proper subdomain.
        //
        app: function start(next) {
          jitsu.apps.view(name, next);
        }
      }, function (err, result) {
        if (err) {
          return callback(err);
        }

        var endpoints = result.endpoints,
            tld = (config &amp;&amp; config.provider &amp;&amp; config.datacenter)
              ? result.endpoints[config.provider][config.datacenter]
              : 'api.jit.su',
            subdomain = result.app.subdomain;

        jitsu.log.info('App ' + name.magenta + ' is now started');
        jitsu.log.info(('http://' + subdomain + tld.replace('api', '')).magenta + ' on Port ' + '80'.magenta);
        callback();
      });
    }

    return jitsu.apps.start(name, showInfo);
  }

  if (!name) {
    return jitsu.package.tryRead(process.cwd(), callback, function (pkg) {
      name = pkg.name;
      executeStart();
    });
  } else {
    executeStart();
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

require('../lib/jitsu/completion');

process.title = 'jitsu';

var jitsu = require('../lib/jitsu');

jitsu.<span class="apidocCodeKeywordSpan">start</span>(function (err) {
  if (!err) {
    jitsu.log.info('Nodejitsu'.grey + ' ok'.green.bold);
  }

  process.exit(err ? 1 : 0);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.stop" id="apidoc.element.jitsu.commands.stop">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>stop
        <span class="apidocSignatureSpan">(name, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stop = function (name, callback) {

  //
  // Allows arbitrary amount of arguments
  //
  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    name = args[0] || null;
  }

  function executeStop() {
    jitsu.log.info('Stopping app ' + name.magenta);
    jitsu.apps.stop(name, function (err) {

      //
      // TODO: replace this error handling with errs library
      //
      if (err) {
        if (err.result &amp;&amp; err.result.error === "not_found") {
          jitsu.log.error('App ' + name.magenta + ' doesn\'t exist on Nodejitsu yet!');
          return callback({});
        }
        return callback(err);
      }

      jitsu.log.info('App ' + name.magenta + ' is now stopped');
      callback();
    });
  }

  if (!name) {
    return jitsu.package.tryRead(process.cwd(), callback, function (pkg) {
      name = pkg.name;
      executeStop();
    });
  }

  executeStop();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var args = utile.args(arguments);
    callback = args.callback;
    name = args[0] || null;
  }

  function executeStop() {
    jitsu.log.info('Stopping app ' + name.magenta);
    jitsu.apps.<span class="apidocCodeKeywordSpan">stop</span>(name, function (err) {

//
// TODO: replace this error handling with errs library
//
if (err) {
  if (err.result &amp;&amp; err.result.error === "not_found") {
    jitsu.log.error('App ' + name.magenta + ' doesn\'t exist on Nodejitsu yet!');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.v" id="apidoc.element.jitsu.commands.v">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>v
        <span class="apidocSignatureSpan">(name, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">v = function (name, callback) {

  //
  // Allows arbitrary amount of arguments
  //
  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    name = args[0] || null;
  }

  function executeView(name) {
    name = name || 'no-name';
    jitsu.apps.view(name, function (err, app) {

      if (err) {
        jitsu.log.error('App ' + name.magenta + ' doesn\'t exist on Nodejitsu yet!');
        jitsu.log.help('Try running ' + 'jitsu deploy'.magenta);
        return callback({});
      }

      jitsu.log.info('Viewing app ' + name.magenta);
      app = jitsu.common.formatApp(app);
      jitsu.inspect.putObject(app);
      callback(null, app);
    });
  }

  function getAppName(callback) {
    jitsu.package.read(process.cwd(), function (err, pkg) {
      if (!err) {
        jitsu.log.info('Attempting to view app ' + (process.cwd()+ '/package.json').grey);
        return callback(null, pkg.name);
      }
      callback(err);
    });
  }

  if (!name) {
    getAppName(function (err, pkg) {
      if (err) {
        jitsu.commands.list(function () {
          jitsu.log.info('Which ' + 'app'.magenta + ' to view?');
          jitsu.prompt.get(["app name"], function (err, result) {
            if (err) {
              jitsu.log.error('Prompt error:');
              return callback(err);
            }
            executeView(result["app name"]);
          });
        });
      } else {
        executeView(pkg);
      }
    });
  } else {
    executeView(name);
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.view" id="apidoc.element.jitsu.commands.view">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>view
        <span class="apidocSignatureSpan">(name, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">view = function (name, callback) {

  //
  // Allows arbitrary amount of arguments
  //
  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    name = args[0] || null;
  }

  function executeView(name) {
    name = name || 'no-name';
    jitsu.apps.view(name, function (err, app) {

      if (err) {
        jitsu.log.error('App ' + name.magenta + ' doesn\'t exist on Nodejitsu yet!');
        jitsu.log.help('Try running ' + 'jitsu deploy'.magenta);
        return callback({});
      }

      jitsu.log.info('Viewing app ' + name.magenta);
      app = jitsu.common.formatApp(app);
      jitsu.inspect.putObject(app);
      callback(null, app);
    });
  }

  function getAppName(callback) {
    jitsu.package.read(process.cwd(), function (err, pkg) {
      if (!err) {
        jitsu.log.info('Attempting to view app ' + (process.cwd()+ '/package.json').grey);
        return callback(null, pkg.name);
      }
      callback(err);
    });
  }

  if (!name) {
    getAppName(function (err, pkg) {
      if (err) {
        jitsu.commands.list(function () {
          jitsu.log.info('Which ' + 'app'.magenta + ' to view?');
          jitsu.prompt.get(["app name"], function (err, result) {
            if (err) {
              jitsu.log.error('Prompt error:');
              return callback(err);
            }
            executeView(result["app name"]);
          });
        });
      } else {
        executeView(pkg);
      }
    });
  } else {
    executeView(name);
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    jitsu().package.read(process.cwd(), function (err, pkg) {
      if (err) {
cache.write('env', {});
return;
      }

      jitsu().apps.<span class="apidocCodeKeywordSpan">view</span>(pkg.name, function (err, app) {
if (err || !app || !app.env) {
  cache.write('env', {});
  return;
}

output(cur, app.env);
cache.write('env', app.env);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.whoami" id="apidoc.element.jitsu.commands.whoami">
        function <span class="apidocSignatureSpan">jitsu.commands.</span>whoami
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">whoami = function (callback) {
  var app = cliUsers.app,
      username = app.config.get('username') || 'not logged in';

  app.log.info('You are: ' + username.magenta);
  callback();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.commands.apps" id="apidoc.module.jitsu.commands.apps">module jitsu.commands.apps</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.commands.apps.browse" id="apidoc.element.jitsu.commands.apps.browse">
        function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>browse
        <span class="apidocSignatureSpan">(name, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">browse = function (name, callback) {
  function runBrowser(err, pkg) {
    if (err) {
      return callback(err);
    }

    opener('https://' + (pkg.domain || (pkg.domains &amp;&amp; pkg.domains[0]) || (pkg.subdomain + '.jit.su')));
    callback();
  }

  if (!name) {
    return jitsu['package'].tryRead(process.cwd(), runBrowser, function (pkg) {
      runBrowser(null, pkg);
    });
  }

  jitsu.apps.view(name, runBrowser);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.apps.cloud" id="apidoc.element.jitsu.commands.apps.cloud">
        function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>cloud
        <span class="apidocSignatureSpan">(name, provider, datacenter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cloud = function (name, provider, datacenter) {
  var providers = ['joyent'],
      args      = utile.args(arguments),
      callback  = args.callback,
      drones    = jitsu.argv.drones,
      ram       = jitsu.argv.ram;

  //
  // If `name` is `list` then show the current providers.
  //
  if (name === 'list') {
    return jitsu.apps.endpoints(function (err, endpoints) {
      if (err) {
        callback(err);
      }

      if (typeof endpoints === 'undefined') {
        endpoints = {};
      }

      jitsu.log.info('You can use one of the following providers');
      Object.keys(endpoints).forEach(function (provider) {
        var datacenters = endpoints[provider];
        Object.keys(datacenters).forEach(function (datacenter) {
          jitsu.log.data('jitsu cloud ' + provider + ' ' + datacenter);
        });
      });

      callback(null);
    });
  }

  //
  // If `name` is one of the known providers then curry
  // arguments and read package.json from `process.cwd()`.
  //
  if (providers.indexOf(name) !== -1) {
    datacenter = provider;
    provider = name;
    name = null;
  }

  //
  // If `datacenter` was not passed it will
  // be the callback.
  //
  datacenter = typeof datacenter !== 'function'
    ? datacenter
    : null;

  //
  // Print the cloud information for the app and respond.
  //
  function viewCloud(app) {
    if (!app.config || !app.config.cloud) {
      jitsu.log.error('Error: The app ' + app.name.magenta + ' don\'t have any cloud config.');
      jitsu.log.error('You need deploy your app before get any cloud config.');
      return callback(new Error());
    }
    jitsu.log.info('Viewing cloud info for ' + name.magenta);
    jitsu.inspect.putObject(app.config.cloud[0]);
    callback(null, app);
  }

  //
  // 1. Print what cloud app is deployed in now.
  // 2. Print new cloud app will be deployed to.
  // 3. Start the app in the specified cloud.
  //
  function setCloud(app) {
    drones = drones || app.maxDrones;
    ram = ram || (app.config.cloud ? app.config.cloud[0].ram : 256);

    var cloud = {
      datacenter: datacenter,
      provider: provider,
      drones: drones,
      ram: ram
    };

    if (app.state === 'started') {
      jitsu.log.info('App currently deployed to the cloud with:')
      jitsu.inspect.putObject(app.config.cloud[0]);
    }

    jitsu.log.info('Deploying application to the cloud with:')
    jitsu.inspect.putObject(cloud);

    async.series({
      //
      // 1. Fetch the endpoints so that we can properly
      //    tell the user what datacenter they are in later.
      //
      endpoints: function getEndpoints(next) {
        jitsu.apps.endpoints(next);
      },
      //
      // 2. Start the app with the specified cloud information.
      //
      start: function start(next) {
        jitsu.apps.datacenter(name, cloud, next);
      }
    }, function (err, result) {
      if (err) {
        jitsu.log.error('Error starting ' + name.magenta);
        return callback(err);
      }

      var endpoints = result.endpoints,
          tld = result.endpoints[provider][datacenter];

      jitsu.log.info('App ' + name.magenta + ' is now started');
      jitsu.log.info(('http://' + app.subdomain + tld.replace('api', '')).magenta + ' on Port ' + '80'.magenta);
      callback(null, app);
    });
  }

  //
  // Retreive the app and call `setCloud` or `viewCloud`
  // depending on what arguments have been passed.
  //
  function viewApp() {
    jitsu.log.info('Fetching app ' + name.magenta);
    jitsu.apps.view(name, function (err, app) {
      if (err) {
        jitsu.log.error('App ' + name.magenta + ' doesn\'t exist on Nodejitsu yet!');
        jitsu.log.help('Try running ' + 'jitsu deploy'.magenta);
        return callback({});
      }

      return provider &amp;&amp; datacenter
        ? setCloud(app)
        : viewCloud(app);
    });
  }

  //
  // Read the app from the current directory.
  //
  function readApp(next) {
    jitsu.package.read(process.cwd(), function (err, pkg) {
      if (err) {
        callback(err);
      }

      name = pkg.name;
      next();
    });
  } ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.log.error('Please use a valid datacenter name.');
  return callback(new Error(), true)
}
  }

  function executeStart() {
// Skip straight to cloud if we have cloud data.
if (cloud) return apps.<span class="apidocCodeKeywordSpan">cloud</span>(name, cloud.provider, cloud.datacenter, callback);

jitsu.log.info('Starting app ' + name.magenta);

var showInfo = function showInfo (err, config) {
  if (err) {
    return handleStartError(err, name, callback);
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.apps.create" id="apidoc.element.jitsu.commands.apps.create">
        function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>create
        <span class="apidocSignatureSpan">(target, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (target, callback) {

  //
  // Allows arbitrary amount of arguments to deploy
  //
  if (arguments.length) {
    callback = utile.args(arguments).callback;
  }

  var dir = process.cwd();

  function createApp(err, pkg) {
    if (err) {
      return callback(err);
    }
    jitsu.log.info('Creating app ' + pkg.name.magenta);
    jitsu.apps.create(pkg, function (err, res, result) {
      if (err) {
        jitsu.log.error('Error creating ' + pkg.name.magenta);
        jitsu.log.error(err.message);
        return callback(err);
      }

      jitsu.log.silly('Done creating app ' + pkg.name.magenta);
      return callback(null, pkg);
    });
  }

  function executeCreate(err, pkg) {
    if (err) {
      return callback(err);
    }

    pkg.state = 'stopped';
    jitsu.log.info('Checking app availability ' + pkg.name.magenta);
    jitsu.package.available(pkg, dir, createApp, executeCreate);
  }

  if (target &amp;&amp; typeof target === 'object') {
    return executeCreate(null, target);
  }

  jitsu.package.get(process.cwd(), executeCreate);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.log.help('Please check for an email sent to ' + details.email.grey + ' for further activation instructions
.');
},
login: function (details, next) {
  //
  // Retrieve a token and remove the password with it
  //
  if (details &amp;&amp; details.username) {
    jitsu.tokens.<span class="apidocCodeKeywordSpan">create</span>(details.username, (jitsu.config.get('apiTokenName')||&amp;#
x27;jitsu'), function(err, result) {
      if(!err &amp;&amp; result) {
        var token = Object.getOwnPropertyNames(result).filter(function(n){return n !== 'operation'}).pop();
        jitsu.config.set('apiToken', result[token]);
        jitsu.config.set('apiTokenName', token);
        jitsu.config.clear('password');
        jitsu.config.save();
        return next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.apps.deploy" id="apidoc.element.jitsu.commands.apps.deploy">
        function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>deploy
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deploy = function (callback) {
  var dir = process.cwd(),
      args = utile.args(arguments),
      cloud = {},
      pkg;

  //
  // Allows arbitrary amount of arguments to deploy
  //
  if (arguments.length) {
    callback = args.callback;
  }

  //
  // Allow use provider name and datacenter name without flags (--provider, --datacenter)
  //
  if (arguments.length === 2) {
    jitsu.log.error('Error: No datacenter name specified');
    jitsu.log.error('Please use a valid datacenter name.');

    return jitsu.apps.endpoints(function (err, endpoints) {
      if (err) return callback(err);

      if (endpoints) {
        jitsu.log.info('You can use one of the following providers');
        Object.keys(endpoints).forEach(function (provider) {
          var datacenters = endpoints[provider];
          Object.keys(datacenters).forEach(function (datacenter) {
            jitsu.log.data('jitsu deploy ' + provider + ' ' + datacenter);
          });
        });
      }

      return callback(new Error(), true);
    });
  }

  if (arguments.length === 3) {
    cloud.provider = args[0];
    cloud.datacenter = args[1];
  }

  // Setup of cloud parameters specified using (--)
  if (jitsu.argv['provider'] || jitsu.argv['datacenter']) {
    cloud.provider = jitsu.argv['provider'];
    cloud.datacenter = jitsu.argv['datacenter'];
  }

  function startApp(err, existing) {
    if (err) {
      jitsu.log.error('Error creating snapshot for app ' + pkg.name.magenta);
      jitsu.log.error(err.message);
      return callback(new Error(), true);
    }

    //if (existing.state === 'started') {
    //
    // existing.state is thrown away in check app.
    // these closures would need to be rearanged so that this closure can see the result of view..
    //

    //
    // Enable custom drone number and memory ram
    //
    if (jitsu.argv['drones'] &amp;&amp; typeof jitsu.argv['drones'] === 'number') {
      cloud.drones = jitsu.argv['drones'];
    } else if (cloud.provider &amp;&amp; cloud.datacenter) {
      // Default drones to 1
      cloud.drones = 1;
    }

    if (jitsu.argv['ram'] &amp;&amp; typeof jitsu.argv['ram'] === 'number') {
      if ([1, 256, 512, 1024].indexOf(jitsu.argv['ram']) === -1) {
        jitsu.log.warn('Invalid value of parameter: --ram, using 256 as default');
        cloud.ram = 256;
      } else {
        cloud.ram = jitsu.argv['ram'];
      }
    } else if (cloud.provider &amp;&amp; cloud.datacenter) {
      // Default ram to 256
      cloud.ram = 256;
    }

    var next = function next (err) {
      if (err) {
        return callback(err);
      }

      jitsu.package.runScript(pkg, 'postdeploy', callback);
    };

    // Only if all options are correct we pass cloud options
    if (cloud.provider &amp;&amp; cloud.datacenter &amp;&amp; cloud.drones &amp;&amp; cloud.ram) {
      apps.start(existing.name, cloud, next);
    } else {
      apps.start(existing.name, next);
    }

    //}
    //else {
    //  apps.start(existing.name, callback);
    //}
  }

  function activateSnapshot(existing, snapshot) {
    jitsu.log.info('Activating snapshot ' + snapshot.grey + ' for ' + existing.name.magenta);
    jitsu.snapshots.activate(existing.name, snapshot, function (err) {
      jitsu.log.silly('Done activating snapshot ' + snapshot.grey);
      startApp(err, existing);
    });
  }

  function updateApp(existing, snapshot) {
    jitsu.log.info('Updating app ' + existing.name.magenta);
    jitsu.apps.update(existing.name, pkg, function (err) {

      if (err) {
        return callback(err);
      }

      activateSnapshot(existing, snapshot);
    });
  }

  function updateSnapshot(err, existing, firstSnapshot) {
    if (err) {
      return callback(err, true, true);
    }

    jitsu.package.runScript(pkg, 'predeploy', function (err) {
      if (err) {
        return callback(err);
      }

      jitsu.package.updateTarball(null, pkg, existing, firstSnapshot, function (err, snapshot) {
        if (err) {
          return callback(err, snapshot);
        }

        updateApp(existing, snapshot);
      });
    });
  }

  function checkApp(err, local) {
    if (err) {
      jitsu.log.error(e ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.apps.destroy" id="apidoc.element.jitsu.commands.apps.destroy">
        function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>destroy
        <span class="apidocSignatureSpan">(name, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (name, callback) {

  //
  // Allows arbitrary amount of arguments
  //
  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    name = args[0] || null;
  }
  if (!name) {
    jitsu.package.tryRead(process.cwd(), callback, function (pkg) {
      jitsu.log.info('Attempting to destroy app ' + pkg.name.magenta);
      name = pkg.name;
      executeDestroy();
    });
  } else {
    executeDestroy();
  }

  function executeDestroy() {
    jitsu.log.info('Destroy app ' + name.magenta);
    jitsu.prompt.confirm('yes/no', { default: 'yes'}, function(err, result){
      if (result) {
        jitsu.apps.destroy(name, function (err) {
          jitsu.log.silly('Done destroying app ' + name.magenta);
          return err ? callback(err) : callback();
        });
      } else {
        jitsu.log.info('app ' + name.magenta + ' was not destroyed');
        callback(null);
      }
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  executeDestroy();
}

function executeDestroy() {
  jitsu.log.info('Destroy app ' + name.magenta);
  jitsu.prompt.confirm('yes/no', { default: 'yes'}, function(err, result){
    if (result) {
      jitsu.apps.<span class="apidocCodeKeywordSpan">destroy</span>(name, function (err) {
        jitsu.log.silly('Done destroying app ' + name.magenta);
        return err ? callback(err) : callback();
      });
    } else {
      jitsu.log.info('app ' + name.magenta + ' was not destroyed');
      callback(null);
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.apps.list" id="apidoc.element.jitsu.commands.apps.list">
        function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>list
        <span class="apidocSignatureSpan">(username, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">list = function (username, callback) {

  var authuser = jitsu.config.get('username') || '';

  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    username = args[0] || authuser;
  }

  if (authuser === '') {
    return jitsu.commands.users.login(function (err) {
      if (err) {
        return callback(err);
      }

      jitsu.commands.apps.list(username, callback);
    });
  }

  jitsu.log.info('Listing all apps for ' + username.magenta);

  jitsu.apps.list(username, function cb(err, apps) {
    if (err) {
      if (err.statusCode === 403) {
        if (authuser === '') {
          jitsu.log.error('You are not authorized to list application for user: ' + username.magenta);
          jitsu.log.error('You need to login to do that!');
        }
        else {
          jitsu.log.error(jitsu.config.get('username').magenta + ' is not authorized to list applications for user: ' + username
.magenta);
        }
      }
      return callback(err);
    }

    if (!apps || apps.length === 0) {
      jitsu.log.warn('No applications exist.');
      jitsu.log.help('Try creating one with ' + 'jitsu install'.magenta + ' and then deploy it with ' + 'jitsu deploy'.magenta);
      return callback();
    }

    var rows = [['name', 'state', 'subdomain', 'drones', 'running snapshot']],
        colors = ['underline', 'underline', 'underline', 'underline', 'underline'];

    apps.forEach(function (app) {
      app.state = jitsu.common.formatAppState(app.state);

      //
      // Remark: Attempt to always show running snapshot
      //
      var snapshot = '---';
      if (app.running &amp;&amp; app.running.filename) {
        snapshot = app.running.filename;
      }

      rows.push([
        app.name,
        app.state,
        app.subdomain,
        app.drones + '/' + app.maxDrones,
        snapshot
      ]);
    });

    jitsu.inspect.putRows('data', rows, colors);
    callback();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (apps) {
output(cur, apps);
return;
    }

    var username = jitsu().config.get('username');

    jitsu().apps.<span class="apidocCodeKeywordSpan">list</span>(username, function (err, apps) {
if (err || !apps || !apps.length) {
  cache.write('apps', []);
  return;
}

apps = apps.map(function (app) {
  return app.name;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.apps.restart" id="apidoc.element.jitsu.commands.apps.restart">
        function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>restart
        <span class="apidocSignatureSpan">(name, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">restart = function (name, callback) {

  //
  // Allows arbitrary amount of arguments
  //
  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    name = args[0] || null;
  }

  function executeRestart() {
    jitsu.log.info('Restarting app ' + name.magenta);
    jitsu.apps.restart(name, function (err) {
      if (err) {
        return callback(err);
      }

      jitsu.log.info('App ' + name.magenta + ' has been restarted');
      callback();
    });
  }

  if (!name) {
    return jitsu.package.tryRead(process.cwd(), callback, function (pkg) {
      name = pkg.name;
      executeRestart();
    });
  }

  executeRestart();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var args = utile.args(arguments);
callback = args.callback;
name = args[0] || null;
  }

  function executeRestart() {
jitsu.log.info('Restarting app ' + name.magenta);
jitsu.apps.<span class="apidocCodeKeywordSpan">restart</span>(name, function (err) {
  if (err) {
    return callback(err);
  }

  jitsu.log.info('App ' + name.magenta + ' has been restarted');
  callback();
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.apps.setdrones" id="apidoc.element.jitsu.commands.apps.setdrones">
        function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>setdrones
        <span class="apidocSignatureSpan">(name, number, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setdrones = function (name, number, callback) {
  function executeSet() {
    number = parseInt(number, 10);

    jitsu.log.info('Setting number of drones for app ' + name.magenta + ' to ' + number.toString().magenta);
    jitsu.apps.setDrones(name, number, function (err) {
      if (err) {
        return handleStartError(err, name, callback);
      }

      jitsu.log.info('App ' + name.magenta + ' is now running on ' + number.toString().magenta + ' drones');
      callback();
    });
  }

  if (!isNaN(parseInt(name, 10))) {
    number = name;
    name = null;
  }

  if (!name) {
    return jitsu.package.tryRead(process.cwd(), callback, function (pkg) {
      name = pkg.name;
      executeSet();
    });
  }

  executeSet();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.apps.start" id="apidoc.element.jitsu.commands.apps.start">
        function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>start
        <span class="apidocSignatureSpan">(name, cloud, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (name, cloud, callback) {

  //
  // Allows arbitrary amount of arguments
  //
  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    name = args[0] || null;
    cloud = args[1] || null;
  }

  // Little check when call jitsu start directly
  if (typeof cloud === 'string') {
    cloud = { provider: cloud };
    if (args[2]) {
      cloud.datacenter = args[2];
    } else {
      jitsu.log.error('Error: No datacenter name specified');
      jitsu.log.error('Please use a valid datacenter name.');
      return callback(new Error(), true)
    }
  }

  function executeStart() {
    // Skip straight to cloud if we have cloud data.
    if (cloud) return apps.cloud(name, cloud.provider, cloud.datacenter, callback);

    jitsu.log.info('Starting app ' + name.magenta);

    var showInfo = function showInfo (err, config) {
      if (err) {
        return handleStartError(err, name, callback);
      }

      async.series({
        //
        // 1. Fetch the endpoints so that we can properly
        //    tell the user what datacenter they are in later.
        //
        endpoints: function getEndpoints(next) {
          jitsu.apps.endpoints(next);
        },
        //
        // 2. Get app information to show the proper subdomain.
        //
        app: function start(next) {
          jitsu.apps.view(name, next);
        }
      }, function (err, result) {
        if (err) {
          return callback(err);
        }

        var endpoints = result.endpoints,
            tld = (config &amp;&amp; config.provider &amp;&amp; config.datacenter)
              ? result.endpoints[config.provider][config.datacenter]
              : 'api.jit.su',
            subdomain = result.app.subdomain;

        jitsu.log.info('App ' + name.magenta + ' is now started');
        jitsu.log.info(('http://' + subdomain + tld.replace('api', '')).magenta + ' on Port ' + '80'.magenta);
        callback();
      });
    }

    return jitsu.apps.start(name, showInfo);
  }

  if (!name) {
    return jitsu.package.tryRead(process.cwd(), callback, function (pkg) {
      name = pkg.name;
      executeStart();
    });
  } else {
    executeStart();
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

require('../lib/jitsu/completion');

process.title = 'jitsu';

var jitsu = require('../lib/jitsu');

jitsu.<span class="apidocCodeKeywordSpan">start</span>(function (err) {
  if (!err) {
    jitsu.log.info('Nodejitsu'.grey + ' ok'.green.bold);
  }

  process.exit(err ? 1 : 0);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.apps.stop" id="apidoc.element.jitsu.commands.apps.stop">
        function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>stop
        <span class="apidocSignatureSpan">(name, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stop = function (name, callback) {

  //
  // Allows arbitrary amount of arguments
  //
  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    name = args[0] || null;
  }

  function executeStop() {
    jitsu.log.info('Stopping app ' + name.magenta);
    jitsu.apps.stop(name, function (err) {

      //
      // TODO: replace this error handling with errs library
      //
      if (err) {
        if (err.result &amp;&amp; err.result.error === "not_found") {
          jitsu.log.error('App ' + name.magenta + ' doesn\'t exist on Nodejitsu yet!');
          return callback({});
        }
        return callback(err);
      }

      jitsu.log.info('App ' + name.magenta + ' is now stopped');
      callback();
    });
  }

  if (!name) {
    return jitsu.package.tryRead(process.cwd(), callback, function (pkg) {
      name = pkg.name;
      executeStop();
    });
  }

  executeStop();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var args = utile.args(arguments);
    callback = args.callback;
    name = args[0] || null;
  }

  function executeStop() {
    jitsu.log.info('Stopping app ' + name.magenta);
    jitsu.apps.<span class="apidocCodeKeywordSpan">stop</span>(name, function (err) {

//
// TODO: replace this error handling with errs library
//
if (err) {
  if (err.result &amp;&amp; err.result.error === "not_found") {
    jitsu.log.error('App ' + name.magenta + ' doesn\'t exist on Nodejitsu yet!');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.apps.update" id="apidoc.element.jitsu.commands.apps.update">
        function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>update
        <span class="apidocSignatureSpan">(name, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (name, callback) {

//
  // Allows arbitrary amount of arguments
  //
  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    name = args[0] || null;
  }

  jitsu.log.silly('Reading package.json in ' + process.cwd());
  jitsu.package.tryRead(process.cwd(), callback, function (pkg) {
    name = name || pkg.name;

    jitsu.apps.view(name, function (err, app) {
      if (err) {
        return callback(err);
      }

      var diff = jitsu.common.objectDiff(app, pkg);
      if (!diff) {
        jitsu.log.warn('No changes found in package.json for ' + name.magenta);
        return callback();
      }

      jitsu.log.info('Updating application ' + name.magenta + ' with:');
      jitsu.inspect.putObject(diff);

      jitsu.apps.update(name, diff, callback);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.log.silly('Done activating snapshot ' + snapshot.grey);
  startApp(err, existing);
});
  }

  function updateApp(existing, snapshot) {
jitsu.log.info('Updating app ' + existing.name.magenta);
jitsu.apps.<span class="apidocCodeKeywordSpan">update</span>(existing.name, pkg, function (err) {

  if (err) {
    return callback(err);
  }

  activateSnapshot(existing, snapshot);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.apps.view" id="apidoc.element.jitsu.commands.apps.view">
        function <span class="apidocSignatureSpan">jitsu.commands.apps.</span>view
        <span class="apidocSignatureSpan">(name, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">view = function (name, callback) {

  //
  // Allows arbitrary amount of arguments
  //
  if (arguments.length) {
    var args = utile.args(arguments);
    callback = args.callback;
    name = args[0] || null;
  }

  function executeView(name) {
    name = name || 'no-name';
    jitsu.apps.view(name, function (err, app) {

      if (err) {
        jitsu.log.error('App ' + name.magenta + ' doesn\'t exist on Nodejitsu yet!');
        jitsu.log.help('Try running ' + 'jitsu deploy'.magenta);
        return callback({});
      }

      jitsu.log.info('Viewing app ' + name.magenta);
      app = jitsu.common.formatApp(app);
      jitsu.inspect.putObject(app);
      callback(null, app);
    });
  }

  function getAppName(callback) {
    jitsu.package.read(process.cwd(), function (err, pkg) {
      if (!err) {
        jitsu.log.info('Attempting to view app ' + (process.cwd()+ '/package.json').grey);
        return callback(null, pkg.name);
      }
      callback(err);
    });
  }

  if (!name) {
    getAppName(function (err, pkg) {
      if (err) {
        jitsu.commands.list(function () {
          jitsu.log.info('Which ' + 'app'.magenta + ' to view?');
          jitsu.prompt.get(["app name"], function (err, result) {
            if (err) {
              jitsu.log.error('Prompt error:');
              return callback(err);
            }
            executeView(result["app name"]);
          });
        });
      } else {
        executeView(pkg);
      }
    });
  } else {
    executeView(name);
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    jitsu().package.read(process.cwd(), function (err, pkg) {
      if (err) {
cache.write('env', {});
return;
      }

      jitsu().apps.<span class="apidocCodeKeywordSpan">view</span>(pkg.name, function (err, app) {
if (err || !app || !app.env) {
  cache.write('env', {});
  return;
}

output(cur, app.env);
cache.write('env', app.env);
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.commands.config" id="apidoc.module.jitsu.commands.config">module jitsu.commands.config</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.commands.config.delete" id="apidoc.element.jitsu.commands.config.delete">
        function <span class="apidocSignatureSpan">jitsu.commands.config.</span>delete
        <span class="apidocSignatureSpan">(key, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delete = function (key, callback) {
  if (!callback) {
    callback = key;
    cliConfig.app.log.warn('No configuration for ' + 'undefined'.magenta);
    return callback();
  }
  else if (cliConfig.before.delete &amp;&amp; !cliConfig.before.delete(key)) {
    return callback();
  }

  var value = cliConfig.app.config.get(key);
  if (!value) {
    cliConfig.app.log.warn('No configuration value for ' + key.yellow);
    return callback();
  }
  else if (cliConfig.restricted.indexOf(key) !== -1) {
    cliConfig.app.log.warn('Cannot delete reserved setting ' + key.yellow);
    cliConfig.app.log.help('Use ' + (cliConfig.app.name || '&lt;app&gt;') + ' config set &lt;key&gt; &lt;value&gt;');
    return callback();
  }

  cliConfig.app.config.clear(key);
  cliConfig.app.config.save(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  })
}).addBatch({
  'databases destroy test3': shouldNodejitsuOk(function setup() {
jitsu.prompt.override.answer = 'yes';
jitsu.prompt.override.destroy = 'yes';

nock('https://api.mockjitsu.com')
  .<span class="apidocCodeKeywordSpan">delete</span>('/databases/tester/test3', {})
  .reply(200, '', { 'x-powered-by': 'Nodejitsu' });
  })
}).addBatch({
  'databases destroy test4': shouldNodejitsuOk('should prompt for credentials', function setup() {

jitsu.config.stores.file.file = loggedOutFile;
jitsu.config.stores.file.loadSync();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.config.get" id="apidoc.element.jitsu.commands.config.get">
        function <span class="apidocSignatureSpan">jitsu.commands.config.</span>get
        <span class="apidocSignatureSpan">(key, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (key, callback) {
  if (!callback) {
    callback = key;
    cliConfig.app.log.error('No configuration for ' + 'undefined'.yellow);
    return callback(new Error(), true, true);
  }
  else if (cliConfig.before.get &amp;&amp; !cliConfig.before.get(key)) {
    return callback();
  }

  var value = cliConfig.app.config.get(key);
  if (!value) {
    cliConfig.app.log.error('No configuration value for ' + key.yellow);
    return callback(new Error(), true, true);
  }
  else if (typeof value === 'object') {
    cliConfig.app.log.data(key.yellow);
    cliConfig.app.inspect.putObject(value);
    return callback();
  }

  cliConfig.app.log.data([key.yellow, (value+'').magenta].join(' '));
  callback();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// ### function welcome ()
// Print welcome message.
//
jitsu.welcome = function () {
//
// If a user is logged in, show username
//
var username = jitsu.config.<span class="apidocCodeKeywordSpan">get</span>('username') || '';

godaddy.notice(jitsu);

jitsu.log.info('Welcome to ' + 'Nodejitsu'.grey + ' ' + username.magenta);
jitsu.log.info('jitsu v' + jitsu.version + ', node ' + process.version);
jitsu.log.info('It worked if it ends with ' + 'Nodejitsu'.grey + ' ok'.green.bold);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.config.list" id="apidoc.element.jitsu.commands.config.list">
        function <span class="apidocSignatureSpan">jitsu.commands.config.</span>list
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">list = function (callback) {
  var data = cliConfig.store
    ? cliConfig.app.config.stores[cliConfig.store].store
    : cliConfig.app.config.load();

  if (cliConfig.before.list &amp;&amp; !cliConfig.before.list()) {
    return callback();
  }

  cliConfig.app.inspect.putObject(data, {
    password: function (line) {
      var password = line.match(/password.*\:\s(.*)$/)[1];
      return line.replace(password, "'********'");
    }
  }, 2);

  callback();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (apps) {
output(cur, apps);
return;
    }

    var username = jitsu().config.get('username');

    jitsu().apps.<span class="apidocCodeKeywordSpan">list</span>(username, function (err, apps) {
if (err || !apps || !apps.length) {
  cache.write('apps', []);
  return;
}

apps = apps.map(function (app) {
  return app.name;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.config.set" id="apidoc.element.jitsu.commands.config.set">
        function <span class="apidocSignatureSpan">jitsu.commands.config.</span>set
        <span class="apidocSignatureSpan">(key, value, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">set = function (key, value, callback) {
  var args = Array.prototype.slice.call(arguments);
  callback = args.pop();

  if (args.indexOf(null) == 0 || args.indexOf(null) == 1){
    cliConfig.app.log.error('You must pass both &lt;key&gt; and &lt;value&gt;');
    return callback(true, true);
  }
  else if (cliConfig.before.set &amp;&amp; !cliConfig.before.set(key, value)) {
    return callback();
  }

  //
  // This should allow users to set booleans.
  //
  if (value === "true") {
    value = true;
  }
  if (value === "false") {
    value = false;
  }

  cliConfig.app.config.set(key, value);
  cliConfig.app.config.save(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
jitsu.setup = function (callback) {
if (jitsu.started === true) {
  return callback();
}

var rejectUnauthorized = jitsu.config.get('rejectUnauthorized');
if (typeof rejectUnauthorized === 'undefined') {
  jitsu.config.<span class="apidocCodeKeywordSpan">set</span>('rejectUnauthorized', false);
}

var userAgent = jitsu.config.get('headers:user-agent');
if (!userAgent) {
  jitsu.config.set('headers:user-agent', 'jitsu/' + jitsu.version);
}
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.commands.users" id="apidoc.module.jitsu.commands.users">module jitsu.commands.users</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.commands.users.available" id="apidoc.element.jitsu.commands.users.available">
        function <span class="apidocSignatureSpan">jitsu.commands.users.</span>available
        <span class="apidocSignatureSpan">(username, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">available = function (username, callback) {
  if (!username) {
    return callback(new Error('Username is required'), true);
  }

  var app = cliUsers.app;

  app.log.info('Checking availability for ' + username.magenta);
  app.users.available(username, function (err, result) {
    if (err) {
      return callback(err);
    }

    var msg = 'Username ' + username.magenta + ' is ';
    msg += result.available ? 'available'.green : 'not available'.red;
    app.log.info(msg);

    //
    // Callback with results, so that can be tested.
    //
    callback(null, result);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// #### @pkg {Object} Current package.json file on disk
// #### @dir {string} Directory in which the package.json properties are being used
// #### @callback {function} Continuation to respond to when complete.
// #### @createPackage {function} Function needed to make it recursive
// Prompts for appname and subdomain until the combination is available
//
package.available = function (pkg, dir, callback, createPackage) {
jitsu.apps.<span class="apidocCodeKeywordSpan">available</span>(pkg, function (err, isAvailable) {
  var props, fields = [];
  function removeAppname(){
    delete pkg.name;
    fields.push('name');
  }
  function removeSubdomain(){
    delete pkg.subdomain;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.users.changepassword" id="apidoc.element.jitsu.commands.users.changepassword">
        function <span class="apidocSignatureSpan">jitsu.commands.users.</span>changepassword
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">changepassword = function (callback) {
  var app = cliUsers.app;

  getPassword(function (err, password) {
    app.users.update(app.config.get('username'), { password: password }, function (err) {
      if (err) {
        return callback(err)
      }

      app.config.set('password', password);
      app.config.save(callback);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.users.create" id="apidoc.element.jitsu.commands.users.create">
        function <span class="apidocSignatureSpan">jitsu.commands.users.</span>create
        <span class="apidocSignatureSpan">(username, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (username, callback) {
  var app = cliUsers.app,
      password,
      email;

  //
  // Helper function to create the user and respond.
  //
  function createUser(details) {
    app.users.create(details, function (err, result) {
      if (err) {
        app.log.error('There was an error creating your account');
        app.log.error(err.message);
        return callback(err, true, true);
      }

      app.log.info('Account creation successful!');

      if (cliUsers.after.create) {
        cliUsers.after.create(details);
      }

      callback(null, result);
    });
  }

  //
  // Helper function to prompt the user for password.
  //
  function addPassword() {
    getPassword(function (err, password) {
      if (err) {
        return callback(err);
      }

      app.log.info('You account is now being created');
      return createUser({
        username: username,
        email: email,
        password: password
      });
    });
  }

  //
  // Helper function to prompt the user for email.
  //
  function addEmail() {
    app.prompt.get('email', function (err, result) {
      if (err) {
        return callback(err);
      }

      //
      // Email must be provided.
      //
      email = result.email;
      if (!email) {
        app.log.error('Please provide an email address');
        return addEmail();
      }

      //
      // Check if the email is already registered.
      //
      app.users.emailTaken(email, function (err, res) {
        if (err) {
          return callback(err);
        }
        else if (res.taken) {
          app.log.error('This email is already registered. Please, use a unique email address');
          return addEmail();
        }

        app.log.help('Finally, we will need a password for this account');
        addPassword();
      });
    });
  }

  //
  // Helper function to prompt the user for username.
  //
  function addUsername() {
    app.prompt.get('username', function (err, result) {
      //
      // Disallow falsy usernames like: undefined, false, etc.
      //
      if (!result.username) {
        app.log.error('Please provide a valid username');
        return addUsername();
      }

      app.users.available(result.username, function (err, res) {
        if (err) {
          return callback(err);
        }
        else if (res.available === false) {
          app.log.error('Username was already taken');
          return addUsername();
        }

        username = result.username;
        app.log.help('Next, we will require your email address');

        addEmail();
      });
    });
  }

  app.log.help('To signup, first you will need to provide a username');

  return !username
    ? addUsername()
    : addEmail();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.log.help('Please check for an email sent to ' + details.email.grey + ' for further activation instructions
.');
},
login: function (details, next) {
  //
  // Retrieve a token and remove the password with it
  //
  if (details &amp;&amp; details.username) {
    jitsu.tokens.<span class="apidocCodeKeywordSpan">create</span>(details.username, (jitsu.config.get('apiTokenName')||&amp;#
x27;jitsu'), function(err, result) {
      if(!err &amp;&amp; result) {
        var token = Object.getOwnPropertyNames(result).filter(function(n){return n !== 'operation'}).pop();
        jitsu.config.set('apiToken', result[token]);
        jitsu.config.set('apiTokenName', token);
        jitsu.config.clear('password');
        jitsu.config.save();
        return next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.users.delete" id="apidoc.element.jitsu.commands.users.delete">
        function <span class="apidocSignatureSpan">jitsu.commands.users.</span>delete
        <span class="apidocSignatureSpan">(username, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delete = function (username, callback) {
  var app = cliUsers.app;

  username = username || app.config.get('username');

  [
    username.magenta + ', you are attempting to delete your account. This is irreversible.',
    'Sad to see you go!',
    'Please type in your username in order to confirm.'
  ].forEach(app.log.warn.bind(app.log));

  app.prompt.get(['username'], function (err, result) {
    if (err) {
      return callback(err);
    }

    if (result.username !== username) {
      return callback(new Error('Usernames don\'t match.'), true);
    }

    app.users.destroy(username, function (err) {
      if (err) {
        return callback(err);
      }

      app.log.info('User ' + username.magenta + ' successfully deleted.');
      callback();
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  })
}).addBatch({
  'databases destroy test3': shouldNodejitsuOk(function setup() {
jitsu.prompt.override.answer = 'yes';
jitsu.prompt.override.destroy = 'yes';

nock('https://api.mockjitsu.com')
  .<span class="apidocCodeKeywordSpan">delete</span>('/databases/tester/test3', {})
  .reply(200, '', { 'x-powered-by': 'Nodejitsu' });
  })
}).addBatch({
  'databases destroy test4': shouldNodejitsuOk('should prompt for credentials', function setup() {

jitsu.config.stores.file.file = loggedOutFile;
jitsu.config.stores.file.loadSync();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.users.forgot" id="apidoc.element.jitsu.commands.users.forgot">
        function <span class="apidocSignatureSpan">jitsu.commands.users.</span>forgot
        <span class="apidocSignatureSpan">(username, shake, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forgot = function (username, shake, callback) {
  var app = cliUsers.app;

  //
  // Helper for prompting the user for information required for
  // resetting password.
  //
  function resetPassword() {
    app.config.set('username', username);
    getPassword(function (err, password) {
      if (err) {
        return callback(err);
      }

      app.users.forgot(username, {
        shake: shake,
        'new-password': password
      }, function (err, res) {
        if (err) {
          app.log.error('Unable to set new password for ' + username.magenta);
          app.log.error(err.message);
          return callback(err);
        }

        app.config.set('password', password);
        app.config.save(callback);
      });
    });
  }

  //
  // call app.users.forgot(username) and display reset info to user
  //
  function displayPasswordReset(username) {
    app.users.forgot(username, {}, function (err, result) {
      if (err) {
       return callback(err);
      }
      app.log.info('Request password reset for: ' + username.magenta);
      app.log.info('Check your email for instructions on resetting your password.');
      callback();
    });
  }

  //
  // Helper function to prompt for username and send password reset
  // defaults to config.get('username')
  //
  function promptUsername() {
    app.prompt.get([{name: 'username', default: app.config.get('username')}
    ], function (err, result) {
      username = result.username
      displayPasswordReset(username)
      if (!username) {
        callback(new Error('Username is required'), true);
      }
    });
  }

  if (!username) {
    return promptUsername()
  }

  if (typeof shake === 'string') {
    //
    // They are providing a shake so lets reset the password
    //
    return resetPassword();
  }

  displayPasswordReset(username);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (err) {
  return callback(err);
}
if (results['set password'] !== results['confirm password']) {
  jitsu.log.error('The provided passwords do not match.');
  return getNewPass();
}
jitsu.users.<span class="apidocCodeKeywordSpan">forgot</span>(username, {
  shake: response.shake,
  'new-password': results['set password']
}, function (err, res) {
  jitsu.config.set('username', username);
  jitsu.config.set('password', results['set password']);
  // now that we have a new password lets checkout a new api token and clear out the password
  jitsu.tokens.create(username, (jitsu.config.get('apiTokenName')||'jitsu'), function(err, result) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.users.login" id="apidoc.element.jitsu.commands.users.login">
        function <span class="apidocSignatureSpan">jitsu.commands.users.</span>login
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">login = function () {
  var app = cliUsers.app,
      args = common.args(arguments),
      username = args[0] || app.config.get('username'),
      password = args[1],
      callback = args.callback,
      tries = 0,
      schema = {
        properties: {
          username: {
            type: 'string',
            default: username,
            required: true
          },
          password: {
            type: 'string',
            default: password,
            hidden: true,
            required: true
          }
        }
      };

  if (cliUsers.before.setup) {
    cliUsers.before.setup({ username: app.config.get('username') });
  }

  //
  // Login workflow including async hooks
  //
  async.series([
    //
    // Before login hook
    //
    function before (next) {
      if (cliUsers.before.login) {
        cliUsers.before.login({ username: app.config.get('username') }, next);
      } else {
        next();
      }
    },
    //
    // Login
    //
    setupAuth,
    //
    // After login hook
    //
    function after (next) {
      if (cliUsers.after.login) {
        cliUsers.after.login({ username: app.config.get('username') }, next);
      } else {
        next();
      }
    }
  ],
  //
  // Workflow end
  //
  function (err, result) {
    return err ? callback(err) : callback();
  });

  //
  // Helper function to offer a password reset to the user.
  //
  function offerReset(username) {
    app.prompt.get(['reset'], function (err, res) {
      if (err) {
        return callback(err);
      }
      if (/^y[es]+/i.test(res['request password reset'])) {
        return app.commands.users.forgot(username, null, callback);
      }

      callback(new Error('Invalid username / password.'));
    });
  }

  //
  // Helper function with prompts the user for username and password.
  //
  function setupAuth(next) {
    app.prompt.get(schema, function(err, result) {
      if (err) {
        return callback(err);
      }

      app.config.set('username', result.username);
      app.config.set('password', result.password);

      return app.setup
        ? app.setup(function () {
          tryAuth(next);
        })
        : tryAuth(next);
    });
  }

  //
  // Helper function to attempt to authenticate as the current user.
  //
  function tryAuth(next) {
    var username = app.config.get('username');

    app.auth(function (err) {
      //
      // Attempt to get the password three times.
      // Increment the auth attempts
      //
      tries += 1;

      if (err) {
        if (tries &gt;= 3) {
          app.log.error('Three failed login attempts');
          app.log.info('Would you like to reset your password?');
          return offerReset(username);
        }

        return setupAuth(next);
      }

      app.config.save(function (err) {
        return err ? next(err) : next();
      });
    });
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

      if (parseInt(minor, 10) % 2) {
        jitsu.log.warn('You are using unstable version of node.js. You may experience problems.');
      }

      username = jitsu.config.get('username');
      if (!username &amp;&amp; jitsu.config.get('requiresAuth').indexOf(jitsu.argv._[0]) !== -1) {
        return jitsu.commands.users.<span class="apidocCodeKeywordSpan">login</span>(function (err) {
if (err) {
  jitsu.showError(jitsu.argv._.join(' '), err);
  return callback(err);
}

var username = jitsu.config.get('username');
jitsu.log.info('Successfully configured user ' + username.magenta);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.users.logout" id="apidoc.element.jitsu.commands.users.logout">
        function <span class="apidocSignatureSpan">jitsu.commands.users.</span>logout
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function (callback) {
  var app = cliUsers.app,
      username = app.config.get('username');

  async.series([
      //
      // Before hook
      //
      function before (next) {
        if (cliUsers.before.logout) {
          cliUsers.before.logout({ username: username }, next);
        } else {
          next();
        }
      },
      function logout (next) {
        app.config.clear('username');
        app.config.clear('password');
        next();
      },
      //
      // After hook
      //
      function after (next) {
        if (cliUsers.after.logout) {
          cliUsers.after.logout({ username: username }, next);
        } else {
          next();
        }
      }
    ],
  //
  // End workflow
  //
  function(err, details) {
    app.config.save(function (err) {
      if (err) {
        return callback(err, true);
      }

      app.log.info('User has been logged out');
      callback();
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.commands.users.whoami" id="apidoc.element.jitsu.commands.users.whoami">
        function <span class="apidocSignatureSpan">jitsu.commands.users.</span>whoami
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">whoami = function (callback) {
  var app = cliUsers.app,
      username = app.config.get('username') || 'not logged in';

  app.log.info('You are: ' + username.magenta);
  callback();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.common" id="apidoc.module.jitsu.common">module jitsu.common</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.common._errnoException" id="apidoc.element.jitsu.common._errnoException">
        function <span class="apidocSignatureSpan">jitsu.common.</span>_errnoException
        <span class="apidocSignatureSpan">(err, syscall, original)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_errnoException = function (err, syscall, original) {
  var errname = uv.errname(err);
  var message = `${syscall} ${errname}`;
  if (original)
    message += ' ' + original;
  var e = new Error(message);
  e.code = errname;
  e.errno = errname;
  e.syscall = syscall;
  return e;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common._exceptionWithHostPort" id="apidoc.element.jitsu.common._exceptionWithHostPort">
        function <span class="apidocSignatureSpan">jitsu.common.</span>_exceptionWithHostPort
        <span class="apidocSignatureSpan">(err, syscall, address, port, additional)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_exceptionWithHostPort = function (err, syscall, address, port, additional) {
  var details;
  if (port &amp;&amp; port &gt; 0) {
    details = `${address}:${port}`;
  } else {
    details = address;
  }

  if (additional) {
    details += ` - Local (${additional})`;
  }
  var ex = exports._errnoException(err, syscall, details);
  ex.address = address;
  if (port) {
    ex.port = port;
  }
  return ex;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common._extend" id="apidoc.element.jitsu.common._extend">
        function <span class="apidocSignatureSpan">jitsu.common.</span>_extend
        <span class="apidocSignatureSpan">(target, source)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_extend = function (target, source) {
  // Don't do anything if source isn't an object
  if (source === null || typeof source !== 'object') return target;

  var keys = Object.keys(source);
  var i = keys.length;
  while (i--) {
    target[keys[i]] = source[keys[i]];
  }
  return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.camelToUnderscore" id="apidoc.element.jitsu.common.camelToUnderscore">
        function <span class="apidocSignatureSpan">jitsu.common.</span>camelToUnderscore
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">camelToUnderscore = function (obj) {
  if (typeof obj !== 'object' || obj === null) {
    return obj;
  }

  if (Array.isArray(obj)) {
    obj.forEach(utile.camelToUnderscore);
    return obj;
  }

  Object.keys(obj).forEach(function (key) {
    var k = utile.inflect.underscore(key);
    if (k !== key) {
      obj[k] = obj[key];
      delete obj[key];
      key = k;
    }
    utile.camelToUnderscore(obj[key]);
  });

  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.capitalize" id="apidoc.element.jitsu.common.capitalize">
        function <span class="apidocSignatureSpan">jitsu.common.</span>capitalize
        <span class="apidocSignatureSpan">(lower_case_and_underscored_word, first_letter_in_uppercase)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">capitalize = function (lower_case_and_underscored_word, first_letter_in_uppercase) {
  var result;
  if (first_letter_in_uppercase == null) first_letter_in_uppercase = true;
  result = util.string.gsub(lower_case_and_underscored_word, /\/(.?)/, function($) {
    return "." + (util.string.upcase($[1]));
  });
  result = util.string.gsub(result, /(?:_)(.)/, function($) {
    return util.string.upcase($[1]);
  });
  if (first_letter_in_uppercase) {
    return util.string.upcase(result);
  } else {
    return util.string.downcase(result);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.checkVersion" id="apidoc.element.jitsu.common.checkVersion">
        function <span class="apidocSignatureSpan">jitsu.common.</span>checkVersion
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">checkVersion = function (callback) {
  var responded = false

  //
  // Check the GitHub tags for `jitsu` to see if the current
  // version is outdated. If it is not make sure to message the user at the end.
  //
  request({
    uri: 'http://registry.npmjs.org/jitsu/latest',
    timeout: 1000
  }, function (err, res, body) {
    if (!responded) {
      responded = true;

      try {
        var pkg = JSON.parse(body);

        if (semver.gt(pkg.version, jitsu.version)) {
          jitsu.log.warn('A newer version of ' + 'jitsu'.magenta + ' is available. ' + 'please update immediately');
          jitsu.log.help('To install the latest ' + 'jitsu'.magenta + ' type `[sudo] npm install jitsu -g`');
          jitsu.log.warn('To ' + 'continue'.bold + ' without an update ' + 'type'.cyan  + ' ' + '\'yes\''.magenta);

          jitsu.prompt.confirm('Continue without updating? Bad things might happen (no)', function (err, result) {
            return err ? callback() : callback(!result);
          });

          return;
        }

        callback();
      }
      catch (ex) {
        //
        // Ignore errors from GitHub. We will notify the user
        // of an upgrade at the next possible opportunity.
        //
        callback();
      }
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.init(function (err) {
    if (err) {
jitsu.welcome();
jitsu.showError(jitsu.argv._.join(' '), err);
return callback(err);
    }

    jitsu.common.<span class="apidocCodeKeywordSpan">checkVersion</span>(function (err) {
if (err) {
  return callback();
}

var minor, username;

//
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.clone" id="apidoc.element.jitsu.common.clone">
        function <span class="apidocSignatureSpan">jitsu.common.</span>clone
        <span class="apidocSignatureSpan">(object, filter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clone = function (object, filter) {
  return Object.keys(object).reduce(filter ? function (obj, k) {
    if (filter(k)) obj[k] = object[k];
    return obj;
  } : function (obj, k) {
    obj[k] = object[k];
    return obj;
  }, {});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.createPath" id="apidoc.element.jitsu.common.createPath">
        function <span class="apidocSignatureSpan">jitsu.common.</span>createPath
        <span class="apidocSignatureSpan">(obj, path, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createPath = function (obj, path, value) {
  var key, i;

  for (i in path) {
    key = path[i];
    if (!obj[key]) {
      obj[key] = ((+i + 1 === path.length) ? value : {});
    }

    obj = obj[key];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.debug" id="apidoc.element.jitsu.common.debug">
        function <span class="apidocSignatureSpan">jitsu.common.</span>debug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function deprecated() {
  warned = exports.printDeprecationMessage(msg, warned, deprecated);
  if (new.target) {
    return Reflect.construct(fn, arguments, new.target);
  }
  return fn.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.debuglog" id="apidoc.element.jitsu.common.debuglog">
        function <span class="apidocSignatureSpan">jitsu.common.</span>debuglog
        <span class="apidocSignatureSpan">(set)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debuglog = function (set) {
  if (debugEnviron === undefined)
    debugEnviron = process.env.NODE_DEBUG || '';
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp(`\\b${set}\\b`, 'i').test(debugEnviron)) {
      var pid = process.pid;
      debugs[set] = function() {
        var msg = exports.format.apply(exports, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function() {};
    }
  }
  return debugs[set];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.deprecate" id="apidoc.element.jitsu.common.deprecate">
        function <span class="apidocSignatureSpan">jitsu.common.</span>deprecate
        <span class="apidocSignatureSpan">(fn, msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deprecate = function (fn, msg) {
  // Allow for deprecating things in the process of starting up.
  if (global.process === undefined) {
    return function() {
      return exports._deprecate(fn, msg).apply(this, arguments);
    };
  }

  if (process.noDeprecation === true) {
    return fn;
  }

  var warned = false;
  function deprecated() {
    warned = exports.printDeprecationMessage(msg, warned, deprecated);
    if (new.target) {
      return Reflect.construct(fn, arguments, new.target);
    }
    return fn.apply(this, arguments);
  }

  // The wrapper will keep the same prototype as fn to maintain prototype chain
  Object.setPrototypeOf(deprecated, fn);
  if (fn.prototype) {
    // Setting this (rather than using Object.setPrototype, as above) ensures
    // that calling the unwrapped constructor gives an instanceof the wrapped
    // constructor.
    deprecated.prototype = fn.prototype;
  }

  return deprecated;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.each" id="apidoc.element.jitsu.common.each">
        function <span class="apidocSignatureSpan">jitsu.common.</span>each
        <span class="apidocSignatureSpan">(obj, iterator)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">each = function (obj, iterator) {
  Object.keys(obj).forEach(function (key) {
    iterator(obj[key], key, obj);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.error" id="apidoc.element.jitsu.common.error">
        function <span class="apidocSignatureSpan">jitsu.common.</span>error
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function deprecated() {
  warned = exports.printDeprecationMessage(msg, warned, deprecated);
  if (new.target) {
    return Reflect.construct(fn, arguments, new.target);
  }
  return fn.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
// ### function unknownError(message, stack)
// Displays an unknown error by dumping the call `stack`
// and a given `message`.
//
function unknownError(message, stack) {
  jitsu.log.<span class="apidocCodeKeywordSpan">error</span>(message);
  stack.split('\n').forEach(function (line) {
    jitsu.log.error(line);
  })
}

//
// ### function solenoidError(display)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.escapeRegExp" id="apidoc.element.jitsu.common.escapeRegExp">
        function <span class="apidocSignatureSpan">jitsu.common.</span>escapeRegExp
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">escapeRegExp = function (str) {
  return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&amp;");
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.filter" id="apidoc.element.jitsu.common.filter">
        function <span class="apidocSignatureSpan">jitsu.common.</span>filter
        <span class="apidocSignatureSpan">(obj, pred)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filter = function (obj, pred) {
  var copy;
  if (Array.isArray(obj)) {
    copy = [];
    utile.each(obj, function (val, key) {
      if (pred(val, key, obj)) {
        copy.push(val);
      }
    });
  }
  else {
    copy = {};
    utile.each(obj, function (val, key) {
      if (pred(val, key, obj)) {
        copy[key] = val;
      }
    });
  }
  return copy;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  } else {
    jitsu.log.error(err.result.error);
  }
}

if (err.result.errors &amp;&amp; Array.isArray(err.result.errors)) {
  errors = {
    connection: err.result.errors.<span class="apidocCodeKeywordSpan">filter</span>(function (err) {
      return err.blame === 'connection';
    }),
    application: err.result.errors.filter(function (err) {
      return err.blame === 'application';
    }),
    solenoid: err.result.errors.filter(function (err) {
      return err.blame === 'solenoid';
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.find" id="apidoc.element.jitsu.common.find">
        function <span class="apidocSignatureSpan">jitsu.common.</span>find
        <span class="apidocSignatureSpan">(obj, pred)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">find = function (obj, pred) {
  var value, key;

  for (key in obj) {
    value = obj[key];
    if (pred(value, key)) {
      return value;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.formatApp" id="apidoc.element.jitsu.common.formatApp">
        function <span class="apidocSignatureSpan">jitsu.common.</span>formatApp
        <span class="apidocSignatureSpan">(app, exclude)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">formatApp = function (app, exclude) {
  var snapshots = app.snapshots,
      remove = ['_id', '_rev', 'id', 'resource'];

  app.snapshots = !snapshots ? [] : snapshots.map(function (snap) {
    var created = new Date(snap.ctime);
    created = dateformat(created, "mm/dd HH:MM:ss Z");
    return {
      id: snap.id,
      created: created
    }
  });

  if (exclude) {
    remove = remove.concat(exclude);
  }

  //
  // TODO: won't work with current rendering of package.json
  //
  // app.state = common.formatAppState(app.state);

  //
  // Update the ctime and mtime of the document to a more human-readable format
  //
  app.ctime = dateformat(app.ctime, "mm/dd HH:MM:ss Z");
  app.mtime = dateformat(app.mtime, "mm/dd HH:MM:ss Z");

  //
  // Format ctime to more human-readable format for snapshots if they are available
  //
  if (app.active) {
    app.active.ctime = dateformat(app.active.ctime, "mm/dd HH:MM:ss Z");
  }

  if (app.running) {
    app.running.ctime = dateformat(app.running.ctime, "mm/dd HH:MM:ss Z");
  }


  remove.forEach(function (key) {
    delete app[key];
  });

  return app;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (err) {
      jitsu.log.error('App ' + name.magenta + ' doesn\'t exist on Nodejitsu yet!');
      jitsu.log.help('Try running ' + 'jitsu deploy'.magenta);
      return callback({});
    }

    jitsu.log.info('Viewing app ' + name.magenta);
    app = jitsu.common.<span class="apidocCodeKeywordSpan">formatApp</span>(app);
    jitsu.inspect.putObject(app);
    callback(null, app);
  });
}

function getAppName(callback) {
  jitsu.package.read(process.cwd(), function (err, pkg) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.formatAppState" id="apidoc.element.jitsu.common.formatAppState">
        function <span class="apidocSignatureSpan">jitsu.common.</span>formatAppState
        <span class="apidocSignatureSpan">(state)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">formatAppState = function (state) {

  var str;

  if (state === "started") {
    str = state.green;
  } else {
    str = (state || 'unknown').grey;
  }

  return str;

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return callback();
    }

    var rows = [['name', 'state', 'subdomain', 'drones', 'running snapshot']],
  colors = ['underline', 'underline', 'underline', 'underline', 'underline'];

    apps.forEach(function (app) {
app.state = jitsu.common.<span class="apidocCodeKeywordSpan">formatAppState</span>(app.state);

//
// Remark: Attempt to always show running snapshot
//
var snapshot = '---';
if (app.running &amp;&amp; app.running.filename) {
  snapshot = app.running.filename;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.inherits" id="apidoc.element.jitsu.common.inherits">
        function <span class="apidocSignatureSpan">jitsu.common.</span>inherits
        <span class="apidocSignatureSpan">(ctor, superCtor)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inherits = function (ctor, superCtor) {

  if (ctor === undefined || ctor === null)
    throw new TypeError('The constructor to "inherits" must not be ' +
                        'null or undefined');

  if (superCtor === undefined || superCtor === null)
    throw new TypeError('The super constructor to "inherits" must not ' +
                        'be null or undefined');

  if (superCtor.prototype === undefined)
    throw new TypeError('The super constructor to "inherits" must ' +
                        'have a prototype');

  ctor.super_ = superCtor;
  Object.setPrototypeOf(ctor.prototype, superCtor.prototype);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.inspect" id="apidoc.element.jitsu.common.inspect">
        function <span class="apidocSignatureSpan">jitsu.common.</span>inspect
        <span class="apidocSignatureSpan">(obj, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments[2] !== undefined) ctx.depth = arguments[2];
  if (arguments[3] !== undefined) ctx.colors = arguments[3];
  if (typeof opts === 'boolean') {
    // legacy...
    ctx.showHidden = opts;
  }
  // Set default and user-specified options
  ctx = Object.assign({}, inspect.defaultOptions, ctx, opts);
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  if (ctx.maxArrayLength === null) ctx.maxArrayLength = Infinity;
  return formatValue(ctx, obj, ctx.depth);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    function debug (data) {
      if (jitsu.argv.debug || jitsu.config.get('debug')) {
        if (data.headers &amp;&amp; data.headers['Authorization']) {
          data = JSON.parse(JSON.stringify(data));
          data.headers['Authorization'] = Array(data.headers['Authorization'].length).join('*');
        }

        util.<span class="apidocCodeKeywordSpan">inspect</span>(data, false, null, true).split('\n').forEach(jitsu.log
.debug);
      }
    };
  });

  jitsu.started = true;
  callback();
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.isArray" id="apidoc.element.jitsu.common.isArray">
        function <span class="apidocSignatureSpan">jitsu.common.</span>isArray
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isArray() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    jitsu.log.error(err.result.error);
    jitsu.log.error("Do not use a specific engine version, try a generic one (eg: 0.8.x or 0.10.x)");
  } else {
    jitsu.log.error(err.result.error);
  }
}

if (err.result.errors &amp;&amp; Array.<span class="apidocCodeKeywordSpan">isArray</span>(err.result.errors)) {
  errors = {
    connection: err.result.errors.filter(function (err) {
      return err.blame === 'connection';
    }),
    application: err.result.errors.filter(function (err) {
      return err.blame === 'application';
    }),
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.isBoolean" id="apidoc.element.jitsu.common.isBoolean">
        function <span class="apidocSignatureSpan">jitsu.common.</span>isBoolean
        <span class="apidocSignatureSpan">(arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isBoolean(arg) {
  return typeof arg === 'boolean';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.isBuffer" id="apidoc.element.jitsu.common.isBuffer">
        function <span class="apidocSignatureSpan">jitsu.common.</span>isBuffer
        <span class="apidocSignatureSpan">(b)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isBuffer(b) {
  return b instanceof Buffer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.isDate" id="apidoc.element.jitsu.common.isDate">
        function <span class="apidocSignatureSpan">jitsu.common.</span>isDate
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isDate(d) {
  return binding.isDate(d);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.isError" id="apidoc.element.jitsu.common.isError">
        function <span class="apidocSignatureSpan">jitsu.common.</span>isError
        <span class="apidocSignatureSpan">(e)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isError(e) {
  return exports.objectToString(e) === '[object Error]' || e instanceof Error;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.isFunction" id="apidoc.element.jitsu.common.isFunction">
        function <span class="apidocSignatureSpan">jitsu.common.</span>isFunction
        <span class="apidocSignatureSpan">(arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isFunction(arg) {
  return typeof arg === 'function';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.isNull" id="apidoc.element.jitsu.common.isNull">
        function <span class="apidocSignatureSpan">jitsu.common.</span>isNull
        <span class="apidocSignatureSpan">(arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isNull(arg) {
  return arg === null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  };

  context[argv][command] = shouldNodejitsuOk(
    setupFn(options),
    'should show cloud info',
    function assertion (err, ignore) {
      process.chdir(mainDirectory);
      assert.<span class="apidocCodeKeywordSpan">isNull</span>(err);
    }
  );

  suite.addBatch(context);
});

function setupCloud (options) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.isNullOrUndefined" id="apidoc.element.jitsu.common.isNullOrUndefined">
        function <span class="apidocSignatureSpan">jitsu.common.</span>isNullOrUndefined
        <span class="apidocSignatureSpan">(arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isNullOrUndefined(arg) {
  return arg === null || arg === undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.isNumber" id="apidoc.element.jitsu.common.isNumber">
        function <span class="apidocSignatureSpan">jitsu.common.</span>isNumber
        <span class="apidocSignatureSpan">(arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isNumber(arg) {
  return typeof arg === 'number';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.isObject" id="apidoc.element.jitsu.common.isObject">
        function <span class="apidocSignatureSpan">jitsu.common.</span>isObject
        <span class="apidocSignatureSpan">(arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isObject(arg) {
  return arg !== null &amp;&amp; typeof arg === 'object';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.isPrimitive" id="apidoc.element.jitsu.common.isPrimitive">
        function <span class="apidocSignatureSpan">jitsu.common.</span>isPrimitive
        <span class="apidocSignatureSpan">(arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isPrimitive(arg) {
  return arg === null ||
         typeof arg !== 'object' &amp;&amp; typeof arg !== 'function';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.isRegExp" id="apidoc.element.jitsu.common.isRegExp">
        function <span class="apidocSignatureSpan">jitsu.common.</span>isRegExp
        <span class="apidocSignatureSpan">(re)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isRegExp(re) {
  return binding.isRegExp(re);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.isString" id="apidoc.element.jitsu.common.isString">
        function <span class="apidocSignatureSpan">jitsu.common.</span>isString
        <span class="apidocSignatureSpan">(arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isString(arg) {
  return typeof arg === 'string';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.isSymbol" id="apidoc.element.jitsu.common.isSymbol">
        function <span class="apidocSignatureSpan">jitsu.common.</span>isSymbol
        <span class="apidocSignatureSpan">(arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isSymbol(arg) {
  return typeof arg === 'symbol';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.isUndefined" id="apidoc.element.jitsu.common.isUndefined">
        function <span class="apidocSignatureSpan">jitsu.common.</span>isUndefined
        <span class="apidocSignatureSpan">(arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isUndefined(arg) {
  return arg === undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.log" id="apidoc.element.jitsu.common.log">
        function <span class="apidocSignatureSpan">jitsu.common.</span>log
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function () {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

useColors || (colors.mode = "none");

//
// whoami command should not output anything but username
//
if (jitsu.argv._[0] === "whoami") {
  console.<span class="apidocCodeKeywordSpan">log</span>(jitsu.config.get('username') || '');
  return;
}

jitsu.init(function (err) {
  if (err) {
    jitsu.welcome();
    jitsu.showError(jitsu.argv._.join(' '), err);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.missingKeys" id="apidoc.element.jitsu.common.missingKeys">
        function <span class="apidocSignatureSpan">jitsu.common.</span>missingKeys
        <span class="apidocSignatureSpan">(source, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">missingKeys = function (source, target) {
  var missing = [];

  source.forEach(function (key) {
    if (target.indexOf(key) === -1) {
      missing.push(key);
    }
  });

  return missing;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    diff = {};

//
// Ignore changes on the first level of the object.
//
level = level || 0;
if (level &gt; 0) {
  common.<span class="apidocCodeKeywordSpan">missingKeys</span>(ckeys, ukeys).forEach(function (key) {
    diff[key] = undefined;
  });
}

ukeys.forEach(function (key) {
  var nested, i;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.mixin" id="apidoc.element.jitsu.common.mixin">
        function <span class="apidocSignatureSpan">jitsu.common.</span>mixin
        <span class="apidocSignatureSpan">(target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mixin = function (target) {
  utile.rargs(arguments, 1).forEach(function (o) {
    Object.getOwnPropertyNames(o).forEach(function(attr) {
      var getter = Object.getOwnPropertyDescriptor(o, attr).get,
          setter = Object.getOwnPropertyDescriptor(o, attr).set;

      if (!getter &amp;&amp; !setter) {
        target[attr] = o[attr];
      }
      else {
        Object.defineProperty(target, attr, {
          get: getter,
          set: setter
        });
      }
    });
  });

  return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    raw: jitsu.argv.raw
  }
};

//
// Setup config, users, command aliases and prompt settings
//
jitsu.prompt.properties = flatiron.common.<span class="apidocCodeKeywordSpan">mixin</span>(
  jitsu.prompt.properties,
  require('./jitsu/properties')
);
jitsu.prompt.override   = jitsu.argv;
require('./jitsu/config');
require('./jitsu/alias');
require('./jitsu/commands');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.objectDiff" id="apidoc.element.jitsu.common.objectDiff">
        function <span class="apidocSignatureSpan">jitsu.common.</span>objectDiff
        <span class="apidocSignatureSpan">(current, update, level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">objectDiff = function (current, update, level) {
  var ckeys = Object.keys(current),
      ukeys = Object.keys(update),
      diff = {};

  //
  // Ignore changes on the first level of the object.
  //
  level = level || 0;
  if (level &gt; 0) {
    common.missingKeys(ckeys, ukeys).forEach(function (key) {
      diff[key] = undefined;
    });
  }

  ukeys.forEach(function (key) {
    var nested, i;

    if (!current[key]) {
      diff[key] = update[key];
    }
    else if (Array.isArray(update[key])) {
      if (update[key].length !== current[key].length) {
        diff[key] = update[key];
      }
      else {
        for (i = 0; i &lt; update[key]; i += 1) {
          if (current[key].indexOf(update[key][i]) === -1) {
            diff[key] = update[key];
            break;
          }
        }
      }
    }
    else if (typeof update[key] === 'object') {
      if ((nested = common.objectDiff(current[key], update[key], level + 1))) {
        diff[key] = update[key];
      }
    }
    else {
      if (current[key] !== update[key]) {
        diff[key] = update[key];
      }
    }
  });

  return Object.keys(diff).length &gt; 0 ? diff : null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    name = name || pkg.name;

    jitsu.apps.view(name, function (err, app) {
if (err) {
  return callback(err);
}

var diff = jitsu.common.<span class="apidocCodeKeywordSpan">objectDiff</span>(app, pkg);
if (!diff) {
  jitsu.log.warn('No changes found in package.json for ' + name.magenta);
  return callback();
}

jitsu.log.info('Updating application ' + name.magenta + ' with:');
jitsu.inspect.putObject(diff);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.pad" id="apidoc.element.jitsu.common.pad">
        function <span class="apidocSignatureSpan">jitsu.common.</span>pad
        <span class="apidocSignatureSpan">(str, len, chr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pad(str, len, chr) {
  var s;
  if (!chr) {
    chr = ' ';
  }
  str = str || '';
  s = str;
  if (str.length &lt; len) {
    for (var i = 0; i &lt; (len - str.length); i++) {
      s += chr;
    }
  }
  return s;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.path" id="apidoc.element.jitsu.common.path">
        function <span class="apidocSignatureSpan">jitsu.common.</span>path
        <span class="apidocSignatureSpan">(obj, path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">path = function (obj, path) {
  var key, i;

  for (i in path) {
    if (typeof obj === 'undefined') {
      return undefined;
    }

    key = path[i];
    obj = obj[key];
  }

  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.print" id="apidoc.element.jitsu.common.print">
        function <span class="apidocSignatureSpan">jitsu.common.</span>print
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function deprecated() {
  warned = exports.printDeprecationMessage(msg, warned, deprecated);
  if (new.target) {
    return Reflect.construct(fn, arguments, new.target);
  }
  return fn.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.puts" id="apidoc.element.jitsu.common.puts">
        function <span class="apidocSignatureSpan">jitsu.common.</span>puts
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function deprecated() {
  warned = exports.printDeprecationMessage(msg, warned, deprecated);
  if (new.target) {
    return Reflect.construct(fn, arguments, new.target);
  }
  return fn.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.randomString" id="apidoc.element.jitsu.common.randomString">
        function <span class="apidocSignatureSpan">jitsu.common.</span>randomString
        <span class="apidocSignatureSpan">(length)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">randomString = function (length) {
  var chars, rand, i, ret, mod, bits;

  chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-';
  ret = '';
  // standard 4
  mod = 4;
  // default is 16
  bits = length * mod || 64;

  // in v8, Math.random() yields 32 pseudo-random bits (in spidermonkey it gives 53)
  while (bits &gt; 0) {
    // 32-bit integer
    rand = Math.floor(Math.random() * 0x100000000);
    //we use the top bits
    for (i = 26; i &gt; 0 &amp;&amp; bits &gt; 0; i -= mod, bits -= mod) {
      ret += chars[0x3F &amp; rand &gt;&gt;&gt; i];
    }
  }

  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.rargs" id="apidoc.element.jitsu.common.rargs">
        function <span class="apidocSignatureSpan">jitsu.common.</span>rargs
        <span class="apidocSignatureSpan">(_args, slice)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rargs = function (_args, slice) {
  if (!slice) {
    slice = 0;
  }

  var len = (_args || []).length,
      args = new Array(len - slice),
      i;

  //
  // Convert the raw `_args` to a proper Array.
  //
  for (i = slice; i &lt; len; i++) {
    args[i - slice] = _args[i];
  }

  return args;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.requireDir" id="apidoc.element.jitsu.common.requireDir">
        function <span class="apidocSignatureSpan">jitsu.common.</span>requireDir
        <span class="apidocSignatureSpan">(directory)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requireDir = function (directory) {
  var result = {},
      files = fs.readdirSync(directory);

  files.forEach(function (file) {
    if (file.substr(-3) === '.js') {
      file = file.substr(0, file.length - 3);
    }
    result[file] = require(path.resolve(directory, file));
  });
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.requireDirLazy" id="apidoc.element.jitsu.common.requireDirLazy">
        function <span class="apidocSignatureSpan">jitsu.common.</span>requireDirLazy
        <span class="apidocSignatureSpan">(directory)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requireDirLazy = function (directory) {
  var result = {},
      files = fs.readdirSync(directory);

  files.forEach(function (file) {
    if (file.substr(-3) === '.js') {
      file = file.substr(0, file.length - 3);
    }
    Object.defineProperty(result, file, {
      get: function() {
        return result[file] = require(path.resolve(directory, file));
      }
    });
  });

  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.templateUsage" id="apidoc.element.jitsu.common.templateUsage">
        function <span class="apidocSignatureSpan">jitsu.common.</span>templateUsage
        <span class="apidocSignatureSpan">(app, commands)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">templateUsage = function (app, commands) {
  if (!app.name) {
    return commands;
  }

  function templateUsage(usage) {
    return usage.map(function (line) {
      return line.replace(/\&lt;app\&gt;/ig, app.name);
    });
  }

  Object.keys(commands).forEach(function (command) {
    if (command === 'usage') {
      commands.usage = templateUsage(commands.usage);
    }
    else if (commands[command].usage) {
      commands[command].usage = templateUsage(commands[command].usage);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.tryReaddirSync" id="apidoc.element.jitsu.common.tryReaddirSync">
        function <span class="apidocSignatureSpan">jitsu.common.</span>tryReaddirSync
        <span class="apidocSignatureSpan">(dir)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tryReaddirSync = function (dir) {
  try { return fs.readdirSync(dir) }
  catch (err) { return [] }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.underscoreToCamel" id="apidoc.element.jitsu.common.underscoreToCamel">
        function <span class="apidocSignatureSpan">jitsu.common.</span>underscoreToCamel
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">underscoreToCamel = function (obj) {
  if (typeof obj !== 'object' || obj === null) {
    return obj;
  }

  if (Array.isArray(obj)) {
    obj.forEach(utile.underscoreToCamel);
    return obj;
  }

  Object.keys(obj).forEach(function (key) {
    var k = utile.inflect.camelize(key, false);
    if (k !== key) {
      obj[k] = obj[key];
      delete obj[key];
      key = k;
    }
    utile.underscoreToCamel(obj[key]);
  });

  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.uuid" id="apidoc.element.jitsu.common.uuid">
        function <span class="apidocSignatureSpan">jitsu.common.</span>uuid
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">uuid = function () {
  return String(id++);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.common.directories" id="apidoc.module.jitsu.common.directories">module jitsu.common.directories</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.common.directories.create" id="apidoc.element.jitsu.common.directories.create">
        function <span class="apidocSignatureSpan">jitsu.common.directories.</span>create
        <span class="apidocSignatureSpan">(dirs, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (dirs, callback) {
  function createDir(dir, next) {
    mkdirp(dir, 0755, function () {
      next(null, dir);
    });
  }

  if (!dirs) {
    return callback();
  }

  async.mapSeries(Object.keys(dirs).map(function (key) {
    return dirs[key]
  }), createDir, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.log.help('Please check for an email sent to ' + details.email.grey + ' for further activation instructions
.');
},
login: function (details, next) {
  //
  // Retrieve a token and remove the password with it
  //
  if (details &amp;&amp; details.username) {
    jitsu.tokens.<span class="apidocCodeKeywordSpan">create</span>(details.username, (jitsu.config.get('apiTokenName')||&amp;#
x27;jitsu'), function(err, result) {
      if(!err &amp;&amp; result) {
        var token = Object.getOwnPropertyNames(result).filter(function(n){return n !== 'operation'}).pop();
        jitsu.config.set('apiToken', result[token]);
        jitsu.config.set('apiTokenName', token);
        jitsu.config.clear('password');
        jitsu.config.save();
        return next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.directories.normalize" id="apidoc.element.jitsu.common.directories.normalize">
        function <span class="apidocSignatureSpan">jitsu.common.directories.</span>normalize
        <span class="apidocSignatureSpan">(keys, dirs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">normalize = function (keys, dirs) {
  var normalized = {};

  Object.keys(dirs).forEach(function (key) {
    normalized[key] = dirs[key];
    Object.keys(keys).forEach(function (constant) {
      normalized[key] = normalized[key].replace(constant, keys[constant]);
    });
  });

  return normalized;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.common.directories.remove" id="apidoc.element.jitsu.common.directories.remove">
        function <span class="apidocSignatureSpan">jitsu.common.directories.</span>remove
        <span class="apidocSignatureSpan">(dirs, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (dirs, callback) {
  function removeDir (dir, next) {
    rimraf(dir, function () {
      next(null, dir);
    });
  }

  if (!dirs) {
    return callback();
  }

  async.mapSeries(Object.keys(dirs).map(function (key) {
    return dirs[key]
  }), removeDir, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  vows = require('vows'),
  jitsu = require('../../lib/jitsu'),
  macros = require('../helpers/macros');

var mainDirectory = process.cwd();

jitsu.init();
//jitsu.log.loggers.default.<span class="apidocCodeKeywordSpan">remove</span>(app.log.loggers.default.transports.console); // make
 silent

function setupPackage (options) {
options = options || {};
return {
  name: options.name || 'example-app',
  subdomain: options.subdomain || 'example-app',
  scripts: { start: 'server.js' },
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.config" id="apidoc.module.jitsu.config">module jitsu.config</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.config.load" id="apidoc.element.jitsu.config.load">
        function <span class="apidocSignatureSpan">jitsu.config.</span>load
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">load = function (callback) {
  _load.call(jitsu.config, function (err, store) {
    if (err) {
      return callback(err, true, true, true);
    }

    jitsu.config.set('userconfig', jitsu.config.stores.file.file);

    if (store.auth) {
      var auth = store.auth.split(':');
      jitsu.config.clear('auth');
      jitsu.config.set('username', auth[0]);
      jitsu.config.set('password', auth[1]);
      // create a new token and remove password from being saved to .jitsuconf
      jitsu.tokens.create(auth[0], (jitsu.config.get('apiTokenName')||'jitsu'), function(err, result) {
          if(!err &amp;&amp; result) {
            var token = Object.getOwnPropertyNames(result).filter(function(n){return n !== 'operation'}).pop();
            jitsu.config.set('apiToken', result[token]);
            jitsu.config.set('apiTokenName', token);
            jitsu.config.clear('password');
            return jitsu.config.save(callback);
          }
        });


    }

    callback(null, store);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 */

var path = require('path'),
    jitsu = require('../jitsu');

//
// Store the original `jitsu.config.<span class="apidocCodeKeywordSpan">load</span>()` function
// for later use.
//
var _load = jitsu.config.load;

//
// Update env if using Windows
//
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.initializers" id="apidoc.module.jitsu.initializers">module jitsu.initializers</a></h1>






    <h2>
        <a href="#apidoc.element.jitsu.initializers.cli" id="apidoc.element.jitsu.initializers.cli">
        function <span class="apidocSignatureSpan">jitsu.initializers.</span>cli
        <span class="apidocSignatureSpan">(done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cli = function (done) {
  var app = this,
      logger;

  if (!app.log.help) {
    logger = app.log.get('default');
    logger.cli().extend(app.log);
  }

  if (app.config) {
    //
    // Create a literal store for argv to
    // avoid re-parsing CLI options.
    //
    app.config.use('argv', {
      type: 'literal',
      store: app.argv
    });

    app.config.env();
  }

  done();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.initializers.inspect" id="apidoc.element.jitsu.initializers.inspect">
        function <span class="apidocSignatureSpan">jitsu.initializers.</span>inspect
        <span class="apidocSignatureSpan">(done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inspect = function (done) {
  var namespace = 'default',
      app = this;

  if (app.options['inspect'] &amp;&amp; app.options['inspect'].namespace) {
    namespace = app.options['inspect'].namespace;
  }

  app.inspect = require('cliff');
  app.inspect.logger = app.log.get('namespace');
  done();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    function debug (data) {
      if (jitsu.argv.debug || jitsu.config.get('debug')) {
        if (data.headers &amp;&amp; data.headers['Authorization']) {
          data = JSON.parse(JSON.stringify(data));
          data.headers['Authorization'] = Array(data.headers['Authorization'].length).join('*');
        }

        util.<span class="apidocCodeKeywordSpan">inspect</span>(data, false, null, true).split('\n').forEach(jitsu.log
.debug);
      }
    };
  });

  jitsu.started = true;
  callback();
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.package" id="apidoc.module.jitsu.package">module jitsu.package</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.package.analyzeDependencies" id="apidoc.element.jitsu.package.analyzeDependencies">
        function <span class="apidocSignatureSpan">jitsu.package.</span>analyzeDependencies
        <span class="apidocSignatureSpan">(pkg, dir, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">analyzeDependencies = function (pkg, dir, callback) {
  jitsu.log.info('Analyzing application dependencies in ' + pkg.scripts.start.magenta);
  analyzer.analyze({ target: path.join(dir, pkg.scripts.start) }, function (err, pkgs) {
    //
    // Create a hash of `'package': '&gt;= version'` for the new dependencies
    //
    var versions = analyzer.extractVersions(pkgs),
        updates;

    if (package.newDependencies(pkg.dependencies, versions)) {
      //
      // If there are new dependencies, indicate this to the user.
      //
      jitsu.log.info('Found new dependencies. They will be added automatically');

      //
      // Extract, merge, and display the updates found by `require-analyzer`
      //
      updates = analyzer.updates(pkg.dependencies, versions);
      updates = analyzer.merge({}, updates.added, updates.updated);
      jitsu.inspect.putObject(updates);

      //
      // Update the package.json dependencies
      //
      pkg.dependencies = analyzer.merge({}, pkg.dependencies || {}, updates);
    }

    callback(null, pkg, updates);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
|| (target.analyze === false));

  if (noanalyze) {
jitsu.log.info('Skipping require-analyzer because ' + 'noanalyze'.magenta + ' option is set');
return callback(null, target);
  }

  package.<span class="apidocCodeKeywordSpan">analyzeDependencies</span>(target, dir, function (err, addedDeps, updates) {
if (err) {
  return callback(err);
}

target.analyzed = true;
return updates
  ? package.write(addedDeps, dir, true, callback)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.package.available" id="apidoc.element.jitsu.package.available">
        function <span class="apidocSignatureSpan">jitsu.package.</span>available
        <span class="apidocSignatureSpan">(pkg, dir, callback, createPackage)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">available = function (pkg, dir, callback, createPackage) {
  jitsu.apps.available(pkg, function (err, isAvailable) {
    var props, fields = [];
    function removeAppname(){
      delete pkg.name;
      fields.push('name');
    }
    function removeSubdomain(){
      delete pkg.subdomain;
      fields.push('subdomain');
    }
    function addProps(){
      props = package.properties(dir).filter(function (p) {
        return fields.indexOf(p.name) !== -1;
      });
      // auto-suggest a new domain field based on username
      for (var p in props) {
        if (props[p].name === 'subdomain') {
          props[p].default = props[p].default + '.' + jitsu.config.get('username');
        }
      }
      jitsu.prompt.addProperties(pkg, props, createPackage);
      return;
    }
    if (err) {
      jitsu.log.error('There was an error while checking app name / subdomain availability.');
      return callback(err);
    } else if (!isAvailable.available) {
      // only appname is taken
      if(!isAvailable.appname &amp;&amp; isAvailable.subdomain){
        jitsu.log.error('The app name requested is already in use');
        jitsu.prompt.confirm('It appears you have already used this appname before ('+pkg.name.magenta+'). ' + 'Overwrite?'.green
.bold, { default: 'yes'}, function (err, result) {
          if (err) {
            return callback(err);
          }
          if (!result){
            removeAppname();
            addProps();
          } else {
            callback(null, pkg);
          }

        });
      }
      // only subdomain is taken
      else if(isAvailable.appname &amp;&amp; !isAvailable.subdomain){
        jitsu.log.error('The subdomain requested is already in use');
        removeSubdomain();
        addProps();
      }
      //both are taken
      else if(!isAvailable.appname &amp;&amp; !isAvailable.subdomain){
        jitsu.log.error('The subdomain and app name requested are already in use');
        jitsu.prompt.confirm('This app already exists! ('+pkg.name.magenta+'). ' + 'Do you want to deploy over it?'.green.bold, {
default: 'yes'}, function (err, result) {
          if (err) {
            return callback(err);
          }
          if (!result){
            removeAppname();
            removeSubdomain();
            addProps();
          } else {
            callback(null, pkg);
          }

        });

      }
    } else { //nothing is wrong
      callback(null, pkg);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// #### @pkg {Object} Current package.json file on disk
// #### @dir {string} Directory in which the package.json properties are being used
// #### @callback {function} Continuation to respond to when complete.
// #### @createPackage {function} Function needed to make it recursive
// Prompts for appname and subdomain until the combination is available
//
package.available = function (pkg, dir, callback, createPackage) {
jitsu.apps.<span class="apidocCodeKeywordSpan">available</span>(pkg, function (err, isAvailable) {
  var props, fields = [];
  function removeAppname(){
    delete pkg.name;
    fields.push('name');
  }
  function removeSubdomain(){
    delete pkg.subdomain;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.package.create" id="apidoc.element.jitsu.package.create">
        function <span class="apidocSignatureSpan">jitsu.package.</span>create
        <span class="apidocSignatureSpan">(dir, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (dir, callback) {
  var help = [
    '',
    'A package.json stores meta-data about an app',
    'In order to continue we\'ll need to gather some information about the app',
    '',
    'Press ^C at any time to quit.',
    'to select a default value, press ENTER'
  ];

  jitsu.log.warn('There is no package.json file in ' + dir.grey);
  jitsu.log.warn('Creating package.json at ' + (path.join(dir, '/package.json')).grey);

  help.forEach(function (line) {
    jitsu.log.help(line);
  });

  fillPackage(null, dir, function (err, pkg) {
    if (err) {
      return callback(err);
    }

    package.write(pkg, dir, true, function (err, pkg) {
      if (err) {
        return callback(err);
      }
      tryAnalyze(pkg, dir, callback);

    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  jitsu.log.help('Please check for an email sent to ' + details.email.grey + ' for further activation instructions
.');
},
login: function (details, next) {
  //
  // Retrieve a token and remove the password with it
  //
  if (details &amp;&amp; details.username) {
    jitsu.tokens.<span class="apidocCodeKeywordSpan">create</span>(details.username, (jitsu.config.get('apiTokenName')||&amp;#
x27;jitsu'), function(err, result) {
      if(!err &amp;&amp; result) {
        var token = Object.getOwnPropertyNames(result).filter(function(n){return n !== 'operation'}).pop();
        jitsu.config.set('apiToken', result[token]);
        jitsu.config.set('apiTokenName', token);
        jitsu.config.clear('password');
        jitsu.config.save();
        return next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.package.createTarball" id="apidoc.element.jitsu.package.createTarball">
        function <span class="apidocSignatureSpan">jitsu.package.</span>createTarball
        <span class="apidocSignatureSpan">(dir, version, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createTarball = function (dir, version, callback) {
  if (!callback) {
    callback = version;
    version = null;
  }

  package.read(dir, function (err, pkg) {
    if (err) {
      return callback(err);
    }

    if (dir.slice(-1) === '/') {
      dir = dir.slice(0, -1);
    }

    var name = [jitsu.config.get('username'), pkg.name, version || pkg.version].join('-') + '.tgz',
        tarball = path.join(jitsu.config.get('tmproot'), name);

    fstreamNpm({
      path: dir,
      ignoreFiles: ['.jitsuignore', '.npmignore', '.gitignore', 'package.json']
    })
      .on('error', callback)
      .pipe(tar.Pack())
      .on('error', callback)
      .pipe(zlib.Gzip())
      .on('error', callback)
      .pipe(fstream.Writer({ type: "File", path: tarball }))
      .on('close', function () {
        callback(null, pkg, tarball);
      });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  function executeCreate (err) {
    if (err) {
return callback(err, true);
    }

    version = version || pkg.version;
    jitsu.package.<span class="apidocCodeKeywordSpan">createTarball</span>(process.cwd(), version, function (err, ign, filename) {
if (err) {
  return callback(err, true)
}

jitsu.log.info('Creating snapshot ' + version.grey);
jitsu.log.silly('Filename: ' + filename);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.package.get" id="apidoc.element.jitsu.package.get">
        function <span class="apidocSignatureSpan">jitsu.package.</span>get
        <span class="apidocSignatureSpan">(dir, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (dir, options, callback) {
  if (!callback) {
    callback = options;
    options = {};
  }

  package.read(dir, function (err, pkg) {
    if (err) {
      if (err.toString() === "Error: Invalid package.json file") {
        jitsu.log.error(err.toString());
        return callback(
          'Please make sure ' + (path.join(dir, '/package.json')).grey + ' is valid JSON',
          false,
          false
        );
      }
      return package.create(dir, callback);
    }

    package.validate(pkg, dir, options, function (err, updated) {
      return err ? callback(err) : callback(null, updated);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// ### function welcome ()
// Print welcome message.
//
jitsu.welcome = function () {
//
// If a user is logged in, show username
//
var username = jitsu.config.<span class="apidocCodeKeywordSpan">get</span>('username') || '';

godaddy.notice(jitsu);

jitsu.log.info('Welcome to ' + 'Nodejitsu'.grey + ' ' + username.magenta);
jitsu.log.info('jitsu v' + jitsu.version + ', node ' + process.version);
jitsu.log.info('It worked if it ends with ' + 'Nodejitsu'.grey + ' ok'.green.bold);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.package.newDependencies" id="apidoc.element.jitsu.package.newDependencies">
        function <span class="apidocSignatureSpan">jitsu.package.</span>newDependencies
        <span class="apidocSignatureSpan">(current, updated)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">newDependencies = function (current, updated) {
  var updates = analyzer.updates(current, updated);
  return Object.keys(updates.added).length &gt; 0 || Object.keys(updates.updated).length &gt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  analyzer.analyze({ target: path.join(dir, pkg.scripts.start) }, function (err, pkgs) {
    //
    // Create a hash of `'package': '&gt;= version'` for the new dependencies
    //
    var versions = analyzer.extractVersions(pkgs),
  updates;

    if (package.<span class="apidocCodeKeywordSpan">newDependencies</span>(pkg.dependencies, versions)) {
//
// If there are new dependencies, indicate this to the user.
//
jitsu.log.info('Found new dependencies. They will be added automatically');

//
// Extract, merge, and display the updates found by `require-analyzer`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.package.properties" id="apidoc.element.jitsu.package.properties">
        function <span class="apidocSignatureSpan">jitsu.package.</span>properties
        <span class="apidocSignatureSpan">(dir)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">properties = function (dir) {
  return [
    {
      name: 'name',
      unique: true,
      message: 'Application name',
      validator: /^(?!\.)(?!_)(?!node_modules)(?!favicon.ico)[^\/@\s\+%:\n]+$/,
      warning: 'The application name  must follow the rules for npm package names.\n'+
      '         They must not start with a \'.\' or \'_\', contain any whitespace \n'+
      '         characters or any of the following characters(between quotes): "/@+%:". \n'+
      '         Additionally, the name may not be \'node_modules\' or \'favicon.ico\'.',
      default: path.basename(dir)
    },
    {
      name: 'subdomain',
      unique: true,
      message: 'Subdomain name',//+
      warning: 'The subdomain must follow the rules for ARPANET host names.  They must\n'+
      '         start with a letter, end with a letter or digit, and have as interior\n'+
      '         characters only letters, digits, and hyphen.  There are also some\n'+
      '         restrictions on the length.  Labels must be 63 characters or less.\n'+
      '         There are a few exceptions, underscores may be used as an interior \n'+
      '         character and unicode characters may be used that are supported under\n'+
      '         punycode.',
      validator: function(s){
        var reValidSubdomain = /^[a-zA-Z]$|^[a-zA-Z][a-zA-Z\d]$|^[a-zA-Z][\w\-]{1,61}[a-zA-Z\d]$/;
        if(s.indexOf('.') !== -1) { // We will support multiple level subdomains this for now warn user...
          jitsu.log.warn("**WARNING** Do not use multiple level subdomains, they will be going away soon!");
          var subdomainNames = s.split('.'),
              names = subdomainNames.map(punycode.toASCII);
          return !names.some(function(name){return !reValidSubdomain.test(name);});
        } else {
          return reValidSubdomain.test(punycode.toASCII(s));
        }
      },
      help: [
        '',
        'The ' + 'subdomain '.grey + 'is where the app will reside',
        'The app will then become accessible at: http://' + 'subdomain'.grey + '.jit.su',
        ''
      ],
      default: jitsu.config.get('username') + '-' + path.basename(dir)
    },
    {
      name: 'scripts.start',
      message: 'scripts.start',
      conform: function (script) {
        //
        // Support `scripts.start` starting with executable (`node` or `coffee`).
        //
        var split = script.split(' ');
        if (~['node', 'coffee'].indexOf(split[0])) {
          script = split.slice(1).join(' ');
        }

        try {
          fs.statSync(path.join(dir, script));
          return true;
        }
        catch (ex) {
          return false;
        }
      },
      warning: 'Start script was not found in ' + dir.magenta,
      default: searchStartScript(dir)
    },
    {
      name: 'version',
      unique: false,
      conform: semver.valid,
      default: '0.0.0'
    },
    {
      name: 'engines.node',
      unique: false,
      message: 'engines',
      conform: semver.validRange,
      default: '0.10.x'
    }
  ];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//
// ### function validate (pkg, dir, callback)
// #### @pkg {Object} Parsed package.json to validate
// #### @dir {string} Directory containing the package.json file
// #### @options {object} Ignored
// #### @callback {function} Continuation to respond to when complete
// Validates the specified `pkg` against the properties list
// returned from `package.<span class="apidocCodeKeywordSpan">properties</span>(dir)`.
// Also prompts the user if there are any missing properties.
//
package.validate = function (pkg, dir, options, callback) {

if (!callback) {
  callback = options;
  options = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.package.read" id="apidoc.element.jitsu.package.read">
        function <span class="apidocSignatureSpan">jitsu.package.</span>read
        <span class="apidocSignatureSpan">(dir, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">read = function (dir, callback) {
  var file = path.resolve(path.join(dir, 'package.json'));

  fs.readFile(file, function (err, data) {
    if (err) {
      return callback(err);
    }

    data = data.toString();

    if (!data.length) {
      return callback(new Error('package.json is empty'));
    }

    try {
      data = JSON.parse(data.toString());
    }
    catch (ex) {
      return callback(new Error('Invalid package.json file'));
    }

    callback(null, data);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 * Dynamic Completion
 */

var echo = {
  apps: function (words, prev, cur) {
var apps = cache.<span class="apidocCodeKeywordSpan">read</span>('apps');
if (apps) {
  output(cur, apps);
  return;
}

var username = jitsu().config.get('username');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.package.runScript" id="apidoc.element.jitsu.package.runScript">
        function <span class="apidocSignatureSpan">jitsu.package.</span>runScript
        <span class="apidocSignatureSpan">(pkg, action, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">runScript = function (pkg, action, callback) {
  var command = pkg.scripts[action];

  if (!command) {
    //
    // If there's no such script, it's all fine.
    //
    return callback();
  }

  var child = spawnCommand(command, {
    customFds: [0, 1, 2]
  });

  child.on('exit', function (code) {
    if (code !== 0) {
      return callback(new Error('`' + command + '` exited with code ' + code));
    }

    callback();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

var next = function next (err) {
  if (err) {
    return callback(err);
  }

  jitsu.package.<span class="apidocCodeKeywordSpan">runScript</span>(pkg, 'postdeploy', callback);
};

// Only if all options are correct we pass cloud options
if (cloud.provider &amp;&amp; cloud.datacenter &amp;&amp; cloud.drones &amp;&amp; cloud.ram) {
  apps.start(existing.name, cloud, next);
} else {
  apps.start(existing.name, next);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.package.tryRead" id="apidoc.element.jitsu.package.tryRead">
        function <span class="apidocSignatureSpan">jitsu.package.</span>tryRead
        <span class="apidocSignatureSpan">(dir, callback, success)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tryRead = function (dir, callback, success) {
  package.read(dir, function (err, pkg) {
    return err ? callback(new Error('No package found at ' + (dir + '/package.json').grey), true) : success(pkg);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (arguments.length) {
var args = utile.args(arguments);
callback = args.callback;
name = args[0] || null;
  }

  jitsu.log.silly('Reading package.json in ' + process.cwd());
  jitsu.package.<span class="apidocCodeKeywordSpan">tryRead</span>(process.cwd(), callback, function (pkg) {
name = name || pkg.name;

jitsu.apps.view(name, function (err, app) {
  if (err) {
    return callback(err);
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.package.updateTarball" id="apidoc.element.jitsu.package.updateTarball">
        function <span class="apidocSignatureSpan">jitsu.package.</span>updateTarball
        <span class="apidocSignatureSpan">(version, pkg, existing, firstSnapshot, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateTarball = function (version, pkg, existing, firstSnapshot, callback) {
  if (!callback) {
    callback = firstSnapshot;
    firstSnapshot = false;
  }

  function executeCreate (err) {
    if (err) {
      return callback(err, true);
    }

    version = version || pkg.version;
    jitsu.package.createTarball(process.cwd(), version, function (err, ign, filename) {
      if (err) {
        return callback(err, true)
      }

      jitsu.log.info('Creating snapshot ' + version.grey);
      jitsu.log.silly('Filename: ' + filename);

      fs.stat(filename, function (err, stat) {
        var bar;

        if (err) return callback(err);

        // XXX Is 70mb enough? Please warning message
        if (stat.size &gt; 70 * 1024 * 1024) {
          jitsu.log.warn('Snapshot is larger than ' + '70M'.magenta + '!');
          jitsu.log.warn('Keep size below this limit for successful deploy.');
        }

        var emitter = jitsu.snapshots.create(pkg.name, version, filename, function (err, res) {
          if (err) {
            return callback(err);
          }
          res.pipe(process.stdout);
          res.on('end', function () {
            if (res.trailers &amp;&amp; res.trailers['x-build-failure']) {
              var error = new Error('Nodejitsu Error: Build Failure, please check the build failure above');
              error.result = { error: res.trailers['x-build-failure'].toString() };
              return callback(error);
            }
            jitsu.log.info('Done creating snapshot ' + version.magenta);
            callback(null, version, pkg);
          });
        });

        if (emitter &amp;&amp; !jitsu.config.get('raw') &amp;&amp; process.stdout.isTTY ) {
          var size;
          emitter.on('start', function (stats) {
            size = stats.size;
            bar = new ProgressBar('info'.green + ':\t Uploading: [:bar] :percent',{
              complete  : '=',
              incomplete: ' ',
              width     : 30 ,
              total     : stats.size
            });
          });

          emitter.on('data', function (length) {
            if (bar) bar.tick(length &gt; size ? size : length);
          });

          emitter.on('end', function () {
            // fix for bar that sometimes hangs at 99%
            if (bar) {
              bar.tick(bar.total - bar.curr);
            }

            console.log();
          });
        }
      });
    });
  }


  var start = pkg.scripts.start;
  if (start.match(/(--watch)/)) {
    jitsu.log.warn("Using the '--watch' flag may eventually cause issues as its only");
    jitsu.log.warn("intended for development usage.");
  }


  var old = false;

  if (!firstSnapshot) {
    jitsu.log.silly('Existing version: ' + existing.version.magenta);
    jitsu.log.silly('Local version: ' + pkg.version.magenta);
    old = semver.gte(existing.version, pkg.version);

    if (old) {
      //
      // If the existing version is greater than the version in the
      // package.json file on disk, update it and then write back to disk.
      //
      jitsu.log.warn('Local package version appears to be old');
      jitsu.log.warn('The ' + 'package.json'.grey + ' version will be incremented automatically');
      //
      // Check for release args then .jitsuconf or default to 'build'
      //
      var release = jitsu.argv.release || jitsu.config.get('release') || 'build';
      //
      // Pattern matching to see if release is version number or type
      // If is version number, set release to version number specified
      //
      if (jitsu.argv.release) {
        if (typeof(jitsu.argv.release) == 'string') {
          var releaseIsVersionNumber = jitsu.argv.release.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)/g);

          if (releaseIsVersionNumber) {
            pkg.version = jitsu.argv.release;
          } else {
            pkg.version = semver.inc(existing.version, release);
          }

        }
      //
      // if no release argument specified use .jitsuconf
      //
      } else {
        pkg.version = semver.inc(existing.version, release);
      }
      //
      // Default to build if user inputs ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

jitsu.package.runScript(pkg, 'predeploy', function (err) {
  if (err) {
    return callback(err);
  }

  jitsu.package.<span class="apidocCodeKeywordSpan">updateTarball</span>(null, pkg, existing, firstSnapshot, function (err, snapshot
) {
    if (err) {
      return callback(err, snapshot);
    }

    updateApp(existing, snapshot);
  });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.package.validate" id="apidoc.element.jitsu.package.validate">
        function <span class="apidocSignatureSpan">jitsu.package.</span>validate
        <span class="apidocSignatureSpan">(pkg, dir, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validate = function (pkg, dir, options, callback) {

  if (!callback) {
    callback = options;
    options = {};
  }

  var properties = package.properties(dir),
      missing = [],
      invalid = [];

  function checkProperty (desc, next) {
    var nested = desc.name.split('.'),
        value = pkg[nested[0]];

    if (nested.length &gt; 1 &amp;&amp; value) {
      value = value[nested[1]];
    }

    // Handle missing values
    if (!value) {
      missing.push(desc);
    }

    // handle invalid values
    function isValid(desc) {
      if (desc.validator) {
        if (desc.validator instanceof RegExp) {
          return !desc.validator.test(value);
        }

        return !desc.validator(value);
      }
      return false;
    }

    if (value &amp;&amp; isValid(desc)) {

      if (nested.length &gt; 1) {
        delete pkg[nested[0]][nested[1]];
      }
      else {
        delete pkg[nested[0]];
      }

      invalid.push(desc);
    }

    next();
  }

  async.forEach(properties, checkProperty, function () {

    if (missing.length &lt;= 0 &amp;&amp; invalid.length &lt;= 0) {
      return tryAnalyze(pkg, dir, callback);
    }

    var help,
        missingNames = missing.map(function (prop) {
          return '  ' + (prop.message || prop.name).grey;
        }),
        invalidNames = invalid.map(function (prop) {
          return '  ' + (prop.message || prop.name).grey;
        });

    help = [
      ''
    ];

    if (missingNames.length) {
      help = help.concat([
        'The package.json file is missing required fields:',
        '',
        missingNames.join(', '),
        ''
      ]);
    }

    if (invalidNames.length) {
      help = help.concat([
        'The package.json file has invalid required fields:',
        '',
        invalidNames.join(', '),
        ''
      ]);
    }

    help = help.concat([
      'Prompting user for required fields.',
      'Press ^C at any time to quit.',
      ''
    ]);

    help.forEach(function (line) {
      jitsu.log.warn(line);
    });

    fillPackage(pkg, dir, function (err, pkg) {
      if (err) {
        return callback(err);
      }

      package.write(pkg, dir, true, function (err, pkg) {
        return err
          ? callback(err)
          : tryAnalyze(pkg, dir, callback);
      });
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
          false,
          false
        );
      }
      return package.create(dir, callback);
    }

    package.<span class="apidocCodeKeywordSpan">validate</span>(pkg, dir, options, function (err, updated) {
      return err ? callback(err) : callback(null, updated);
    });
  });
};

//
// ### function read (dir, callback)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.package.write" id="apidoc.element.jitsu.package.write">
        function <span class="apidocSignatureSpan">jitsu.package.</span>write
        <span class="apidocSignatureSpan">(pkg, dir, create, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (pkg, dir, create, callback) {
  function doWrite(err, result) {
    if (err) {
      return cb(err);
    }
    if (!result) {
      return create ? package.create(dir, callback) : callback(new Error('Save package.json cancelled.'));
    }

    fs.readFile(path.resolve(path.join(dir, 'package.json')), function (e, data) {
      var offset = data ? ladder(data.toString()) : 2;

      fs.writeFile(path.join(dir, 'package.json'), JSON.stringify(pkg, null, offset) + '\n', function (err) {
        return err ? callback(err) : callback(null, pkg, dir);
      });
    });
  }

  if (!callback) {
    callback = create;
    create = null;
  }

  delete pkg.analyzed;

  jitsu.log.warn('About to write ' + path.join(dir, 'package.json').magenta);

  //
  // analyze and throw warnings if any dependencies have version of '*'
  //
  policeDependencies(pkg);

  jitsu.inspect.putObject(pkg, 2);

  return jitsu.argv.release
    ? doWrite(null, true)
    : jitsu.prompt.confirm('Is this ' + 'ok?'.green.bold, { default: 'yes'}, doWrite);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return;
    }

    var username = jitsu().config.get('username');

    jitsu().apps.list(username, function (err, apps) {
if (err || !apps || !apps.length) {
  cache.<span class="apidocCodeKeywordSpan">write</span>('apps', []);
  return;
}

apps = apps.map(function (app) {
  return app.name;
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.prompt" id="apidoc.module.jitsu.prompt">module jitsu.prompt</a></h1>










    <h2>
        <a href="#apidoc.element.jitsu.prompt._performValidation" id="apidoc.element.jitsu.prompt._performValidation">
        function <span class="apidocSignatureSpan">jitsu.prompt.</span>_performValidation
        <span class="apidocSignatureSpan">(name, prop, against, schema, line, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_performValidation = function (name, prop, against, schema, line, callback) {
  var numericInput, valid, msg;

  try {
    valid = validate(against, schema);
  }
  catch (err) {
    return (line !== -1) ? callback(err) : false;
  }

  if (!valid.valid) {
    msg = line !== -1 ? 'Invalid input for ' : 'Invalid command-line input for ';

    if (prompt.colors) {
      logger.error(msg + name.grey);
    }
    else {
      logger.error(msg + name);
    }

    if (prop.schema.message) {
      logger.error(prop.schema.message);
    }

    prompt.emit('invalid', prop, line);
  }

  return valid.valid;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt._remember" id="apidoc.element.jitsu.prompt._remember">
        function <span class="apidocSignatureSpan">jitsu.prompt.</span>_remember
        <span class="apidocSignatureSpan">(property, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_remember = function (property, value) {
  history.unshift({
    property: property,
    value: value
  });

  //
  // If the length of the `history` Array
  // has exceeded the specified length to remember,
  // `prompt.memory`, truncate it.
  //
  if (history.length &gt; prompt.memory) {
    history.splice(prompt.memory, history.length - prompt.memory);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.addProperties" id="apidoc.element.jitsu.prompt.addProperties">
        function <span class="apidocSignatureSpan">jitsu.prompt.</span>addProperties
        <span class="apidocSignatureSpan">(obj, properties, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addProperties = function (obj, properties, callback) {
  properties = properties.filter(function (prop) {
    return typeof obj[prop] === 'undefined';
  });

  if (properties.length === 0) {
    return callback(obj);
  }

  prompt.get(properties, function (err, results) {
    if (err) {
      return callback(err);
    }
    else if (!results) {
      return callback(null, obj);
    }

    function putNested (obj, path, value) {
      var last = obj, key;

      while (path.length &gt; 1) {
        key = path.shift();
        if (!last[key]) {
          last[key] = {};
        }

        last = last[key];
      }

      last[path.shift()] = value;
    }

    Object.keys(results).forEach(function (key) {
      putNested(obj, key.split('.'), results[key]);
    });

    callback(null, obj);
  });

  return prompt;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
  // auto-suggest a new domain field based on username
  for (var p in props) {
    if (props[p].name === 'subdomain') {
      props[p].default = props[p].default + '.' + jitsu.config.get('username');
    }
  }
  jitsu.prompt.<span class="apidocCodeKeywordSpan">addProperties</span>(pkg, props, createPackage);
  return;
}
if (err) {
  jitsu.log.error('There was an error while checking app name / subdomain availability.');
  return callback(err);
} else if (!isAvailable.available) {
  // only appname is taken
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.confirm" id="apidoc.element.jitsu.prompt.confirm">
        function <span class="apidocSignatureSpan">jitsu.prompt.</span>confirm
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">confirm = function () {
  var args     = Array.prototype.slice.call(arguments),
      msg      = args.shift(),
      callback = args.pop(),
      opts     = args.shift(),
      vars     = !Array.isArray(msg) ? [msg] : msg,
      RX_Y     = /^[yt]{1}/i,
      RX_YN    = /^[yntf]{1}/i;

  function confirm(target, next) {
    var yes = target.yes || RX_Y,
      options = utile.mixin({
        description: typeof target === 'string' ? target : target.description||'yes/no',
        pattern: target.pattern || RX_YN,
        name: 'confirm',
        message: target.message || 'yes/no'
      }, opts || {});


    prompt.get([options], function (err, result) {
      next(err ? false : yes.test(result[options.name]));
    });
  }

  async.rejectSeries(vars, confirm, function(result) {
    callback(null, result.length===0);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  //
  policeDependencies(pkg);

  jitsu.inspect.putObject(pkg, 2);

  return jitsu.argv.release
    ? doWrite(null, true)
    : jitsu.prompt.<span class="apidocCodeKeywordSpan">confirm</span>('Is this ' + 'ok?'.green.bold, { default
: 'yes'}, doWrite);
};

//
// ### function analyzeDependencies (pkg, dir, callback)
// #### @pkg {Object} Parsed package.json to check dependencies for.
// #### @dir {string} Directory containing the package.json file.
// #### @callback {function} Continuation to respond to when complete.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.get" id="apidoc.element.jitsu.prompt.get">
        function <span class="apidocSignatureSpan">jitsu.prompt.</span>get
        <span class="apidocSignatureSpan">(schema, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (schema, callback) {
  //
  // Transforms a full JSON-schema into an array describing path and sub-schemas.
  // Used for iteration purposes.
  //
  function untangle(schema, path) {
    var results = [];
    path = path || [];

    if (schema.properties) {
      //
      // Iterate over the properties in the schema and use recursion
      // to process sub-properties.
      //
      Object.keys(schema.properties).forEach(function (key) {
        var obj = {};
        obj[key] = schema.properties[key];

        //
        // Concat a sub-untangling to the results.
        //
        results = results.concat(untangle(obj[key], path.concat(key)));
      });

      // Return the results.
      return results;
    }

    //
    // This is a schema "leaf".
    //
    return {
      path: path,
      schema: schema
    };
  }

  //
  // Iterate over the values in the schema, represented as
  // a legit single-property object subschemas. Accepts `schema`
  // of the forms:
  //
  //    'prop-name'
  //
  //    ['string-name', { path: ['or-well-formed-subschema'], properties: ... }]
  //
  //    { path: ['or-well-formed-subschema'], properties: ... ] }
  //
  //    { properties: { 'schema-with-no-path' } }
  //
  // And transforms them all into
  //
  //    { path: ['path', 'to', 'property'], properties: { path: { to: ...} } }
  //
  function iterate(schema, get, done) {
    var iterator = [],
        result = {};

    if (typeof schema === 'string') {
      //
      // We can iterate over a single string.
      //
      iterator.push({
        path: [schema],
        schema: prompt.properties[schema.toLowerCase()] || {}
      });
    }
    else if (Array.isArray(schema)) {
      //
      // An array of strings and/or single-prop schema and/or no-prop schema.
      //
      iterator = schema.map(function (element) {
        if (typeof element === 'string') {
          return {
            path: [element],
            schema: prompt.properties[element.toLowerCase()] || {}
          };
        }
        else if (element.properties) {
          return {
            path: [Object.keys(element.properties)[0]],
            schema: element.properties[Object.keys(element.properties)[0]]
          };
        }
        else if (element.path &amp;&amp; element.schema) {
          return element;
        }
        else {
          return {
            path: [element.name || 'question'],
            schema: element
          };
        }
      });
    }
    else if (schema.properties) {
      //
      // Or a complete schema `untangle` it for use.
      //
      iterator = untangle(schema);
    }
    else {
      //
      // Or a partial schema and path.
      // TODO: Evaluate need for this option.
      //
      iterator = [{
        schema: schema.schema ? schema.schema : schema,
        path: schema.path || [schema.name || 'question']
      }];
    }

    //
    // Now, iterate and assemble the result.
    //
    async.forEachSeries(iterator, function (branch, next) {
      get(branch, function assembler(err, line) {
        if (err) {
          return next(err);
        }

        function build(path, line) {
          var obj = {};
          if (path.length) {
            obj[path[0]] = build(path.slice(1), line);
            return obj;
          }

          return line;
        }

        function attach(obj, attr) {
          var keys;
          if (typeof attr !== 'object' || attr instanceof Array) {
            return attr;
          }

          keys = Object.keys(attr);
          if (keys.length) {
            if (!obj[keys[0]]) {
              obj[keys[0]] = {};
            }
            obj[keys[0]] = attach(obj[keys[0]], attr[keys[0]]);
          }

          return obj;
        }

        result = attach(result, build(branch.path, line));
        next();
      });
    }, function (err) {
      return err ? done(err) : done(null, result);
    });
  }

  iterate(schema, function get(target, next) {
    prompt.getInput(target, function (err, line) {
      return err ? next(err) : next(null, line);
    });
  }, callback);

  r ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// ### function welcome ()
// Print welcome message.
//
jitsu.welcome = function () {
//
// If a user is logged in, show username
//
var username = jitsu.config.<span class="apidocCodeKeywordSpan">get</span>('username') || '';

godaddy.notice(jitsu);

jitsu.log.info('Welcome to ' + 'Nodejitsu'.grey + ' ' + username.magenta);
jitsu.log.info('jitsu v' + jitsu.version + ', node ' + process.version);
jitsu.log.info('It worked if it ends with ' + 'Nodejitsu'.grey + ' ok'.green.bold);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.getInput" id="apidoc.element.jitsu.prompt.getInput">
        function <span class="apidocSignatureSpan">jitsu.prompt.</span>getInput
        <span class="apidocSignatureSpan">(prop, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getInput = function (prop, callback) {
  var schema = prop.schema || prop,
      propName = prop.path &amp;&amp; prop.path.join(':') || prop,
      storedSchema = prompt.properties[propName.toLowerCase()],
      delim = prompt.delimiter,
      defaultLine,
      against,
      hidden,
      length,
      valid,
      name,
      raw,
      msg;

  //
  // If there is a stored schema for `propName` in `propmpt.properties`
  // then use it.
  //
  if (schema instanceof Object &amp;&amp; !Object.keys(schema).length &amp;&amp;
    typeof storedSchema !== 'undefined') {
    schema = storedSchema;
  }

  //
  // Build a proper validation schema if we just have a string
  // and no `storedSchema`.
  //
  if (typeof prop === 'string' &amp;&amp; !storedSchema) {
    schema = {};
  }

  schema = convert(schema);
  defaultLine = schema.default;
  name = prop.description || schema.description || propName;
  raw = prompt.colors
    ? [prompt.message, delim + name.grey, delim.grey]
    : [prompt.message, delim + name, delim];

  prop = {
    schema: schema,
    path: propName.split(':')
  };

  //
  // If the schema has no `properties` value then set
  // it to an object containing the current schema
  // for `propName`.
  //
  if (!schema.properties) {
    schema = (function () {
      var obj = { properties: {} };
      obj.properties[propName] = schema;
      return obj;
    })();
  }

  //
  // Handle overrides here.
  // TODO: Make overrides nestable
  //
  if (prompt.override &amp;&amp; prompt.override[propName]) {
    if (prompt._performValidation(name, prop, prompt.override, schema, -1, callback)) {
      return callback(null, prompt.override[propName]);
    }

    delete prompt.override[propName];
  }

  var type = (schema.properties &amp;&amp; schema.properties[name] &amp;&amp;
              schema.properties[name].type || '').toLowerCase().trim(),
      wait = type === 'array';

  if (type === 'array') {
    length = prop.schema.maxItems;
    if (length) {
      msg = (tmp.length + 1).toString() + '/' + length.toString();
    }
    else {
      msg = (tmp.length + 1).toString();
    }
    msg += delim;
    raw.push(prompt.colors ? msg.grey : msg);
  }

  //
  // Calculate the raw length and colorize the prompt
  //
  length = raw.join('').length;
  raw[0] = raw[0];
  msg = raw.join('');

  if (schema.help) {
    schema.help.forEach(function (line) {
      logger.help(line);
    });
  }

  //
  // Emit a "prompting" event
  //
  prompt.emit('prompt', prop);

  //
  // If there is no default line, set it to an empty string
  //
  if(typeof defaultLine === 'undefined') {
    defaultLine = '';
  }

  //
  // set to string for readline ( will not accept Numbers )
  //
  defaultLine = defaultLine.toString();

  //
  // Make the actual read
  //
  read({
    prompt: msg,
    silent: prop.schema &amp;&amp; prop.schema.hidden,
    default: defaultLine,
    input: stdin,
    output: stdout
  }, function (err, line) {
    if (err &amp;&amp; wait === false) {
      return callback(err);
    }

    var against = {},
        numericInput,
        isValid;

    if (line !== '') {

      if (schema.properties[name]) {
        var type = (schema.properties[name].type || '').toLowerCase().trim() || undefined;

        //
        // Attempt to parse input as a float if the schema expects a number.
        //
        if (type == 'number') {
          numericInput = parseFloat(line, 10);
          if (!isNaN(numericInput)) {
            line = numericInput;
          }
        }

        //
        // Attempt to parse input as a boolean if the schema expects a boolean
        //
        if (type == 'boolean') {
          if(line === "true") {
            line = true;
          }
          if(line === "false") {
            line = false;
          }
        }

        //
        // If the type is an array, wait for the end. Fixes #54
        //
        if (type == 'array') {
          var length = prop.schema.maxItems;
          if (err) {
            if (err.message == 'canceled') {
              wait = false;
              stdout.write('\n');
            }
          }
          else {
            if (length) { ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.history" id="apidoc.element.jitsu.prompt.history">
        function <span class="apidocSignatureSpan">jitsu.prompt.</span>history
        <span class="apidocSignatureSpan">(search)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">history = function (search) {
  if (typeof search === 'number') {
    return history[search] || {};
  }

  var names = history.map(function (pair) {
    return typeof pair.property === 'string'
      ? pair.property
      : pair.property.name;
  });

  if (~names.indexOf(search)) {
    return null;
  }

  return history.filter(function (pair) {
    return typeof pair.property === 'string'
      ? pair.property === search
      : pair.property.name === search;
  })[0];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.pause" id="apidoc.element.jitsu.prompt.pause">
        function <span class="apidocSignatureSpan">jitsu.prompt.</span>pause
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pause = function () {
  if (!prompt.started || prompt.paused) {
    return;
  }

  stdin.pause();
  prompt.emit('pause');
  prompt.paused = true;
  return prompt;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * (C) 2012, Nodejitsu Inc.
 *
 */

module.exports = function (callback) {
var spawn = require('child_process').spawn;

process.stdin.<span class="apidocCodeKeywordSpan">pause</span>();

//
// TODO: Do some more searching here.
//
var ps = spawn('jitsu-ui', process.argv.slice(3), {
  cwd: process.cwd(),
  env: process.env,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.resume" id="apidoc.element.jitsu.prompt.resume">
        function <span class="apidocSignatureSpan">jitsu.prompt.</span>resume
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resume = function () {
  if (!prompt.started || !prompt.paused) {
    return;
  }

  stdin.resume();
  prompt.emit('resume');
  prompt.paused = false;
  return prompt;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  cwd: process.cwd(),
  env: process.env,
  setsid: false,
  customFds: [0, 1, 2]
});

ps.on('exit', function (code) {
  process.stdin.<span class="apidocCodeKeywordSpan">resume</span>();
  return callback();
});
};

module.exports.usage = [
'Runs jitsu-ui if installed.',
'',
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.start" id="apidoc.element.jitsu.prompt.start">
        function <span class="apidocSignatureSpan">jitsu.prompt.</span>start
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (options) {
  if (prompt.started) {
    return;
  }

  options = options        || {};
  stdin   = options.stdin  || process.stdin;
  stdout  = options.stdout || process.stdout;

  //
  // By default: Remember the last `10` prompt property /
  // answer pairs and don't allow empty responses globally.
  //
  prompt.memory     = options.memory     || 10;
  prompt.allowEmpty = options.allowEmpty || false;
  prompt.message    = options.message    || prompt.message;
  prompt.delimiter  = options.delimiter  || prompt.delimiter;
  prompt.colors     = options.colors     || prompt.colors;

  if (process.platform !== 'win32') {
    // windows falls apart trying to deal with SIGINT
    process.on('SIGINT', function () {
      stdout.write('\n');
      process.exit(1);
    });
  }

  prompt.emit('start');
  prompt.started = true;
  return prompt;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

require('../lib/jitsu/completion');

process.title = 'jitsu';

var jitsu = require('../lib/jitsu');

jitsu.<span class="apidocCodeKeywordSpan">start</span>(function (err) {
  if (!err) {
    jitsu.log.info('Nodejitsu'.grey + ' ok'.green.bold);
  }

  process.exit(err ? 1 : 0);
});
...</pre></li>
    </ul>


















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.prompt._events" id="apidoc.module.jitsu.prompt._events">module jitsu.prompt._events</a></h1>


    <h2>
        <a href="#apidoc.element.jitsu.prompt._events.invalid" id="apidoc.element.jitsu.prompt._events.invalid">
        function <span class="apidocSignatureSpan">jitsu.prompt._events.</span>invalid
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">invalid = function () {
  var args = Array.prototype.slice.call(arguments);
  self.emit.apply(self, [['prompt', ev]].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt._events.pause" id="apidoc.element.jitsu.prompt._events.pause">
        function <span class="apidocSignatureSpan">jitsu.prompt._events.</span>pause
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pause = function () {
  var args = Array.prototype.slice.call(arguments);
  self.emit.apply(self, [['prompt', ev]].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * (C) 2012, Nodejitsu Inc.
 *
 */

module.exports = function (callback) {
var spawn = require('child_process').spawn;

process.stdin.<span class="apidocCodeKeywordSpan">pause</span>();

//
// TODO: Do some more searching here.
//
var ps = spawn('jitsu-ui', process.argv.slice(3), {
  cwd: process.cwd(),
  env: process.env,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt._events.prompt" id="apidoc.element.jitsu.prompt._events.prompt">
        function <span class="apidocSignatureSpan">jitsu.prompt._events.</span>prompt
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prompt = function () {
  var args = Array.prototype.slice.call(arguments);
  self.emit.apply(self, [['prompt', ev]].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt._events.resume" id="apidoc.element.jitsu.prompt._events.resume">
        function <span class="apidocSignatureSpan">jitsu.prompt._events.</span>resume
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resume = function () {
  var args = Array.prototype.slice.call(arguments);
  self.emit.apply(self, [['prompt', ev]].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  cwd: process.cwd(),
  env: process.env,
  setsid: false,
  customFds: [0, 1, 2]
});

ps.on('exit', function (code) {
  process.stdin.<span class="apidocCodeKeywordSpan">resume</span>();
  return callback();
});
};

module.exports.usage = [
'Runs jitsu-ui if installed.',
'',
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt._events.start" id="apidoc.element.jitsu.prompt._events.start">
        function <span class="apidocSignatureSpan">jitsu.prompt._events.</span>start
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function () {
  var args = Array.prototype.slice.call(arguments);
  self.emit.apply(self, [['prompt', ev]].concat(args));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

require('../lib/jitsu/completion');

process.title = 'jitsu';

var jitsu = require('../lib/jitsu');

jitsu.<span class="apidocCodeKeywordSpan">start</span>(function (err) {
  if (!err) {
    jitsu.log.info('Nodejitsu'.grey + ' ok'.green.bold);
  }

  process.exit(err ? 1 : 0);
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.prompt.logger" id="apidoc.module.jitsu.prompt.logger">module jitsu.prompt.logger</a></h1>










    <h2>
        <a href="#apidoc.element.jitsu.prompt.logger.data" id="apidoc.element.jitsu.prompt.logger.data">
        function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>data
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">data = function (msg) {
  var args     = Array.prototype.slice.call(arguments),
      callback = typeof args[args.length - 1] === 'function' || !args[args.length - 1] ? args.pop() : null,
      meta     = args.length === 2 ? args.pop() : null;

  return target.log(level, msg, meta, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (err) return callback(err);

    if (endpoints) {
      jitsu.log.info('You can use one of the following providers');
      Object.keys(endpoints).forEach(function (provider) {
        var datacenters = endpoints[provider];
        Object.keys(datacenters).forEach(function (datacenter) {
          jitsu.log.<span class="apidocCodeKeywordSpan">data</span>('jitsu deploy ' + provider + ' ' + datacenter
);
        });
      });
    }

    return callback(new Error(), true);
  });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.logger.debug" id="apidoc.element.jitsu.prompt.logger.debug">
        function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>debug
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function (msg) {
  var args     = Array.prototype.slice.call(arguments),
      callback = typeof args[args.length - 1] === 'function' || !args[args.length - 1] ? args.pop() : null,
      meta     = args.length === 2 ? args.pop() : null;

  return target.log(level, msg, meta, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.logger.error" id="apidoc.element.jitsu.prompt.logger.error">
        function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>error
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function (msg) {
  var args     = Array.prototype.slice.call(arguments),
      callback = typeof args[args.length - 1] === 'function' || !args[args.length - 1] ? args.pop() : null,
      meta     = args.length === 2 ? args.pop() : null;

  return target.log(level, msg, meta, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
// ### function unknownError(message, stack)
// Displays an unknown error by dumping the call `stack`
// and a given `message`.
//
function unknownError(message, stack) {
  jitsu.log.<span class="apidocCodeKeywordSpan">error</span>(message);
  stack.split('\n').forEach(function (line) {
    jitsu.log.error(line);
  })
}

//
// ### function solenoidError(display)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.logger.help" id="apidoc.element.jitsu.prompt.logger.help">
        function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>help
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">help = function (msg) {
  var args     = Array.prototype.slice.call(arguments),
      callback = typeof args[args.length - 1] === 'function' || !args[args.length - 1] ? args.pop() : null,
      meta     = args.length === 2 ? args.pop() : null;

  return target.log(level, msg, meta, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return unknownError('Error returned from Nodejitsu:', err.result.stack);
  }
}
else {
  if (err.stack &amp;&amp; !shallow) {
    if (err.message &amp;&amp; err.message === 'socket hang up' &amp;&amp; err.code &amp;&amp; err.code === '
;ECONNRESET') {
      jitsu.log.info('The nodejitsu api reset the connection');
      jitsu.log.<span class="apidocCodeKeywordSpan">help</span>('This error may be due to the application or the drone server
');
    } else if (err.message &amp;&amp; err.message === 'ETIMEDOUT'){
      jitsu.log.info(
        'jitsu\'s client request timed out before the server ' +
        'could respond. Please increase your client timeout');
      jitsu.log.help('(Example: `jitsu config set timeout 480000`)');
      jitsu.log.help('This error may be due to network connection problems');
    } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.logger.info" id="apidoc.element.jitsu.prompt.logger.info">
        function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>info
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function (msg) {
  var args     = Array.prototype.slice.call(arguments),
      callback = typeof args[args.length - 1] === 'function' || !args[args.length - 1] ? args.pop() : null,
      meta     = args.length === 2 ? args.pop() : null;

  return target.log(level, msg, meta, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

process.title = 'jitsu';

var jitsu = require('../lib/jitsu');

jitsu.start(function (err) {
  if (!err) {
    jitsu.log.<span class="apidocCodeKeywordSpan">info</span>('Nodejitsu'.grey + ' ok'.green.bold);
  }

  process.exit(err ? 1 : 0);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.logger.input" id="apidoc.element.jitsu.prompt.logger.input">
        function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>input
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">input = function (msg) {
  var args     = Array.prototype.slice.call(arguments),
      callback = typeof args[args.length - 1] === 'function' || !args[args.length - 1] ? args.pop() : null,
      meta     = args.length === 2 ? args.pop() : null;

  return target.log(level, msg, meta, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.logger.prompt" id="apidoc.element.jitsu.prompt.logger.prompt">
        function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>prompt
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prompt = function (msg) {
  var args     = Array.prototype.slice.call(arguments),
      callback = typeof args[args.length - 1] === 'function' || !args[args.length - 1] ? args.pop() : null,
      meta     = args.length === 2 ? args.pop() : null;

  return target.log(level, msg, meta, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.logger.silly" id="apidoc.element.jitsu.prompt.logger.silly">
        function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>silly
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">silly = function (msg) {
  var args     = Array.prototype.slice.call(arguments),
      callback = typeof args[args.length - 1] === 'function' || !args[args.length - 1] ? args.pop() : null,
      meta     = args.length === 2 ? args.pop() : null;

  return target.log(level, msg, meta, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    version = version || pkg.version;
    jitsu.package.createTarball(process.cwd(), version, function (err, ign, filename) {
      if (err) {
return callback(err, true)
      }

      jitsu.log.info('Creating snapshot ' + version.grey);
      jitsu.log.<span class="apidocCodeKeywordSpan">silly</span>('Filename: ' + filename);

      fs.stat(filename, function (err, stat) {
var bar;

if (err) return callback(err);

// XXX Is 70mb enough? Please warning message
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.logger.verbose" id="apidoc.element.jitsu.prompt.logger.verbose">
        function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>verbose
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">verbose = function (msg) {
  var args     = Array.prototype.slice.call(arguments),
      callback = typeof args[args.length - 1] === 'function' || !args[args.length - 1] ? args.pop() : null,
      meta     = args.length === 2 ? args.pop() : null;

  return target.log(level, msg, meta, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jitsu.prompt.logger.warn" id="apidoc.element.jitsu.prompt.logger.warn">
        function <span class="apidocSignatureSpan">jitsu.prompt.logger.</span>warn
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function (msg) {
  var args     = Array.prototype.slice.call(arguments),
      callback = typeof args[args.length - 1] === 'function' || !args[args.length - 1] ? args.pop() : null,
      meta     = args.length === 2 ? args.pop() : null;

  return target.log(level, msg, meta, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

jitsu.welcome();

minor = process.version.split('.')[1];

if (parseInt(minor, 10) % 2) {
  jitsu.log.<span class="apidocCodeKeywordSpan">warn</span>('You are using unstable version of node.js. You may experience
problems.');
}

username = jitsu.config.get('username');
if (!username &amp;&amp; jitsu.config.get('requiresAuth').indexOf(jitsu.argv._[0]) !== -1) {
  return jitsu.commands.users.login(function (err) {
    if (err) {
      jitsu.showError(jitsu.argv._.join(' '), err);
...</pre></li>
    </ul>


























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jitsu.router" id="apidoc.module.jitsu.router">module jitsu.router</a></h1>












    <h2>
        <a href="#apidoc.element.jitsu.router.notfound" id="apidoc.element.jitsu.router.notfound">
        function <span class="apidocSignatureSpan">jitsu.router.</span>notfound
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">notfound = function (callback) {
  executeCommand(app.argv._.slice(), callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
















</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>